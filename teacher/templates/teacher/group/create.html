{% extends 'teacher/base.html' %}

{% load static %}

{% block apps %}
  {{ block.super }}

  <script
    src="{% static 'components/js/build/createStudentGroup.min.js' %}"
    defer="true">
  </script>

{% endblock %}

{% block injected_apps %}
  {{ block.super }}
  <div id="group-create-app"></div>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script nonce="{{ request.csp_nonce }}">
    window.addEventListener("load", function () {
      const studentGroupCreateApp = () => {
        return createStudentGroup.h(createStudentGroup.App, {
          gettext: gettext,
          nonce: "{{ request.csp_nonce }}",
          urls: {
            create: "{% url 'REST:teacher-group-list' %}",
          }
        });
      };
      createStudentGroup.render(
        studentGroupCreateApp(),
        document.getElementById("group-create-app")
      );
    });
  </script>
{% endblock %}
