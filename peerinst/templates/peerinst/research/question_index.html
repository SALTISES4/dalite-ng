{% extends 'peerinst/base.html' %}

{% load staticfiles compress i18n %}


{% block body %}
<main>
  <section>

<h4 id="title" class="mdc-typography--title bold">{% trans 'Questions in ' %}
    {% if discipline_title %}{{ discipline_title|safe }}{% elif assignment_id %}{{ assignment_id }}{% endif %}</h4>

<div class="admin-link">
  <a href="{% url 'research-index' %}">{% trans 'Back to List of Disciplines' %}</a>
  {% if assignment_id %}<span style="padding-left:0.3em;padding-right:0.5em;">|</span><a href="{% url 'question-list' assignment_id=assignment_id %}">{% trans 'Back to Assignment' %}</a>{% endif %}
<span style="padding-left:0.3em;padding-right:0.5em;">|</span> Total number of rationales scored by {{ annotator }}: {{ annotations_count }}
</div>

Below is a list of questions, and their answer choices. The numbers in the
brackets are meant to give you an idea of the state of the database as it stands right now.
The numbers are, in order:

<ul>
  <li>Total number of rationales that have been scored by you for this question</li>
  <li>Total number of rationales that have been scored by all teachers, including yourself</li>
  <li>Total number of rationales that there are for this question</li>
</ul>

These numbers are then broken down by answer choice below the Question ID. Click on the Answer Choice to add/update your scoring of the rationales.


  <ul>
    {% for item in questions %}
      <li id="{{ item.question.pk }}">({{ item.total_annotations_by_user }}/{{ item.total_annotations }}/{{ item.question.answer_set.count }}) - {{ item.question.title }}
      {% if discipline_title %}
          <a href="{% url 'research-all-annotations-for-question-by-discipline' discipline_title=discipline_title question_pk=item.question.pk %}">see all?</a>
      {% elif assignment_id %}
          <a href="{% url 'research-all-annotations-for-question-by-assignment' assignment_id=assignment_id question_pk=item.question.pk %}">see all?</a>
      {% endif %}
        <ul>
          <li>
            <ul>
              {% for answerchoice in item.answerchoices|dictsort:"answer_label" %}
                {% if discipline_title %}
                  <li><a href="{% url 'research-question-answer-list-by-discipline' discipline_title=discipline_title question_pk=item.question.pk answerchoice_value=answerchoice.answer_label|make_list|first %}">({{ answerchoice.annotation_count_by_user }}/{{ answerchoice.annotation_count }}/{{ answerchoice.frequency }}) - {{ answerchoice.answer_label|safe }}</a></li>
                {% elif assignment_id %}
                  <li><a href="{% url 'research-question-answer-list-by-assignment' assignment_id=assignment_id question_pk=item.question.pk answerchoice_value=answerchoice.answer_label|make_list|first %}">({{ answerchoice.annotation_count_by_user }}/{{ answerchoice.annotation_count }}/{{ answerchoice.frequency }}) - {{ answerchoice.answer_label|safe }}</a></li>
                {% endif %}
              {% endfor %}
            </ul>
          </li>
        </ul>
      </li>
    {% endfor %}
  </ul>

  </section>
  </main>
{% endblock %}
