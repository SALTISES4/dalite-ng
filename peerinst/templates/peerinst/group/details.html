{% extends 'peerinst/base.html' %}

{% load compress i18n %}

{% block stylesheets %}
{% endblock %}

{% block body %}
<main>
  <section>
    <h1 class="mdc-typography--display2">
      {% trans 'Group' %} 
      <i>{{ group.name }}</i>
      <svg class="underline" width=150 height=4></svg>
    </h1>
    <div class="admin-link">
      <a href="{% url 'teacher' teacher.id %}">{% trans 'Back to My Account' %}</a>
    </div>
    <div class="foldable">
      <h2 class="foldable--title mdc-typography--display1 mdc-theme--secondary">
        {% trans 'Details' %}
      </h2>
      <div class="foldable--body">
        <div id="group-details" data-group-update-url="{% url 'group-details-update' group.hash %}">
          <div>{% trans 'Name' %} :</div>
          <div>{{ group.name }}</div>
          <div>
              <i onclick="bundle.editField(event, 'text')" title="Edit" class="material-icons md-24 mdc-ripple-surface icon-list">edit</i>
          </div>
          <div>{% trans 'Title' %} :</div>
          <div>{{ group.title }}</div>
          <div>
              <i onclick="bundle.editField(event, 'text')" title="Edit" class="material-icons md-24 mdc-ripple-surface icon-list">edit</i>
          </div>
          <div>{% trans 'Created on' %} :</div>
          <div>{{ group.creation_date }}</div>
          <div>
              <i onclick="bundle.editField(event, 'datetime')" title="Edit" class="material-icons md-24 mdc-ripple-surface icon-list">edit</i>
          </div>
          <!-- TODO Only add teachers -->
          <div>{% trans 'Teachers with access' %} :</div>
          <div>
            <ul>
              {% for t in group.teacher.all %}
              <li>{{ t.user.username }}</li>
              {% endfor %}
            </ul>
          </div>
          <div>
              <i onclick="bundle.editField(event, 'textList')" title="Edit" class="material-icons md-24 mdc-ripple-surface icon-list">edit</i>
          </div>
        </div>
      </div>
    </div>
    <div class="foldable">
      <h2 class="foldable--title mdc-typography--display1 mdc-theme--secondary">
        {% trans 'Assignments' %}
      </h2>
      <div class="foldable--body">
        <ul class="mdc-list mdc-list--two-line mdc-list--non-interactive">
          <li class="mdc-list-divider" role="separator"></li>
          {% if assignments %}
          {% for a in assignments %}
          <li class="mdc-list-item">
            <a href="{% url 'group-assignment' a.hash %}" class="mdc-list-item__graphic mdc-theme--primary" style="cursor: pointer;">
              <i class="mdc-theme--primary material-icons md-48">work</i>
            </a>
            <a href="{% url 'group-assignment' a.hash %}" class="mdc-list-item__text mdc-theme--secondary bold" style="cursor: pointer;">
              {{ a.assignment.title }}
              <span class="mdc-list-item__secondary-text">
                {% trans "Due date: " %}{{ a.due_date }}
              </span>
            </a>
            <span class="mdc-list-item__meta">
              <a href="">
              <i class="material-icons md-24 mdc-ripple-surface icon-list">delete</i>
              </a>
              <a href="{% url 'group-assignment' a.hash %}">
              <i class="material-icons md-24 mdc-ripple-surface icon-list">edit</i>
              </a>
            </span>
          </li>
          <li class="mdc-list-divider" role="separator"></li>
          {% endfor %}
          {% else %}
          <div>{% trans "There aren't any assignments for event group yet" %}</div>
          <li class="mdc-list-divider" role="separator"></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </section>
</main>
{% endblock %}

{% block scripts %}
{% compress js inline %}
{% endcompress %}
{% endblock %}
