{"version":3,"file":"student.min.js","sources":["ajax.js","utils.js","_student/index.js","_student/header/notifications.js"],"sourcesContent":["\"use strict\";\n\nexport function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n\nexport function updateAssignmentQuestionList(\n  url,\n  questionId,\n  assignmentIdentifier,\n) {\n  const token = getCsrfToken();\n  const data = {\n    question_id: questionId,\n    assignment_identifier: assignmentIdentifier,\n  };\n  const req = {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": token,\n    },\n  };\n  fetch(url, req)\n    .then(function (resp) {\n      if (!resp.ok) {\n        console.log(resp);\n      } else {\n        // Manipulate DOM\n        const list = document.getElementById(\"question-list\");\n        const card = document.getElementById(questionId);\n        if ($.contains(list, card)) {\n          $(\"#\" + questionId).remove();\n        } else {\n          $(\"#\" + questionId)\n            .find($(\".update-questions-btn\"))\n            .html(\"delete\");\n          const q = $(\"#\" + questionId).detach();\n          q.appendTo($(\"#question-list\"));\n          $(\"#empty-assignment-list\").remove();\n          $(\".search-set\").each(function () {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count\")\n              .empty()\n              .append($(this).find(\".mdc-card:visible\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n          $(\".search-set\").each(function () {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count-total\")\n              .empty()\n              .append($(this).find(\".mdc-card\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n        }\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  use.setAttributeNS(\n    \"http://www.w3.org/1999/xlink\",\n    \"href\",\n    svgLink(name, useSprite),\n  );\n  svg.append(use);\n  return svg;\n}\n\nexport function svgLink(name: string, useSprite: boolean = true): string {\n  if (useSprite) {\n    return `#${name}`;\n  } else {\n    return (\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      \"/static/peerinst/icons.svg#\" +\n      name\n    );\n  }\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n\nexport function createElement(tag, text = \"\", attributes = {}) {\n  const elem = document.createElement(tag);\n  if (text) {\n    elem.textContent = text;\n  }\n  Object.entries(attributes).forEach(([key, val]) => {\n    elem.setAttribute(key, val);\n  });\n  return elem;\n}\n","import { buildReq } from \"../ajax.js\";\nimport { clear } from \"../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nlet model;\n\nfunction initModel(data) {\n  model = {\n    expiryBlinkingDelay: data.expiry_blinking_delay,\n    joiningGroup: false,\n    newStudent: data.new_student,\n    student: {\n      username: data.student.username,\n      email: data.student.email,\n      memberSince: new Date(data.student.member_since),\n      tos: {\n        sharing: data.student.tos.sharing,\n        signedOn: new Date(data.student.tos.signed_on),\n      },\n    },\n    groups: data.groups.map((group) => ({\n      connectedCourseUrl: group.connected_course_url,\n      name: group.name,\n      title: group.title,\n      notifications: group.notifications,\n      memberOf: group.member_of,\n      assignments: group.assignments.map((assignment) => ({\n        title: assignment.title,\n        dueDate: new Date(assignment.due_date),\n        link: assignment.link,\n        results: {\n          grade: assignment.results.grade,\n          n: assignment.results.n,\n        },\n        done: assignment.done,\n        almostExpired: assignment.almost_expired,\n      })),\n      studentId: group.student_id,\n      studentIdNeeded: group.student_id_needed,\n    })),\n    urls: {\n      tosModify: data.urls.tos_modify,\n      joinGroup: data.urls.join_group,\n      leaveGroup: data.urls.leave_group,\n      saveStudentId: data.urls.save_student_id,\n      studentToggleGroupnotifications:\n        data.urls.student_toggle_group_notifications,\n    },\n    translations: {\n      assignmentAboutToExpire: data.translations.assignment_about_to_expire,\n      assignmentExpired: data.translations.assignment_expired,\n      cancel: data.translations.cancel,\n      completed: data.translations.completed,\n      courseFlowButton: data.translations.course_flow_button,\n      day: data.translations.day,\n      days: data.translations.days,\n      dueOn: data.translations.due_on,\n      editStudentId: data.translations.edit_student_id,\n      expired: data.translations.expired,\n      goToAssignment: data.translations.go_to_assignment,\n      grade: data.translations.grade,\n      hour: data.translations.hour,\n      hours: data.translations.hours,\n      leave: data.translations.leave,\n      leaveGroupQuestion: data.translations.leave_group_question,\n      leaveGroupText: data.translations.leave_group_text,\n      leaveGroupTitle: data.translations.leave_group_title,\n      minute: data.translations.minute,\n      minutes: data.translations.minutes,\n      noAssignments: data.translations.no_assignments,\n      notificationsBell: data.translations.notifications_bell,\n      notSharing: data.translations.not_sharing,\n      sharing: data.translations.sharing,\n      studentId: data.translations.student_id,\n      studentIdNeeded: data.translations.student_id_needed,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction handleStudentIdKeyDown(key, group, node) {\n  if (key === \"Enter\") {\n    saveStudentId(group, node);\n  } else if (key === \"Escape\") {\n    stopEditStudentId(group, node);\n  }\n}\n\nfunction saveStudentId(group, node) {\n  const url = model.urls.saveStudentId;\n  const input = node.querySelector(\"input\");\n\n  const data = {\n    student_id: input.value,\n    group_name: group.name,\n  };\n\n  const req = buildReq(data, \"post\");\n  fetch(url, req)\n    .then((resp) => resp.json())\n    .then(function (data) {\n      group.studentId = data.student_id;\n      stopEditStudentId(group, node);\n    })\n    .catch(function (err) {\n      stopEditStudentId(group, node);\n      console.log(err);\n    });\n}\n\nfunction toggleGroupNotifications(group, bell) {\n  const url = model.urls.studentToggleGroupnotifications;\n  const data = {\n    group_name: group.name,\n  };\n  const req = buildReq(data, \"post\");\n  fetch(url, req)\n    .then((resp) => resp.json())\n    .then(function (data) {\n      group.notifications = data.notifications;\n      if (group.notifications) {\n        bell.textContent = \"notifications\";\n        bell.classList.remove(\"student-group--notifications__disabled\");\n      } else {\n        bell.textContent = \"notifications_off\";\n        bell.classList.add(\"student-group--notifications__disabled\");\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n}\n\nfunction leaveGroup(group, groupNode) {\n  const url = model.urls.leaveGroup;\n  const data = {\n    group_name: group.name,\n  };\n\n  const req = buildReq(data, \"post\");\n  fetch(url, req)\n    .then(function (resp) {\n      if (resp.ok) {\n        model.groups.filter((g) => g.name === group.name)[0].memberOf = false;\n        groupsView();\n      } else {\n        console.log(resp);\n      }\n    })\n    .catch((err) => console.log(err));\n}\n\nfunction copyStudentIdToClipboard(group, node) {\n  navigator.clipboard\n    .writeText(group.studentId)\n    .then(() => showCopyBubble(node));\n}\n\nexport function goToAssignment(\n  group: { studentId: string, studentIdNeeded: boolean, name: string },\n  assignment: { link: string },\n) {\n  if (!group.studentIdNeeded || group.studentId !== \"\") {\n    window.location = assignment.link;\n  } else {\n    toggleStudentIdNeededView(group);\n  }\n}\n\nexport function modifyTos() {\n  const url = model.urls.tosModify + \"?next=\" + window.location.href;\n  window.location.href = url;\n}\n\nexport function toggleJoinGroup() {\n  model.joiningGroup = !model.joiningGroup;\n  joinGroupView();\n}\n\nexport function handleJoinGroupLinkInput(event) {\n  if (event.key === \"Enter\") {\n    joinGroup();\n  } else {\n    if (event.currentTarget.value) {\n      joinGroupErrorView(\"\", false);\n    }\n    verifyJoinGroupDisabledStatus();\n  }\n}\n\nexport function joinGroup() {\n  const url = model.urls.joinGroup;\n  const input = document.querySelector(\"#student-add-group--box input\");\n  const select = document.querySelector(\"#student-add-group--box select\");\n\n  let data;\n  if (input.value) {\n    data = {\n      username: model.student.username,\n      group_link: input.value,\n    };\n  } else if (model.groups.some((group) => !group.memberOf)) {\n    data = {\n      username: model.student.username,\n      group_name: select.value,\n    };\n  } else {\n    joinGroupErrorView(\"A URL is needed.\", true);\n    return;\n  }\n\n  const req = buildReq(data, \"post\");\n  fetch(url, req)\n    .then((resp) => resp.json())\n    .then(function (group) {\n      input.value = \"\";\n      if (model.groups.some((g) => g.name === group.name)) {\n        model.groups.filter((g) => g.name === group.name)[0].memberOf =\n          group.member_of;\n      } else {\n        model.groups.push({\n          name: group.name,\n          title: group.title,\n          notifications: group.notifications,\n          memberOf: group.member_of,\n          assignments: group.assignments.map((assignment) => ({\n            title: assignment.title,\n            dueDate: new Date(assignment.due_date),\n            link: assignment.link,\n            results: {\n              n: assignment.results.n,\n              grade: assignment.results.grade,\n            },\n            done: assignment.done,\n            almostExpired: assignment.almost_expired,\n          })),\n          studentId: group.student_id,\n          studentIdNeeded: group.student_id_needed,\n        });\n      }\n      toggleJoinGroup();\n      groupsView();\n    })\n    .catch(function (err) {\n      joinGroupErrorView(\"There is no group with that link.\", true);\n    });\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(groupStudentId) {\n  identityView();\n  groupsView(groupStudentId);\n  joinGroupView();\n}\n\nfunction identityView() {\n  const emailSpan = document.getElementById(\"student-email\");\n  emailSpan.textContent = model.student.email;\n\n  const memberSinceSpan = document.getElementById(\"student-member-since\");\n  memberSinceSpan.textContent = model.student.memberSince.toLocaleString(\n    \"en-ca\",\n    {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    },\n  );\n\n  const tosSharingIcon = document.getElementById(\"student-tos-sharing--icon\");\n  const tosSharingSpan = document.getElementById(\n    \"student-tos-sharing--sharing\",\n  );\n  if (model.student.tos.sharing) {\n    tosSharingIcon.textContent = \"check\";\n    tosSharingSpan.textContent = model.translations.sharing;\n  } else {\n    tosSharingIcon.textContent = \"clear\";\n    tosSharingSpan.textContent = model.translations.notSharing;\n  }\n\n  const tosSignedOnSpan = document.getElementById(\"student-tos-signed-on\");\n  tosSignedOnSpan.textContent = model.student.tos.signedOn.toLocaleString(\n    \"en-ca\",\n    {\n      month: \"short\",\n      day: \"numeric\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    },\n  );\n}\n\nfunction joinGroupView() {\n  const box = document.getElementById(\"student-add-group--box\");\n  const input = document.querySelector(\"#student-add-group--box input\");\n  if (model.joiningGroup) {\n    joinGroupsSelectView();\n    box.style.display = \"flex\";\n  } else {\n    box.style.display = \"none\";\n    input.value = \"\";\n  }\n  joinGroupErrorView(\"\", false);\n}\n\nfunction joinGroupErrorView(msg: string, show: boolean) {\n  const error = document.getElementById(\"student-add-group__error\");\n  const input = document.querySelector(\"#student-add-group--box input\");\n  error.textContent = msg;\n  if (show) {\n    error.removeAttribute(\"hidden\");\n    input.classList.add(\"input--error\");\n  } else {\n    error.setAttribute(\"hidden\", \"\");\n    input.classList.remove(\"input--error\");\n  }\n}\n\nfunction joinGroupsSelectView() {\n  const groupsSelect = document.getElementById(\"student-old-groups\");\n  clear(groupsSelect);\n  const oldGroups = model.groups.filter((group) => !group.memberOf);\n  if (oldGroups.length) {\n    oldGroups.map((group) =>\n      groupsSelect.appendChild(joinGroupSelectView(group)),\n    );\n    groupsSelect.style.display = \"inline-block\";\n    verifyJoinGroupDisabledStatus();\n  } else {\n    groupsSelect.style.display = \"none\";\n  }\n}\n\nfunction joinGroupSelectView(group) {\n  const option = document.createElement(\"option\");\n  option.value = group.name;\n  option.textContent = group.title;\n  return option;\n}\n\nfunction verifyJoinGroupDisabledStatus() {\n  const input = document.querySelector(\"#student-add-group--box input\");\n  const select = document.querySelector(\"#student-add-group--box select\");\n\n  if (input.value) {\n    select.disabled = true;\n  } else {\n    select.disabled = false;\n  }\n}\n\nfunction groupsView(groupStudentId: string = \"\") {\n  const groups = document.getElementById(\"student-groups\");\n  clear(groups);\n  model.groups\n    .filter((group) => group.memberOf)\n    .map((group) => groups.appendChild(groupView(group)));\n  if (groupStudentId) {\n    for (let i = 0; i < model.groups.length; i++) {\n      if (model.groups[i].name == groupStudentId) {\n        toggleStudentIdNeededView(model.groups[i]);\n        break;\n      }\n    }\n  }\n}\n\nfunction groupView(group) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"student-group\");\n  div.setAttribute(\"data-group\", group.name);\n\n  div.appendChild(groupTitleView(group));\n  div.appendChild(groupAssignmentsView(group));\n\n  return div;\n}\n\nfunction groupTitleView(group) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"student-group--title\");\n\n  if (group.studentIdNeeded) {\n    div.appendChild(groupTitleIdView(group));\n  }\n\n  const title = document.createElement(\"h3\");\n  title.textContent = group.title;\n  div.appendChild(title);\n\n  const icons = document.createElement(\"div\");\n  icons.classList.add(\"student-group--icons\");\n  div.appendChild(icons);\n\n  if (group.connectedCourseUrl) {\n    const courseButtonContainer = document.createElement(\"div\");\n    courseButtonContainer.classList.add(\"student-group--course\");\n    icons.appendChild(courseButtonContainer);\n\n    const courseButton = document.createElement(\"i\");\n    courseButton.classList.add(\"material-icons\", \"md-28\");\n    courseButton.title = model.translations.courseFlowButton;\n    courseButton.addEventListener(\n      \"click\",\n      () => (window.location.href = group.connectedCourseUrl),\n    );\n    courseButton.classList.add(\"course-flow-button\");\n    courseButton.textContent = \"calendar_today\";\n    courseButtonContainer.appendChild(courseButton);\n  }\n\n  const notifications = document.createElement(\"div\");\n  notifications.classList.add(\"student-group--notifications\");\n  icons.appendChild(notifications);\n\n  const bell = document.createElement(\"i\");\n  bell.classList.add(\"material-icons\", \"md-28\");\n  bell.title = model.translations.notificationsBell;\n  bell.addEventListener(\"click\", () => toggleGroupNotifications(group, bell));\n  if (group.notifications) {\n    bell.textContent = \"notifications\";\n  } else {\n    bell.textContent = \"notifications_off\";\n    bell.classList.add(\"student-group--notifications__disabled\");\n  }\n  notifications.appendChild(bell);\n\n  icons.appendChild(leaveGroupView(group, div));\n\n  return div;\n}\n\nfunction groupTitleIdView(group) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"student-group--id\");\n\n  const copyIcon = document.createElement(\"i\");\n  copyIcon.classList.add(\"material-icons\", \"md-28\", \"student-group--id__copy\");\n  copyIcon.style.display = \"flex\";\n  copyIcon.textContent = \"file_copy\";\n  copyIcon.addEventListener(\"click\", () =>\n    copyStudentIdToClipboard(group, div),\n  );\n  div.appendChild(copyIcon);\n\n  const studentId = document.createElement(\"span\");\n  studentId.classList.add(\"student-group--id__id\");\n  studentId.style.display = \"inline-block\";\n  studentId.textContent = group.studentId;\n  studentId.title = model.translations.studentId;\n  studentId.addEventListener(\"click\", () => editStudentId(group, div));\n  div.appendChild(studentId);\n\n  const input = document.createElement(\"input\");\n  input.classList.add(\"student-group--id__input\");\n  input.value = group.schoolId;\n  input.style.display = \"none\";\n  input.addEventListener(\"keydown\", (event) =>\n    handleStudentIdKeyDown(event.key, group, div),\n  );\n  div.appendChild(input);\n\n  const editIcon = document.createElement(\"i\");\n  editIcon.classList.add(\"material-icons\", \"md-28\", \"student-group--id__edit\");\n  editIcon.style.display = \"flex\";\n  editIcon.textContent = \"edit\";\n  editIcon.title = model.translations.editStudentId;\n  editIcon.addEventListener(\"click\", () => editStudentId(group, div));\n  div.appendChild(editIcon);\n\n  const confirmIcon = document.createElement(\"i\");\n  confirmIcon.classList.add(\n    \"material-icons\",\n    \"md-28\",\n    \"student-group--id__confirm\",\n  );\n  confirmIcon.style.display = \"none\";\n  confirmIcon.textContent = \"check\";\n  confirmIcon.addEventListener(\"click\", () => saveStudentId(group, div));\n  div.appendChild(confirmIcon);\n\n  const cancelIcon = document.createElement(\"i\");\n  cancelIcon.classList.add(\n    \"material-icons\",\n    \"md-28\",\n    \"student-group--id__cancel\",\n  );\n  cancelIcon.style.display = \"none\";\n  cancelIcon.textContent = \"close\";\n  cancelIcon.addEventListener(\"click\", () => stopEditStudentId(group, div));\n  div.appendChild(cancelIcon);\n\n  return div;\n}\n\nfunction groupAssignmentsView(group) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"student-group--assignments\");\n  if (group.assignments.length) {\n    const ul = document.createElement(\"ul\");\n    group.assignments.map((assignment) =>\n      ul.appendChild(groupAssignmentView(assignment, group)),\n    );\n    div.appendChild(ul);\n  } else {\n    const span = document.createElement(\"span\");\n    span.classList.add(\"student-group--no-assignments\");\n    span.textContent = model.translations.noAssignments;\n    div.appendChild(span);\n  }\n  return div;\n}\n\nfunction groupAssignmentView(assignment, group) {\n  const a = document.createElement(\"a\");\n  a.href = assignment.link;\n\n  const li = document.createElement(\"li\");\n  li.classList.add(\"student-group--assignment\");\n  if (assignment.done) {\n    li.classList.add(\"student-group--assignment-complete\");\n  }\n  li.addEventListener(\"click\", (event: MouseEvent) =>\n    goToAssignment(group, assignment),\n  );\n\n  const almostExpiredMin = new Date(assignment.dueDate);\n  almostExpiredMin.setDate(\n    almostExpiredMin.getDate() - model.expiryBlinkingDelay,\n  );\n\n  const iconSpan = document.createElement(\"span\");\n  iconSpan.classList.add(\"student-group--assignment-icon\");\n  li.appendChild(iconSpan);\n  const icon = document.createElement(\"i\");\n  icon.classList.add(\"material-icons\", \"md-28\");\n  if (assignment.done) {\n    iconSpan.title = model.translations.goToAssignment;\n    icon.textContent = \"assignment_turned_in\";\n  } else if (assignment.dueDate <= new Date(Date.now())) {\n    iconSpan.title = model.translations.assignmentExpired;\n    icon.textContent = \"assignment_late\";\n  } else if (almostExpiredMin <= new Date(Date.now())) {\n    iconSpan.title = model.translations.assignmentAboutToExpire;\n    icon.textContent = \"assignment_late\";\n  } else {\n    iconSpan.title = model.translations.goToAssignment;\n    icon.textContent = \"assignment\";\n  }\n  iconSpan.appendChild(icon);\n\n  const gradeSpan = document.createElement(\"span\");\n  gradeSpan.classList.add(\"student-group--assignment-questions\");\n  gradeSpan.title = model.translations.grade;\n  li.appendChild(gradeSpan);\n  const grade = document.createElement(\"span\");\n  grade.textContent = assignment.results.grade;\n  gradeSpan.appendChild(grade);\n  const slash = document.createElement(\"span\");\n  slash.textContent = \"/\";\n  gradeSpan.appendChild(slash);\n  const n = document.createElement(\"span\");\n  n.textContent = assignment.results.n;\n  gradeSpan.appendChild(n);\n\n  const title = document.createElement(\"span\");\n  title.classList.add(\"student-group--assignment-title\");\n  title.title = model.translations.goToAssignment;\n  title.textContent = assignment.title;\n  li.appendChild(title);\n\n  const date = document.createElement(\"span\");\n  date.classList.add(\"student-group--assignment-date\");\n  if (assignment.done) {\n    date.removeAttribute(\"title\");\n    date.textContent = model.translations.completed;\n  } else if (assignment.dueDate <= new Date(Date.now())) {\n    date.title = model.translations.assignmentExpired;\n    date.textContent = model.translations.expired;\n  } else {\n    date.title =\n      model.translations.dueOn +\n      \" \" +\n      assignment.dueDate.toLocaleString(\"en-ca\", {\n        month: \"short\",\n        day: \"numeric\",\n        year: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      });\n    const dateIcon = document.createElement(\"i\");\n    dateIcon.classList.add(\"material-icons\", \"md-18\");\n    dateIcon.textContent = \"access_time\";\n    date.appendChild(dateIcon);\n    const remainingTimeSpan = document.createElement(\"span\");\n    remainingTimeSpan.textContent = timeuntil(\n      assignment.dueDate,\n      new Date(Date.now()),\n    );\n    date.appendChild(remainingTimeSpan);\n    if (almostExpiredMin <= new Date(Date.now())) {\n      dateIcon.classList.add(\"blinking\");\n    }\n  }\n  li.appendChild(date);\n  return li;\n}\n\nfunction leaveGroupView(group, groupNode) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"student-group--remove\");\n  div.title = model.translations.leaveGroupTitle;\n\n  const icon = document.createElement(\"i\");\n  icon.classList.add(\"material-icons\", \"md-28\");\n  icon.addEventListener(\"click\", () => toggleLeaveGroup(groupNode));\n  icon.textContent = \"remove_circle_outline\";\n  div.appendChild(icon);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"student-group--remove-confirmation-box\");\n  box.style.display = \"none\";\n  box.addEventListener(\"click\", function (event: MouseEvent) {\n    event.stopPropagation;\n    toggleLeaveGroup(groupNode);\n  });\n  div.appendChild(box);\n\n  const boxDiv = document.createElement(\"div\");\n  boxDiv.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  box.appendChild(boxDiv);\n\n  const title = document.createElement(\"h3\");\n  title.textContent = model.translations.leaveGroupTitle + \" \" + group.title;\n  boxDiv.appendChild(title);\n\n  const text = document.createElement(\"p\");\n  text.textContent = model.translations.leaveGroupText;\n  boxDiv.appendChild(text);\n\n  const question = document.createElement(\"p\");\n  question.textContent = model.translations.leaveGroupQuestion;\n  boxDiv.appendChild(question);\n\n  const leave = document.createElement(\"button\");\n  leave.classList.add(\"mdc-button\", \"mdc-button--unelevated\");\n  leave.addEventListener(\"click\", () => leaveGroup(group, groupNode));\n  leave.textContent = model.translations.leave;\n  boxDiv.appendChild(leave);\n\n  const cancel = document.createElement(\"button\");\n  cancel.classList.add(\"mdc-button\");\n  cancel.addEventListener(\"click\", () => toggleLeaveGroup(groupNode));\n  cancel.textContent = model.translations.cancel;\n  boxDiv.appendChild(cancel);\n\n  return div;\n}\n\nfunction editStudentId(group, node) {\n  const span = node.querySelector(\".student-group--id__id\");\n  const input = node.querySelector(\".student-group--id__input\");\n  const copyBtn = node.querySelector(\".student-group--id__copy\");\n  const editBtn = node.querySelector(\".student-group--id__edit\");\n  const confirmBtn = node.querySelector(\".student-group--id__confirm\");\n  const cancelBtn = node.querySelector(\".student-group--id__cancel\");\n\n  input.value = group.studentId;\n\n  span.style.display = \"none\";\n  copyBtn.style.display = \"none\";\n  editBtn.style.display = \"none\";\n  input.style.display = \"inline-block\";\n  confirmBtn.style.display = \"flex\";\n  cancelBtn.style.display = \"flex\";\n\n  input.focus();\n  toggleStudentIdNeededView(group);\n}\n\nfunction stopEditStudentId(group, node) {\n  const span = node.querySelector(\"span\");\n  const input = node.querySelector(\"input\");\n  const copyBtn = node.querySelector(\".student-group--id__copy\");\n  const editBtn = node.querySelector(\".student-group--id__edit\");\n  const confirmBtn = node.querySelector(\".student-group--id__confirm\");\n  const cancelBtn = node.querySelector(\".student-group--id__cancel\");\n\n  span.textContent = group.studentId;\n\n  span.style.display = \"inline-block\";\n  copyBtn.style.display = \"flex\";\n  editBtn.style.display = \"flex\";\n  input.style.display = \"none\";\n  confirmBtn.style.display = \"none\";\n  cancelBtn.style.display = \"none\";\n}\n\nfunction toggleStudentIdNeededView(group) {\n  const node = document.querySelector(\n    `.student-group[data-group='${group.name}'] .student-group--id`,\n  );\n  if (\n    node.querySelector(\".student-group--id__input\")?.style.display === \"none\"\n  ) {\n    const alert = document.createElement(\"div\");\n    alert.classList.add(\"student-group--id__alert\");\n    alert.textContent = model.translations.studentIdNeeded;\n    node.appendChild(alert);\n    alert.scrollIntoView(true);\n  } else {\n    const alert = node.querySelector(\".student-group--id__alert\");\n    alert?.parentNode.removeChild(alert);\n  }\n}\n\nfunction toggleLeaveGroup(node) {\n  const box = node.querySelector(\".student-group--remove-confirmation-box\");\n  if (box.style.display == \"none\") {\n    box.style.display = \"flex\";\n  } else {\n    box.style.display = \"none\";\n  }\n}\n\nfunction showCopyBubble(node) {\n  const bubble = document.createElement(\"div\");\n  bubble.classList.add(\"bubble\");\n  bubble.textContent = \"Copied to clipboard!\";\n  node.appendChild(bubble);\n\n  setTimeout(() => node.removeChild(bubble), 600);\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners() {\n  addLinkListeners();\n  addJoinGroupListeners();\n}\n\nfunction addLinkListeners() {\n  document\n    .getElementById(\"edit-user-btn\")\n    .addEventListener(\"click\", function () {\n      edit_user();\n    });\n  document\n    .getElementById(\"modify-tos-btn\")\n    .addEventListener(\"click\", function () {\n      modifyTos();\n    });\n}\n\nfunction addJoinGroupListeners() {\n  document\n    .querySelector(\"#student-add-group .admin-link\")\n    .addEventListener(\"click\", function () {\n      toggleJoinGroup();\n    });\n  document\n    .getElementById(\"student-add-group--box\")\n    .addEventListener(\"click\", function () {\n      event.stopPropagation;\n    });\n  document\n    .querySelector(\"#student-add-group--box > div\")\n    .addEventListener(\"click\", function () {\n      event.stopPropagation;\n    });\n  document\n    .querySelector(\"#student-add-group--box input[name='new-group']\")\n    .addEventListener(\"keyup\", function (event) {\n      handleJoinGroupLinkInput(event);\n    });\n  document\n    .getElementById(\"join-group-btn\")\n    .addEventListener(\"click\", function () {\n      joinGroup();\n    });\n  document\n    .getElementById(\"cancel-join-group-btn\")\n    .addEventListener(\"click\", function () {\n      toggleJoinGroup();\n    });\n}\n\n/*********/\n/* utils */\n/*********/\n\nfunction timeuntil(date1, date2) {\n  let diff = date1 - date2;\n  const diffDays = Math.floor(diff / 1000 / 60 / 60 / 24);\n  diff = diff - diffDays * 24 * 60 * 60 * 1000;\n  const diffHours = Math.floor(diff / 1000 / 60 / 60);\n  diff = diff - diffHours * 60 * 60 * 1000;\n  const diffMinutes = Math.floor(diff / 1000 / 60);\n  let diff_ = \"\";\n  if (diffDays > 1) {\n    diff_ = diff_ + parseInt(diffDays) + \" \" + model.translations.days + \", \";\n  } else if (diffDays === 1) {\n    diff_ = diff_ + parseInt(diffDays) + \" \" + model.translations.day + \", \";\n  }\n  if (diffHours === 1) {\n    diff_ = diff_ + parseInt(diffHours) + \" \" + model.translations.hour + \", \";\n  } else if (diffHours > 1 || diffDays) {\n    diff_ =\n      diff_ + parseInt(diffHours) + \" \" + model.translations.hours + \", \";\n  }\n  if (diffMinutes === 1) {\n    diff_ = diff_ + parseInt(diffMinutes) + \" \" + model.translations.minute;\n  } else {\n    diff_ = diff_ + parseInt(diffMinutes) + \" \" + model.translations.minutes;\n  }\n  return diff_;\n}\n\n/********/\n/* init */\n/********/\n\nexport function initStudentPage(data, groupStudentId = \"\") {\n  initModel(data);\n  view(groupStudentId);\n  initListeners();\n}\n","import { buildReq } from \"../../ajax.js\";\nimport { clear } from \"../../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nlet model;\n\nfunction initModel(data) {\n  model = {\n    notificationsOpen: false,\n    notifications: data.notifications,\n    urls: {\n      studentPage: data.urls.student_page,\n      removeNotification: data.urls.remove_notification,\n      removeNotifications: data.urls.remove_notifications,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction toggleNotifications() {\n  const header = document.querySelector(\".notifications\");\n  document.querySelectorAll(\".header--togglable > *\").forEach((header_) => {\n    if (header_ != header && header_.hasAttribute(\"open\")) {\n      if (header_.shadowRoot) {\n        header_.shadowRoot\n          .querySelector(\".header__icon\")\n          .dispatchEvent(new Event(\"click\"));\n      } else {\n        header_\n          .querySelector(\".header__icon\")\n          .dispatchEvent(new Event(\"click\"));\n      }\n    }\n  });\n  model.notificationsOpen = !model.notificationsOpen;\n  notificationsView();\n}\n\nfunction markNotificationRead(notification) {\n  const url = model.urls.removeNotification;\n  const data = {\n    notification_pk: notification.pk,\n  };\n  const req = buildReq(data, \"post\");\n  fetch(url, req)\n    .then((resp) => resp.text())\n    .then((groupName) => {\n      if (groupName) {\n        window.location =\n          model.urls.studentPage + \"?group-student-id-needed=\" + groupName;\n      } else if (notification.link) {\n        window.location = notification.link;\n      } else {\n        model.notifications.splice(\n          model.notifications.indexOf(notification),\n          1,\n        );\n        notificationsView();\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n}\n\nfunction markAllNotificationsRead() {\n  const url = model.urls.removeNotifications;\n  const req = buildReq({}, \"post\");\n  fetch(url, req)\n    .then(function (resp) {\n      if (resp.ok) {\n        model.notifications = [];\n        notificationsView();\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n}\n\n/********/\n/* view */\n/********/\n\nfunction view() {\n  notificationsView();\n}\n\nfunction notificationsView() {\n  const notifications = document.querySelector(\".notifications\");\n  const badge = notifications.querySelector(\".notifications__icon__badge\");\n  const notificationsList = notifications.querySelector(\n    \".notifications__notifications\",\n  );\n\n  if (model.notifications.length) {\n    badge.textContent = model.notifications.length;\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n\n  clear(notificationsList);\n  if (model.notifications.length) {\n    model.notifications.map(function (notification) {\n      notificationsList.appendChild(notificationView(notification));\n    });\n  } else {\n    notificationsList.appendChild(noNotificationView());\n  }\n\n  if (model.notificationsOpen) {\n    notifications.setAttribute(\"open\", \"\");\n    notifications.classList.add(\"notifications--open\");\n  } else {\n    notifications.removeAttribute(\"open\");\n    notifications.classList.remove(\"notifications--open\");\n  }\n}\n\nfunction notificationView(notification) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"notification\");\n  div.textContent = notification.text;\n  div.addEventListener(\"click\", () => markNotificationRead(notification));\n  return div;\n}\n\nfunction noNotificationView() {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"notifications__no-new\");\n  div.textContent = \"No new notifications\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners() {\n  addNotificationsOpenListener();\n  addAllNotificationsReadListener();\n}\n\nfunction addNotificationsOpenListener() {\n  document\n    .querySelector(\".notifications\")\n    ?.addEventListener(\"click\", function (event) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".notifications__icon\")\n    ?.addEventListener(\"click\", function (event) {\n      toggleNotifications();\n    });\n  document.body.addEventListener(\"click\", function (event) {\n    if (model.notificationsOpen) {\n      toggleNotifications();\n    }\n  });\n}\n\nfunction addAllNotificationsReadListener() {\n  document\n    .querySelector(\".notifications__read-all-btn\")\n    ?.addEventListener(\"click\", markAllNotificationsRead);\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(url) {\n  if (document.querySelector(\".notifications\")) {\n    const req = buildReq(null, \"get\");\n    fetch(url, req)\n      .then((resp) => resp.json())\n      .then(function (data) {\n        initModel(data);\n        initListeners();\n        view();\n      })\n      .catch((err) => console.log(err));\n  }\n}\n"],"names":["getCsrfToken","document","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","clear","node","hasChildNodes","removeChild","lastChild","model","saveStudentId","group","url","urls","req","student_id","querySelector","value","group_name","name","fetch","then","resp","json","studentId","stopEditStudentId","catch","err","console","log","copyStudentIdToClipboard","navigator","clipboard","writeText","bubble","createElement","classList","add","textContent","appendChild","setTimeout","showCopyBubble","modifyTos","tosModify","window","location","href","toggleJoinGroup","joiningGroup","joinGroupView","handleJoinGroupLinkInput","event","key","joinGroup","currentTarget","joinGroupErrorView","verifyJoinGroupDisabledStatus","input","select","username","student","group_link","groups","some","memberOf","g","filter","member_of","push","title","notifications","assignments","map","assignment","dueDate","Date","due_date","link","results","n","grade","done","almostExpired","almost_expired","studentIdNeeded","student_id_needed","groupsView","view","groupStudentId","getElementById","email","memberSince","toLocaleString","month","day","year","hour","minute","tosSharingIcon","tosSharingSpan","tos","sharing","translations","notSharing","signedOn","identityView","box","groupsSelect","oldGroups","length","option","joinGroupSelectView","style","display","joinGroupsSelectView","msg","show","error","removeAttribute","setAttribute","remove","disabled","div","copyIcon","addEventListener","editStudentId","schoolId","handleStudentIdKeyDown","editIcon","confirmIcon","cancelIcon","groupTitleIdView","icons","connectedCourseUrl","courseButtonContainer","courseButton","courseFlowButton","bell","notificationsBell","studentToggleGroupnotifications","toggleGroupNotifications","groupNode","leaveGroupTitle","icon","toggleLeaveGroup","stopPropagation","boxDiv","text","leaveGroupText","question","leaveGroupQuestion","leave","leaveGroup","ok","cancel","leaveGroupView","groupTitleView","ul","li","toggleStudentIdNeededView","goToAssignment","almostExpiredMin","setDate","getDate","expiryBlinkingDelay","iconSpan","now","assignmentExpired","assignmentAboutToExpire","gradeSpan","slash","date","completed","expired","dueOn","dateIcon","remainingTimeSpan","date1","date2","diff","diffDays","Math","floor","diffHours","diffMinutes","diff_","parseInt","days","hours","minutes","timeuntil","groupAssignmentView","span","noAssignments","groupAssignmentsView","groupView","i","copyBtn","editBtn","confirmBtn","cancelBtn","focus","alert","scrollIntoView","parentNode","initListeners","edit_user","toggleNotifications","header","querySelectorAll","forEach","header_","hasAttribute","shadowRoot","dispatchEvent","Event","notificationsOpen","notificationsView","markAllNotificationsRead","removeNotifications","badge","notificationsList","notification","removeNotification","notification_pk","pk","groupName","studentPage","splice","indexOf","markNotificationRead","notificationView","noNotificationView","student_page","remove_notification","remove_notifications","initModel","expiry_blinking_delay","newStudent","new_student","member_since","signed_on","connected_course_url","tos_modify","join_group","leave_group","save_student_id","student_toggle_group_notifications","assignment_about_to_expire","assignment_expired","course_flow_button","due_on","edit_student_id","go_to_assignment","leave_group_question","leave_group_text","leave_group_title","no_assignments","notifications_bell","not_sharing"],"mappings":"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"}