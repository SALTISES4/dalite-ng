{"version":3,"file":"question.min.js","sources":["peerinst/static/peerinst/js/_question/base.js","peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/utils.js","peerinst/static/peerinst/js/_question/start.js","peerinst/static/peerinst/js/_question/review.js","peerinst/static/peerinst/js/question.js"],"sourcesContent":["export function submitForm() {\n  document.querySelector(\"#submit-answer-form\").submit();\n}\n","\"use strict\";\n\nexport function getCsrfToken() {\n  console.log(\n    document.getElementsByName(\"csrfmiddlewaretoken\")[0].getAttribute(\"value\"),\n  );\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n\nexport function updateAssignmentQuestionList(\n  url,\n  questionId,\n  assignmentIdentifier,\n) {\n  const token = getCsrfToken();\n  const data = {\n    question_id: questionId,\n    assignment_identifier: assignmentIdentifier,\n  };\n  const req = {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": token,\n    },\n  };\n  fetch(url, req)\n    .then(function(resp) {\n      if (!resp.ok) {\n        console.log(resp);\n      } else {\n        // Manipulate DOM\n        const list = document.getElementById(\"question-list\");\n        const card = document.getElementById(questionId);\n        if ($.contains(list, card)) {\n          $(\"#\" + questionId).remove();\n        } else {\n          $(\"#\" + questionId)\n            .find($(\".update-questions-btn\"))\n            .html(\"delete\");\n          const q = $(\"#\" + questionId).detach();\n          q.appendTo($(\"#question-list\"));\n          $(\"#empty-assignment-list\").remove();\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count\")\n              .empty()\n              .append($(this).find(\".mdc-card:visible\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count-total\")\n              .empty()\n              .append($(this).find(\".mdc-card\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n        }\n      }\n    })\n    .catch(function(err) {\n      console.log(err);\n    });\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  use.setAttributeNS(\n    \"http://www.w3.org/1999/xlink\",\n    \"href\",\n    svgLink(name, useSprite),\n  );\n  svg.append(use);\n  return svg;\n}\n\nexport function svgLink(name: string, useSprite: boolean = true): string {\n  if (useSprite) {\n    return `#${name}`;\n  } else {\n    return (\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      \"/static/peerinst/icons.svg#\" +\n      name\n    );\n  }\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n\nexport function createElement(tag, text = \"\", attributes = {}) {\n  const elem = document.createElement(tag);\n  if (text) {\n    elem.textContent = text;\n  }\n  Object.entries(attributes).forEach(([key, val]) => {\n    elem.setAttribute(key, val);\n  });\n  return elem;\n}\n","import { buildReq } from \"../ajax.js\";\nimport { clear } from \"../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nlet model;\n\nfunction initModel(submitUrl, quality) {\n  model = {\n    urls: {\n      submitUrl: submitUrl,\n    },\n    quality: quality,\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction validateFormSubmit(event) {\n  if (!document.getElementById(\"your-rationale\")) {\n    event.preventDefault();\n    const data = {\n      quality: model.quality,\n      rationale: document.querySelector(\"#id_rationale\").value,\n    };\n\n    const req = buildReq(data, \"post\");\n    fetch(model.urls.submitUrl, req)\n      .then(resp => resp.json())\n      //.then(res => res.text())\n      //.then(text => console.log(text));\n      .then(failed => {\n        if (failed.failed.length) {\n          toggleQualityError(failed.failed, failed.error_msg);\n          document.querySelector(\"#answer-form\").disabled = false;\n        } else {\n          toggleQualityError();\n          document.querySelector(\"#answer-form\").disabled = true;\n          document.querySelector(\"#submit-answer-form\").submit();\n        }\n      })\n      .catch(err => console.log(err));\n  }\n}\n\n/********/\n/* view */\n/********/\n\nfunction toggleQualityError(data, errorMsg) {\n  if (data) {\n    const form = document.querySelector(\"#submit-answer-form\");\n\n    let div = document.querySelector(\".errorlist\");\n    if (!div) {\n      div = document.createElement(\"div\");\n    }\n    clear(div);\n\n    div.classList.add(\"errorlist\");\n    div.textContent = errorMsg;\n\n    const ul = document.createElement(\"ul\");\n    div.append(ul);\n    data.forEach(criterion => {\n      const li = document.createElement(\"li\");\n      li.textContent = criterion.name;\n      li.title = criterion.description;\n      ul.append(li);\n    });\n\n    form.parentNode.insertBefore(div, form);\n  } else {\n    const err = document.querySelector(\"errorlist\");\n    if (err) {\n      err.parentNode.removeChild(err);\n    }\n  }\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners() {\n  addSubmitListener();\n}\n\nfunction addSubmitListener() {\n  const input = document.getElementById(\"answer-form\");\n  if (input) {\n    input.addEventListener(\"click\", event => {\n      validateFormSubmit(event);\n    });\n  }\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(submitUrl, quality) {\n  initModel(submitUrl, quality);\n  initListeners();\n}\n","// @flow\n\n/*********/\n/* model */\n/*********/\n\nlet model: {\n  submitAllowed: boolean,\n};\n\nfunction initModel() {\n  model = {\n    submitAllowed: false,\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction startSubmitAllowedTimer(seconds: number) {\n  setInterval(allowSubmit, seconds * 1000);\n}\n\nfunction allowSubmit() {\n  model.submitAllowed = true;\n  submitButtonView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view() {\n  submitButtonView();\n}\n\nfunction submitButtonView() {\n  if (model.submitAllowed) {\n    // $FlowFixMe\n    document.getElementById(\"answer-form\").disabled = false;\n  } else {\n    // $FlowFixMe\n    document.getElementById(\"answer-form\").disabled = true;\n  }\n}\n\n/********/\n/* init */\n/********/\n\nexport function init() {\n  initModel();\n  view();\n  startSubmitAllowedTimer(5);\n}\n","\"use strict\";\n\nexport { submitForm } from \"./_question/base.js\";\n\nexport { init as initStart } from \"./_question/start.js\";\n\nexport { init as initReview } from \"./_question/review.js\";\n"],"names":["submitForm","document","querySelector","submit","getCsrfToken","console","log","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","clear","node","hasChildNodes","removeChild","lastChild","model","initModel","submitUrl","quality","urls","validateFormSubmit","event","getElementById","preventDefault","rationale","value","req","fetch","then","resp","json","failed","length","toggleQualityError","error_msg","disabled","catch","err","errorMsg","form","div","createElement","classList","add","textContent","ul","append","forEach","criterion","li","name","title","description","parentNode","insertBefore","initListeners","addSubmitListener","input","addEventListener","init","submitAllowed","startSubmitAllowedTimer","seconds","setInterval","allowSubmit","submitButtonView","view"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnRodXJheWVzdGFzaGlsZ2VydC9EZXNrdG9wL0RldmVsb3BtZW50L215ZGFsaXRlIHByb2plY3QvZGFsaXRlLW5nL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fcXVlc3Rpb24vYmFzZS5qcyIsIi9Vc2Vycy9hcnRodXJheWVzdGFzaGlsZ2VydC9EZXNrdG9wL0RldmVsb3BtZW50L215ZGFsaXRlIHByb2plY3QvZGFsaXRlLW5nL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9hamF4LmpzIiwiL1VzZXJzL2FydGh1cmF5ZXN0YXNoaWxnZXJ0L0Rlc2t0b3AvRGV2ZWxvcG1lbnQvbXlkYWxpdGUgcHJvamVjdC9kYWxpdGUtbmcvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL3V0aWxzLmpzIiwiL1VzZXJzL2FydGh1cmF5ZXN0YXNoaWxnZXJ0L0Rlc2t0b3AvRGV2ZWxvcG1lbnQvbXlkYWxpdGUgcHJvamVjdC9kYWxpdGUtbmcvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL19xdWVzdGlvbi9zdGFydC5qcyIsIi9Vc2Vycy9hcnRodXJheWVzdGFzaGlsZ2VydC9EZXNrdG9wL0RldmVsb3BtZW50L215ZGFsaXRlIHByb2plY3QvZGFsaXRlLW5nL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fcXVlc3Rpb24vcmV2aWV3LmpzIiwiL1VzZXJzL2FydGh1cmF5ZXN0YXNoaWxnZXJ0L0Rlc2t0b3AvRGV2ZWxvcG1lbnQvbXlkYWxpdGUgcHJvamVjdC9kYWxpdGUtbmcvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL3F1ZXN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzdWJtaXRGb3JtKCkge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1hbnN3ZXItZm9ybVwiKS5zdWJtaXQoKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3NyZlRva2VuKCkge1xuICBjb25zb2xlLmxvZyhcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcImNzcmZtaWRkbGV3YXJldG9rZW5cIilbMF0uZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksXG4gICk7XG4gIHJldHVybiBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50c0J5TmFtZShcImNzcmZtaWRkbGV3YXJldG9rZW5cIilbMF1cbiAgICAuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJlcShkYXRhLCBtZXRob2QpIHtcbiAgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IGdldENzcmZUb2tlbigpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcInBvc3RcIikge1xuICAgIGNvbnN0IGJvZHkgPSBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE1ldGhvZCAke21ldGhvZH0gbm90IGltcGxlbWVudGVkIHlldC5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXNzaWdubWVudFF1ZXN0aW9uTGlzdChcbiAgdXJsLFxuICBxdWVzdGlvbklkLFxuICBhc3NpZ25tZW50SWRlbnRpZmllcixcbikge1xuICBjb25zdCB0b2tlbiA9IGdldENzcmZUb2tlbigpO1xuICBjb25zdCBkYXRhID0ge1xuICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbklkLFxuICAgIGFzc2lnbm1lbnRfaWRlbnRpZmllcjogYXNzaWdubWVudElkZW50aWZpZXIsXG4gIH07XG4gIGNvbnN0IHJlcSA9IHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiWC1DU1JGVG9rZW5cIjogdG9rZW4sXG4gICAgfSxcbiAgfTtcbiAgZmV0Y2godXJsLCByZXEpXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWFuaXB1bGF0ZSBET01cbiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb24tbGlzdFwiKTtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHF1ZXN0aW9uSWQpO1xuICAgICAgICBpZiAoJC5jb250YWlucyhsaXN0LCBjYXJkKSkge1xuICAgICAgICAgICQoXCIjXCIgKyBxdWVzdGlvbklkKS5yZW1vdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKFwiI1wiICsgcXVlc3Rpb25JZClcbiAgICAgICAgICAgIC5maW5kKCQoXCIudXBkYXRlLXF1ZXN0aW9ucy1idG5cIikpXG4gICAgICAgICAgICAuaHRtbChcImRlbGV0ZVwiKTtcbiAgICAgICAgICBjb25zdCBxID0gJChcIiNcIiArIHF1ZXN0aW9uSWQpLmRldGFjaCgpO1xuICAgICAgICAgIHEuYXBwZW5kVG8oJChcIiNxdWVzdGlvbi1saXN0XCIpKTtcbiAgICAgICAgICAkKFwiI2VtcHR5LWFzc2lnbm1lbnQtbGlzdFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAkKFwiLnNlYXJjaC1zZXRcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgICAgICAgICAgICAgLmZpbmQoXCIuZmlsdGVyLWNvdW50XCIpXG4gICAgICAgICAgICAgIC5lbXB0eSgpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJCh0aGlzKS5maW5kKFwiLm1kYy1jYXJkOnZpc2libGVcIikubGVuZ3RoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXMsbWF4LWxlblxuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoXCIuc2VhcmNoLXNldFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgICAgICAgICAuZmluZChcIi5maWx0ZXItY291bnQtdG90YWxcIilcbiAgICAgICAgICAgICAgLmVtcHR5KClcbiAgICAgICAgICAgICAgLmFwcGVuZCgkKHRoaXMpLmZpbmQoXCIubWRjLWNhcmRcIikubGVuZ3RoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXMsbWF4LWxlblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuIiwiLy8gQGZsb3dcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIobm9kZTogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIHdoaWxlIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGV0aW1lKGRhdGV0aW1lOiBEYXRlKTogc3RyaW5nIHtcbiAgcmV0dXJuIChcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgeWVhcjogXCJudW1lcmljXCIgfSkgK1xuICAgIFwiLVwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgbW9udGg6IFwiMi1kaWdpdFwiIH0pICtcbiAgICBcIi1cIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IGRheTogXCIyLWRpZ2l0XCIgfSkgK1xuICAgIFwiIFwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgaG91cjogXCIyLWRpZ2l0XCIsIGhvdXIxMjogZmFsc2UgfSkgK1xuICAgIFwiOlwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgbWludXRlOiBcIjItZGlnaXRcIiB9KVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ZnKG5hbWU6IHN0cmluZywgdXNlU3ByaXRlOiBib29sZWFuID0gdHJ1ZSk6IEVsZW1lbnQge1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgY29uc3QgdXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJ1c2VcIik7XG4gIHVzZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICBcImhyZWZcIixcbiAgICBzdmdMaW5rKG5hbWUsIHVzZVNwcml0ZSksXG4gICk7XG4gIHN2Zy5hcHBlbmQodXNlKTtcbiAgcmV0dXJuIHN2Zztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z0xpbmsobmFtZTogc3RyaW5nLCB1c2VTcHJpdGU6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcbiAgaWYgKHVzZVNwcml0ZSkge1xuICAgIHJldHVybiBgIyR7bmFtZX1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgK1xuICAgICAgXCIvL1wiICtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICtcbiAgICAgIFwiL3N0YXRpYy9wZWVyaW5zdC9pY29ucy5zdmcjXCIgK1xuICAgICAgbmFtZVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dBbGVydChtc2c6IHN0cmluZykge1xuICBjb25zdCBmdWxsUGFnZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGZ1bGxQYWdlQm94LmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2Z1bGwtcGFnZVwiKTtcbiAgZnVsbFBhZ2VCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGZ1bGxQYWdlQm94LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGZ1bGxQYWdlQm94KTtcbiAgfSk7XG4gIGRvY3VtZW50LmJvZHk/LmFwcGVuZENoaWxkKGZ1bGxQYWdlQm94KTtcblxuICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBib3guY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fYm94XCIpO1xuICBib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKSxcbiAgKTtcbiAgZnVsbFBhZ2VCb3guYXBwZW5kQ2hpbGQoYm94KTtcblxuICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIHNwYW4uY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fbXNnXCIpO1xuICBzcGFuLnRleHRDb250ZW50ID0gbXNnO1xuICBib3guYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgY29uc3Qgb2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBvay5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19idG5cIiwgXCJtZGMtYnV0dG9uXCIsIFwibWRjLWJ1dHRvbi0tdW5lbGV2YXRlZFwiKTtcbiAgb2sudGV4dENvbnRlbnQgPSBcIk9rXCI7XG4gIGJveC5hcHBlbmRDaGlsZChvayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgdGV4dCA9IFwiXCIsIGF0dHJpYnV0ZXMgPSB7fSkge1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAodGV4dCkge1xuICAgIGVsZW0udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG4gIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZShrZXksIHZhbCk7XG4gIH0pO1xuICByZXR1cm4gZWxlbTtcbn1cbiIsImltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uL2FqYXguanNcIjtcbmltcG9ydCB7IGNsZWFyIH0gZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5cbi8qKioqKioqKiovXG4vKiBtb2RlbCAqL1xuLyoqKioqKioqKi9cblxubGV0IG1vZGVsO1xuXG5mdW5jdGlvbiBpbml0TW9kZWwoc3VibWl0VXJsLCBxdWFsaXR5KSB7XG4gIG1vZGVsID0ge1xuICAgIHVybHM6IHtcbiAgICAgIHN1Ym1pdFVybDogc3VibWl0VXJsLFxuICAgIH0sXG4gICAgcXVhbGl0eTogcXVhbGl0eSxcbiAgfTtcbn1cblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm1TdWJtaXQoZXZlbnQpIHtcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInlvdXItcmF0aW9uYWxlXCIpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcXVhbGl0eTogbW9kZWwucXVhbGl0eSxcbiAgICAgIHJhdGlvbmFsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpZF9yYXRpb25hbGVcIikudmFsdWUsXG4gICAgfTtcblxuICAgIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKGRhdGEsIFwicG9zdFwiKTtcbiAgICBmZXRjaChtb2RlbC51cmxzLnN1Ym1pdFVybCwgcmVxKVxuICAgICAgLnRoZW4ocmVzcCA9PiByZXNwLmpzb24oKSlcbiAgICAgIC8vLnRoZW4ocmVzID0+IHJlcy50ZXh0KCkpXG4gICAgICAvLy50aGVuKHRleHQgPT4gY29uc29sZS5sb2codGV4dCkpO1xuICAgICAgLnRoZW4oZmFpbGVkID0+IHtcbiAgICAgICAgaWYgKGZhaWxlZC5mYWlsZWQubGVuZ3RoKSB7XG4gICAgICAgICAgdG9nZ2xlUXVhbGl0eUVycm9yKGZhaWxlZC5mYWlsZWQsIGZhaWxlZC5lcnJvcl9tc2cpO1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYW5zd2VyLWZvcm1cIikuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2dnbGVRdWFsaXR5RXJyb3IoKTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fuc3dlci1mb3JtXCIpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdC1hbnN3ZXItZm9ybVwiKS5zdWJtaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH1cbn1cblxuLyoqKioqKioqL1xuLyogdmlldyAqL1xuLyoqKioqKioqL1xuXG5mdW5jdGlvbiB0b2dnbGVRdWFsaXR5RXJyb3IoZGF0YSwgZXJyb3JNc2cpIHtcbiAgaWYgKGRhdGEpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJtaXQtYW5zd2VyLWZvcm1cIik7XG5cbiAgICBsZXQgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvcmxpc3RcIik7XG4gICAgaWYgKCFkaXYpIHtcbiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgfVxuICAgIGNsZWFyKGRpdik7XG5cbiAgICBkaXYuY2xhc3NMaXN0LmFkZChcImVycm9ybGlzdFwiKTtcbiAgICBkaXYudGV4dENvbnRlbnQgPSBlcnJvck1zZztcblxuICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIGRpdi5hcHBlbmQodWwpO1xuICAgIGRhdGEuZm9yRWFjaChjcml0ZXJpb24gPT4ge1xuICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBsaS50ZXh0Q29udGVudCA9IGNyaXRlcmlvbi5uYW1lO1xuICAgICAgbGkudGl0bGUgPSBjcml0ZXJpb24uZGVzY3JpcHRpb247XG4gICAgICB1bC5hcHBlbmQobGkpO1xuICAgIH0pO1xuXG4gICAgZm9ybS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIGZvcm0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGVyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJlcnJvcmxpc3RcIik7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXJyKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqKioqKioqKioqKiovXG4vKiBsaXN0ZW5lcnMgKi9cbi8qKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBpbml0TGlzdGVuZXJzKCkge1xuICBhZGRTdWJtaXRMaXN0ZW5lcigpO1xufVxuXG5mdW5jdGlvbiBhZGRTdWJtaXRMaXN0ZW5lcigpIHtcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuc3dlci1mb3JtXCIpO1xuICBpZiAoaW5wdXQpIHtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xuICAgICAgdmFsaWRhdGVGb3JtU3VibWl0KGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KHN1Ym1pdFVybCwgcXVhbGl0eSkge1xuICBpbml0TW9kZWwoc3VibWl0VXJsLCBxdWFsaXR5KTtcbiAgaW5pdExpc3RlbmVycygpO1xufVxuIiwiLy8gQGZsb3dcblxuLyoqKioqKioqKi9cbi8qIG1vZGVsICovXG4vKioqKioqKioqL1xuXG5sZXQgbW9kZWw6IHtcbiAgc3VibWl0QWxsb3dlZDogYm9vbGVhbixcbn07XG5cbmZ1bmN0aW9uIGluaXRNb2RlbCgpIHtcbiAgbW9kZWwgPSB7XG4gICAgc3VibWl0QWxsb3dlZDogZmFsc2UsXG4gIH07XG59XG5cbi8qKioqKioqKioqL1xuLyogdXBkYXRlICovXG4vKioqKioqKioqKi9cblxuZnVuY3Rpb24gc3RhcnRTdWJtaXRBbGxvd2VkVGltZXIoc2Vjb25kczogbnVtYmVyKSB7XG4gIHNldEludGVydmFsKGFsbG93U3VibWl0LCBzZWNvbmRzICogMTAwMCk7XG59XG5cbmZ1bmN0aW9uIGFsbG93U3VibWl0KCkge1xuICBtb2RlbC5zdWJtaXRBbGxvd2VkID0gdHJ1ZTtcbiAgc3VibWl0QnV0dG9uVmlldygpO1xufVxuXG4vKioqKioqKiovXG4vKiB2aWV3ICovXG4vKioqKioqKiovXG5cbmZ1bmN0aW9uIHZpZXcoKSB7XG4gIHN1Ym1pdEJ1dHRvblZpZXcoKTtcbn1cblxuZnVuY3Rpb24gc3VibWl0QnV0dG9uVmlldygpIHtcbiAgaWYgKG1vZGVsLnN1Ym1pdEFsbG93ZWQpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbnN3ZXItZm9ybVwiKS5kaXNhYmxlZCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuc3dlci1mb3JtXCIpLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICBpbml0TW9kZWwoKTtcbiAgdmlldygpO1xuICBzdGFydFN1Ym1pdEFsbG93ZWRUaW1lcig1KTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgeyBzdWJtaXRGb3JtIH0gZnJvbSBcIi4vX3F1ZXN0aW9uL2Jhc2UuanNcIjtcblxuZXhwb3J0IHsgaW5pdCBhcyBpbml0U3RhcnQgfSBmcm9tIFwiLi9fcXVlc3Rpb24vc3RhcnQuanNcIjtcblxuZXhwb3J0IHsgaW5pdCBhcyBpbml0UmV2aWV3IH0gZnJvbSBcIi4vX3F1ZXN0aW9uL3Jldmlldy5qc1wiO1xuIl0sIm5hbWVzIjpbInN1Ym1pdEZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtaXQiLCJnZXRDc3JmVG9rZW4iLCJjb25zb2xlIiwibG9nIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJidWlsZFJlcSIsImRhdGEiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJjbGVhciIsIm5vZGUiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJtb2RlbCIsImluaXRNb2RlbCIsInN1Ym1pdFVybCIsInF1YWxpdHkiLCJ1cmxzIiwidmFsaWRhdGVGb3JtU3VibWl0IiwiZXZlbnQiLCJnZXRFbGVtZW50QnlJZCIsInByZXZlbnREZWZhdWx0IiwicmF0aW9uYWxlIiwidmFsdWUiLCJyZXEiLCJmZXRjaCIsInRoZW4iLCJyZXNwIiwianNvbiIsImZhaWxlZCIsImxlbmd0aCIsInRvZ2dsZVF1YWxpdHlFcnJvciIsImVycm9yX21zZyIsImRpc2FibGVkIiwiY2F0Y2giLCJlcnIiLCJlcnJvck1zZyIsImZvcm0iLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ1bCIsImFwcGVuZCIsImZvckVhY2giLCJjcml0ZXJpb24iLCJsaSIsIm5hbWUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImluaXRMaXN0ZW5lcnMiLCJhZGRTdWJtaXRMaXN0ZW5lciIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXQiLCJzdWJtaXRBbGxvd2VkIiwic3RhcnRTdWJtaXRBbGxvd2VkVGltZXIiLCJzZWNvbmRzIiwic2V0SW50ZXJ2YWwiLCJhbGxvd1N1Ym1pdCIsInN1Ym1pdEJ1dHRvblZpZXciLCJ2aWV3Il0sIm1hcHBpbmdzIjoiOzs7QUFBTyxTQUFTQSxVQUFULEdBQXNCO0VBQzNCQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIscUJBQXZCLEVBQThDQyxNQUE5Qzs7O0FDREY7O0FBRUEsQUFBTyxTQUFTQyxZQUFULEdBQXdCO0VBQzdCQyxPQUFPLENBQUNDLEdBQVIsQ0FDRUwsUUFBUSxDQUFDTSxpQkFBVCxDQUEyQixxQkFBM0IsRUFBa0QsQ0FBbEQsRUFBcURDLFlBQXJE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"}