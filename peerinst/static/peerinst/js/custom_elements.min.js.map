{"version":3,"file":"custom_elements.min.js","sources":["_custom_elements/loading_spinner.js","custom_elements.js"],"sourcesContent":["// @flow\nexport class LoadingSpinner extends HTMLElement {\n  constructor() {\n    super();\n    const shadow = this.attachShadow({ mode: \"open\" });\n\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.classList.add(\"spinner\");\n    svg.setAttribute(\"viewBox\", \"0 0 100 100\");\n    shadow.appendChild(svg);\n\n    const ring = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"circle\",\n    );\n    ring.classList.add(\"spinner__ring\");\n    ring.setAttribute(\"cx\", \"50\");\n    ring.setAttribute(\"cy\", \"50\");\n    ring.setAttribute(\"r\", \"47\");\n    ring.setAttribute(\"fill\", \"transparent\");\n    ring.setAttribute(\"stroke-width\", \"6\");\n    svg.appendChild(ring);\n\n    const segment = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"circle\",\n    );\n    segment.classList.add(\"spinner__segment\");\n    segment.setAttribute(\"cx\", \"50\");\n    segment.setAttribute(\"cy\", \"50\");\n    segment.setAttribute(\"r\", \"47\");\n    segment.setAttribute(\"fill\", \"transparent\");\n    segment.setAttribute(\"stroke-width\", \"6\");\n    segment.setAttribute(\"stroke-dasharray\", \"200\");\n    segment.setAttribute(\"stroke-dashoffset\", \"0\");\n    svg.appendChild(segment);\n\n    const style = document.createElement(\"style\");\n    style.textContent = `\n.spinner {\n  animation: 1.75s spin linear infinite;\n}\n\n.spinner__ring {\n  stroke: var(--spinner-ring-stroke, #d3d3d3);\n}\n\n.spinner__segment {\n  stroke: var(--spinner-segment-stroke, #f2f2f2);\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}`;\n    const nonce = this.getAttribute(\"nonce\") || this.nonce;\n    if (nonce) {\n      style.setAttribute(\"nonce\", nonce);\n    }\n    shadow.appendChild(style);\n  }\n}\n","import { LoadingSpinner } from \"./_custom_elements/loading_spinner.js\";\n\nfunction toggleFoldable(event) {\n  const foldable = event.currentTarget.parentNode;\n  if (foldable.classList.contains(\"foldable__unfolded\")) {\n    foldable.classList.remove(\"foldable__unfolded\");\n    foldable.querySelector(\".foldable--body\").style.overflow = \"hidden\";\n  } else {\n    foldable.classList.add(\"foldable__unfolded\");\n    setTimeout(function () {\n      foldable.querySelector(\".foldable--body\").style.overflow = \"auto\";\n    }, 300);\n  }\n}\n\nfunction handleDragStart(event) {\n  const elem = event.currentTarget;\n  elem.classList.add(\"draggable--dragging\");\n\n  event.dataTransfer.effectAllowed = \"move\";\n  event.dataTransfer.setData(\n    \"title\",\n    elem.getAttribute(\"data-draggable-name\"),\n  );\n  window.currentDraggedName = elem.getAttribute(\"data-draggable-name\");\n}\n\nfunction handleDragEnd(event) {\n  const elem = event.currentTarget;\n  elem.classList.remove(\"draggable--dragging\");\n  Array.from(elem.parentNode.getElementsByClassName(\"draggable\")).map((x) =>\n    x.classList.remove(\"draggable--over\"),\n  );\n}\n\nfunction handleDragEnter(event) {\n  const elem = event.currentTarget;\n  const container = elem.parentNode;\n  const title =\n    event.dataTransfer.getData(\"title\") || window.currentDraggedName;\n  const oldElem = Array.from(container.children).filter(\n    (x) => x.getAttribute(\"data-draggable-name\") == title,\n  )[0];\n  const oldIdx = Array.from(container.children).indexOf(oldElem);\n  const idx = Array.from(container.children).indexOf(elem);\n  if (idx > oldIdx) {\n    container.insertBefore(oldElem, elem.nextSibling);\n  } else if (idx < oldIdx) {\n    container.insertBefore(oldElem, elem);\n  }\n}\n\nfunction handleDragLeave(event) {\n  const elem = event.currentTarget;\n  elem.classList.remove(\"draggable--over\");\n}\n\nfunction handleDragOver(event) {\n  if (event.preventDefault) {\n    event.preventDefault();\n  }\n  event.dataTransfer.dropEffect = \"move\";\n  return false;\n}\n\nfunction handleDrop(event) {\n  if (event.preventDefault) {\n    event.preventDefault();\n  }\n  if (event.stopPropagation) {\n    event.stopPropagation();\n  }\n  return false;\n}\n\nexport function addEventListeners() {\n  Array.from(document.getElementsByClassName(\"foldable--title\")).map((x) =>\n    x.addEventListener(\"click\", (e) => toggleFoldable(e)),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"dragstart\", (e) => handleDragStart(e), false),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"dragend\", (e) => handleDragEnd(e), false),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"dragenter\", (e) => handleDragEnter(e), false),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"dragleave\", (e) => handleDragLeave(e), false),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"dragover\", (e) => handleDragOver(e), false),\n  );\n  Array.from(document.getElementsByClassName(\"draggable\")).map((x) =>\n    x.addEventListener(\"drop\", (e) => handleDrop(e), false),\n  );\n}\n\nif (!customElements.get(\"loading-spinner\")) {\n  customElements.define(\"loading-spinner\", LoadingSpinner);\n}\n"],"names":["LoadingSpinner","HTMLElement","constructor","shadow","this","attachShadow","mode","svg","document","createElementNS","classList","add","setAttribute","appendChild","ring","segment","style","createElement","textContent","nonce","getAttribute","customElements","get","define","Array","from","getElementsByClassName","map","x","addEventListener","e","event","foldable","currentTarget","parentNode","contains","remove","querySelector","overflow","setTimeout","toggleFoldable","elem","dataTransfer","effectAllowed","setData","window","currentDraggedName","handleDragStart","handleDragEnd","container","title","getData","oldElem","children","filter","oldIdx","indexOf","idx","insertBefore","nextSibling","handleDragEnter","handleDragOver","preventDefault","dropEffect","handleDrop","stopPropagation"],"mappings":"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"}