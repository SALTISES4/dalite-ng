{"version":3,"file":"teacher.min.js","sources":["peerinst/static/peerinst/js/_teacher/dashboard/messages.js","peerinst/static/peerinst/js/_teacher/dashboard.js","peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/utils.js","peerinst/static/peerinst/js/_teacher/header/notifications.js","peerinst/static/peerinst/js/_teacher/gradebooks.js","peerinst/static/peerinst/js/_teacher/header/messages.js","peerinst/static/peerinst/js/teacher.js"],"sourcesContent":["// @flow\n\n/*********/\n/* model */\n/*********/\n\ntype InitData = {};\n\n/**********/\n/* update */\n/**********/\n\n/********/\n/* view */\n/********/\n\n/********/\n/* init */\n/********/\n\nexport async function init(data: InitData) {}\n","// @flow\nimport { init as initMessages } from \"./dashboard/messages.js\";\n\ntype InitData = {};\n\n/********/\n/* init */\n/********/\n\nexport async function init(data: InitData) {\n  initMessages({});\n}\n","\"use strict\";\n\nexport function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n\nexport function updateAssignmentQuestionList(\n  url,\n  questionId,\n  assignmentIdentifier,\n) {\n  const token = getCsrfToken();\n  const data = {\n    question_id: questionId,\n    assignment_identifier: assignmentIdentifier,\n  };\n  const req = {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": token,\n    },\n  };\n  fetch(url, req)\n    .then(function(resp) {\n      if (!resp.ok) {\n        console.log(resp);\n      } else {\n        // Manipulate DOM\n        const list = document.getElementById(\"question-list\");\n        const card = document.getElementById(questionId);\n        if ($.contains(list, card)) {\n          $(\"#\" + questionId).remove();\n        } else {\n          $(\"#\" + questionId)\n            .find($(\".update-questions-btn\"))\n            .html(\"delete\");\n          const q = $(\"#\" + questionId).detach();\n          q.appendTo($(\"#question-list\"));\n          $(\"#empty-assignment-list\").remove();\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count\")\n              .empty()\n              .append($(this).find(\".mdc-card:visible\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count-total\")\n              .empty()\n              .append($(this).find(\".mdc-card\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n        }\n      }\n    })\n    .catch(function(err) {\n      console.log(err);\n    });\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  use.setAttributeNS(\n    \"http://www.w3.org/1999/xlink\",\n    \"href\",\n    svgLink(name, useSprite),\n  );\n  svg.append(use);\n  return svg;\n}\n\nexport function svgLink(name: string, useSprite: boolean = true): string {\n  if (useSprite) {\n    return `#${name}`;\n  } else {\n    return (\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      \"/static/peerinst/icons.svg#\" +\n      name\n    );\n  }\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n","// @flow\n\nimport { clear, createSvg } from \"../../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nexport type Notification = {\n  text: string,\n  inProgress: boolean,\n  error: boolean,\n  onClick: () => Promise<void>,\n  onCloseClick: () => Promise<void>,\n};\n\nlet model: {\n  notificationsOpen: boolean,\n  notifications: Array<Notification>,\n};\n\nfunction initModel(): void {\n  model = {\n    notificationsOpen: false,\n    notifications: [],\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction toggleNotifications(): void {\n  model.notificationsOpen = !model.notificationsOpen;\n  notificationsView();\n}\n\nexport function updateNotifications(notifications: Array<Notification>): void {\n  model.notifications = notifications;\n  notificationsView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(): void {\n  notificationsView();\n}\n\nfunction notificationsView(): void {\n  const notifications = document.querySelector(\".notifications\");\n  const badge = notifications?.querySelector(\".notifications__icon__badge\");\n  const notificationsList = notifications?.querySelector(\n    \".notifications__notifications\",\n  );\n\n  if (!notifications || !badge || !notificationsList) {\n    return;\n  }\n\n  const completedNotifications = model.notifications.filter(\n    notification => !notification.inProgress,\n  );\n  if (completedNotifications.length > 0) {\n    badge.textContent = completedNotifications.length.toString();\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n\n  clear(notificationsList);\n\n  if (model.notifications.length) {\n    model.notifications.map(function(notification) {\n      notificationsList.appendChild(notificationView(notification));\n    });\n  } else {\n    notificationsList.appendChild(noNotificationView());\n  }\n\n  if (model.notifications.some(notification => notification.inProgress)) {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.add(\"notifications__spinner--loading\");\n  } else {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.remove(\"notifications__spinner--loading\");\n  }\n\n  if (model.notificationsOpen) {\n    notifications.classList.add(\"notifications--open\");\n  } else {\n    notifications.classList.remove(\"notifications--open\");\n  }\n}\n\nfunction notificationView(notification: Notification): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"notification\");\n  div.addEventListener(\"click\", notification.onClick);\n\n  if (notification.inProgress) {\n    const spinner = document.createElement(\"loading-spinner\");\n    spinner.classList.add(\"notification__spinner\");\n    div.appendChild(spinner);\n  } else {\n    let icon;\n    if (notification.error) {\n      icon = createSvg(\"error\");\n      icon.classList.add(\"notification__icon--error\");\n      const remove = createSvg(\"close\");\n      remove.classList.add(\"notification__close\");\n      remove.addEventListener(\"click\", notification.onCloseClick);\n      div.appendChild(remove);\n    } else {\n      div.classList.add(\"notification--completed\");\n      icon = createSvg(\"cloud_download\");\n    }\n    icon.classList.add(\"notification__icon\");\n    div.appendChild(icon);\n  }\n\n  const description = document.createElement(\"span\");\n  description.classList.add(\"notification__description\");\n  description.textContent = notification.text;\n  div.appendChild(description);\n\n  return div;\n}\n\nfunction noNotificationView(): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.textContent = \"No new notifications\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners(): void {\n  addNotificationsOpenListener();\n}\n\nfunction addNotificationsOpenListener(): void {\n  document\n    .querySelector(\".notifications\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".notifications__icon\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      toggleNotifications();\n    });\n  document.body?.addEventListener(\"click\", function(event: MouseEvent) {\n    if (model.notificationsOpen) {\n      event.stopPropagation();\n      toggleNotifications();\n    }\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(): void {\n  initModel();\n  view();\n  initEventListeners();\n}\n","// @flow\nimport { buildReq } from \"../ajax.js\";\nimport { updateNotifications } from \"./header/notifications.js\";\nimport type { Notification } from \"./header/notifications.js\";\n\n/*********/\n/* model */\n/*********/\n\nconst CHECK_EVERY = 1;\n\ntype Task = {\n  id: string,\n  description: string,\n  completed: boolean,\n  datetime: Date,\n  error: boolean,\n};\n\nlet model: {\n  urls: {\n    requestGradebook: string,\n    gradebookResult: string,\n    removeFailedGradebook: string,\n    downloadGradebook: string,\n    tasks: string,\n  },\n  tasks: Array<Task>,\n};\n\nfunction initModel(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  model = {\n    tasks: [],\n    urls: {\n      requestGradebook: urls.requestGradebook,\n      gradebookResult: urls.gradebookResult,\n      removeFailedGradebook: urls.removeFailedGradebook,\n      downloadGradebook: urls.downloadGradebook,\n      tasks: urls.tasks,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction update(): void {\n  getTasks();\n}\n\nfunction getTasks(): void {\n  const url = model.urls.tasks;\n  const req = buildReq({}, \"get\");\n\n  fetch(url, req)\n    .then(resp => resp.json())\n    .then(data => {\n      initTasks(data.tasks);\n    });\n}\n\nasync function initTasks(\n  data: Array<{\n    id: string,\n    description: string,\n    completed: boolean,\n    datetime: string,\n  }>,\n): Promise<void> {\n  model.tasks = data\n    .map(task => ({\n      id: task.id,\n      description: task.description,\n      completed: task.completed,\n      datetime: new Date(task.datetime),\n      error: false,\n    }))\n    .sort((a, b) =>\n      a.datetime > b.datetime ? -1 : a.datetime < b.datetime ? 1 : 0,\n    );\n  updateNotifications(getNotifications());\n  Promise.all(\n    model.tasks\n      .filter(task => !task.completed)\n      .map(task => getGradebookResult(task)),\n  );\n}\n\nasync function requestGradebook(event: MouseEvent): Promise<void> {\n  event.stopPropagation();\n  const button = event.currentTarget;\n  const groupId = button.getAttribute(\"data-group\");\n  const assignmentId = button.getAttribute(\"data-assignment\");\n\n  const data = {\n    group_id: groupId,\n    assignment_id: assignmentId,\n  };\n\n  const url = model.urls.requestGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.status === 200) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n  } else if (resp.status === 201) {\n    const data = await resp.json();\n    const task = {\n      id: data.id,\n      description: data.description,\n      completed: data.completed,\n      datetime: new Date(data.datetime),\n      error: false,\n    };\n    model.tasks.unshift(task);\n    setTimeout(() => getGradebookResult(task), 0);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nasync function getGradebookResult(task: Task): Promise<void> {\n  const url = model.urls.gradebookResult;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n\n  if (resp.status == 200) {\n    task.completed = true;\n    updateNotifications(getNotifications());\n  } else if (resp.status == 202) {\n    await new Promise(resolve =>\n      setTimeout(() => getGradebookResult(task), CHECK_EVERY * 1000),\n    );\n  } else {\n    task.completed = true;\n    task.error = true;\n    updateNotifications(getNotifications());\n  }\n}\n\nasync function removeGradebookError(task: Task): Promise<void> {\n  const url = model.urls.removeFailedGradebook;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n  if (resp.ok) {\n    model.tasks = model.tasks.filter(t => t.id !== task.id);\n  }\n  updateNotifications(getNotifications());\n}\n\nasync function downloadGradebook(task: Task): Promise<void> {\n  const data = {\n    task_id: task.id,\n  };\n  const url = model.urls.downloadGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.ok) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n    model.tasks = model.tasks.filter(t => t.id != task.id);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nfunction _downloadGradebook(title: string, csv: string): void {\n  const a = document.createElement(\"a\");\n  a.href = `data:text/csv;charset=utf-8, ${escape(csv)}`;\n  a.target = \"_blank\";\n  a.download = title;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n\nfunction getNotifications(): Array<Notification> {\n  return model.tasks.map(task => ({\n    text: task.completed\n      ? task.error\n        ? `There was an error creating the gradebook for ${task.description}.`\n        : `The ${task.description} is ready.`\n      : `Computing the ${task.description}...`,\n    inProgress: !task.completed,\n    error: task.error,\n    onClick:\n      task.completed && !task.error\n        ? async () => await downloadGradebook(task)\n        : async () => undefined,\n    onCloseClick: async () => await removeGradebookError(task),\n  }));\n}\n\n/********/\n/* view */\n/********/\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners(): void {\n  addGradebookListeners();\n}\n\nfunction addGradebookListeners(): void {\n  [...document.getElementsByClassName(\"gradebook-button\")].forEach(button => {\n    button.addEventListener(\n      \"click\",\n      async (event: MouseEvent) => await requestGradebook(event),\n    );\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  initModel(urls);\n  update();\n  initListeners();\n}\n","// @flow\nimport { buildReq } from \"../../ajax.js\";\nimport { clear, createSvg } from \"../../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\ntype Thread = {\n  id: number,\n  title: string,\n  lastReply: {\n    author: string,\n    content: string,\n  },\n  nNew: number,\n  link: string,\n};\n\ntype Message = Thread;\n\nlet model: {\n  open: boolean,\n  messages: Array<Message>,\n  urls: {\n    markReadUrl: string,\n    messagesUrl: string,\n  },\n};\n\nfunction initModel(urls: { markReadUrl: string, messagesUrl: string }): void {\n  model = {\n    open: false,\n    messages: [],\n    urls: urls,\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction update(): void {\n  getMessages();\n}\n\nfunction toggleMessages(): void {\n  model.open = !model.open;\n  messagesView();\n}\n\nfunction getMessages(): void {\n  const url = model.urls.messagesUrl;\n  const req = buildReq({}, \"get\");\n\n  fetch(url, req)\n    .then(resp => resp.json())\n    .then(data => {\n      model.messages = data.threads.map(message => ({\n        id: message.id,\n        title: message.title,\n        lastReply: {\n          author: message.last_reply.author,\n          content: message.last_reply.content,\n        },\n        nNew: message.n_new,\n        link: message.link,\n      }));\n      messagesView();\n    });\n}\n\nasync function markAllRead(): Promise<void> {\n  const req = buildReq({}, \"post\");\n  const resp = await fetch(model.urls.markReadUrl, req);\n  if (resp.ok) {\n    model.messages.forEach(message => {\n      message.nNew = 0;\n    });\n  }\n  messagesView();\n}\n\nasync function markRead(\n  event: MouseEvent,\n  message: Message,\n  div: HTMLDivElement,\n): Promise<void> {\n  event.stopPropagation();\n  const req = buildReq({ id: message.id }, \"post\");\n  const resp = await fetch(model.urls.markReadUrl, req);\n  if (resp.ok) {\n    message.nNew = 0;\n  }\n  messageView(message, div);\n  badgeView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(): void {\n  messagesView();\n}\n\nfunction messagesView(): void {\n  const messages = document.querySelector(\".messages\");\n  const badge = messages?.querySelector(\".messages__icon__badge\");\n  const messagesList = messages?.querySelector(\".messages__messages\");\n\n  if (!messages || !badge || !messagesList) {\n    return;\n  }\n\n  badgeView();\n\n  clear(messagesList);\n\n  if (model.messages.length) {\n    model.messages.map(function(message) {\n      messagesList.appendChild(messageView(message));\n    });\n  } else {\n    messagesList.appendChild(noMessageView());\n  }\n\n  if (model.open) {\n    messages.classList.add(\"messages--open\");\n  } else {\n    messages.classList.remove(\"messages--open\");\n  }\n}\n\nfunction badgeView(): void {\n  const badge = document.querySelector(\".messages__icon__badge\");\n\n  const nNew = model.messages.filter(message => message.nNew > 0).length;\n  if (nNew) {\n    badge.textContent = nNew.toString();\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n}\n\nfunction messageView(\n  message: Message,\n  div: ?HTMLDivElement = null,\n): HTMLDivElement {\n  if (div) {\n    clear(div);\n  } else {\n    div = document.createElement(\"div\");\n    div.classList.add(\"message\");\n    div.addEventListener(\"click\", () => {\n      window.location.href = message.link;\n    });\n  }\n\n  if (message.nNew) {\n    div.classList.add(\"message--new\");\n  } else {\n    div.classList.remove(\"message--new\");\n  }\n\n  const icon = createSvg(\"chat_bubble\");\n  icon.classList.add(\"message__icon\");\n  div.appendChild(icon);\n\n  if (message.nNew) {\n    const new_ = document.createElement(\"span\");\n    new_.classList.add(\"message__new\");\n    new_.textContent = `( ${message.nNew} new )`;\n    div.appendChild(new_);\n  }\n\n  const title = document.createElement(\"span\");\n  title.classList.add(\"message__title\");\n  title.textContent = message.title;\n  div.appendChild(title);\n\n  if (message.nNew) {\n    const markReadBtn = document.createElement(\"span\");\n    markReadBtn.classList.add(\"message__mark-read\");\n    markReadBtn.textContent = \"Mark read\";\n    markReadBtn.addEventListener(\"click\", (event: MouseEvent) =>\n      markRead(event, message, div),\n    );\n    div.appendChild(markReadBtn);\n  }\n\n  const lastReply = document.createElement(\"div\");\n  lastReply.classList.add(\"message__last-reply\");\n  div.appendChild(lastReply);\n\n  const author = document.createElement(\"span\");\n  author.classList.add(\"message__last-reply__author\");\n  author.textContent = message.lastReply.author;\n  lastReply.appendChild(author);\n\n  const content = document.createElement(\"span\");\n  content.classList.add(\"message__last-reply__content\");\n  content.textContent = message.lastReply.content;\n  lastReply.appendChild(content);\n\n  return div;\n}\n\nfunction noMessageView(): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.textContent = \"No messages\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners(): void {\n  addMessagesOpenListener();\n  addMarkAllReadListener();\n}\n\nfunction addMessagesOpenListener(): void {\n  document\n    .querySelector(\".messages\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".messages__icon\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      toggleMessages();\n    });\n  document.body?.addEventListener(\"click\", function(event: MouseEvent) {\n    if (model.open) {\n      event.stopPropagation();\n      toggleMessages();\n    }\n  });\n}\n\nfunction addMarkAllReadListener(): void {\n  document\n    .querySelector(\".messages__read-all-btn\")\n    ?.addEventListener(\"click\", () => markAllRead());\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(urls: {\n  markReadUrl: string,\n  messagesUrl: string,\n}): void {\n  initModel(urls);\n  update();\n  view();\n  initEventListeners();\n}\n","// @flow\n\"use strict\";\n\nexport { init as initDashboard } from \"./_teacher/dashboard.js\";\nexport { init as initGradebooks } from \"./_teacher/gradebooks.js\";\nexport { init as initMessages } from \"./_teacher/header/messages.js\";\nexport { init as initNotifications } from \"./_teacher/header/notifications.js\";\n"],"names":["init","data","initMessages","getCsrfToken","document","getElementsByName","getAttribute","buildReq","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","clear","node","hasChildNodes","removeChild","lastChild","createSvg","name","useSprite","svg","createElementNS","use","setAttributeNS","svgLink","append","window","location","protocol","host","model","initModel","notificationsOpen","notifications","toggleNotifications","notificationsView","updateNotifications","view","querySelector","badge","notificationsList","completedNotifications","filter","notification","inProgress","length","textContent","toString","style","display","map","appendChild","notificationView","noNotificationView","some","classList","add","remove","div","createElement","addEventListener","onClick","spinner","icon","error","onCloseClick","description","text","initEventListeners","addNotificationsOpenListener","event","stopPropagation","CHECK_EVERY","urls","tasks","requestGradebook","gradebookResult","removeFailedGradebook","downloadGradebook","update","getTasks","url","req","fetch","then","resp","json","initTasks","task","id","completed","datetime","Date","sort","a","b","getNotifications","Promise","all","getGradebookResult","button","currentTarget","groupId","assignmentId","group_id","assignment_id","status","title","split","csv","slice","join","_downloadGradebook","unshift","setTimeout","console","log","task_id","resolve","removeGradebookError","ok","t","href","escape","target","download","click","undefined","initListeners","addGradebookListeners","getElementsByClassName","forEach","open","messages","getMessages","toggleMessages","messagesView","messagesUrl","threads","message","lastReply","author","last_reply","content","nNew","n_new","link","markAllRead","markReadUrl","markRead","messageView","badgeView","messagesList","noMessageView","new_","markReadBtn","addMessagesOpenListener","addMarkAllReadListener"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9kYXNoYm9hcmQvbWVzc2FnZXMuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvX3RlYWNoZXIvZGFzaGJvYXJkLmpzIiwiL2hvbWUvYW50b2luZS9kb2N1bWVudHMvd29yay9zY2l2ZXJvL3Byb2plY3RzL2RhbGl0ZS9kYWxpdGUvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL2FqYXguanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvdXRpbHMuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvX3RlYWNoZXIvaGVhZGVyL25vdGlmaWNhdGlvbnMuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvX3RlYWNoZXIvZ3JhZGVib29rcy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9oZWFkZXIvbWVzc2FnZXMuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvdGVhY2hlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuXG4vKioqKioqKioqL1xuLyogbW9kZWwgKi9cbi8qKioqKioqKiovXG5cbnR5cGUgSW5pdERhdGEgPSB7fTtcblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG4vKioqKioqKiovXG4vKiB2aWV3ICovXG4vKioqKioqKiovXG5cbi8qKioqKioqKi9cbi8qIGluaXQgKi9cbi8qKioqKioqKi9cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQoZGF0YTogSW5pdERhdGEpIHt9XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgaW5pdCBhcyBpbml0TWVzc2FnZXMgfSBmcm9tIFwiLi9kYXNoYm9hcmQvbWVzc2FnZXMuanNcIjtcblxudHlwZSBJbml0RGF0YSA9IHt9O1xuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0KGRhdGE6IEluaXREYXRhKSB7XG4gIGluaXRNZXNzYWdlcyh7fSk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENzcmZUb2tlbigpIHtcbiAgcmV0dXJuIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRzQnlOYW1lKFwiY3NyZm1pZGRsZXdhcmV0b2tlblwiKVswXVxuICAgIC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVxKGRhdGEsIG1ldGhvZCkge1xuICBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2V0XCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwicG9zdFwiKSB7XG4gICAgY29uc3QgYm9keSA9IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IFwiXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBib2R5OiBib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJYLUNTUkZUb2tlblwiOiBnZXRDc3JmVG9rZW4oKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBub3QgaW1wbGVtZW50ZWQgeWV0LmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBc3NpZ25tZW50UXVlc3Rpb25MaXN0KFxuICB1cmwsXG4gIHF1ZXN0aW9uSWQsXG4gIGFzc2lnbm1lbnRJZGVudGlmaWVyLFxuKSB7XG4gIGNvbnN0IHRva2VuID0gZ2V0Q3NyZlRva2VuKCk7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uSWQsXG4gICAgYXNzaWdubWVudF9pZGVudGlmaWVyOiBhc3NpZ25tZW50SWRlbnRpZmllcixcbiAgfTtcbiAgY29uc3QgcmVxID0ge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJYLUNTUkZUb2tlblwiOiB0b2tlbixcbiAgICB9LFxuICB9O1xuICBmZXRjaCh1cmwsIHJlcSlcbiAgICAudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICBpZiAoIXJlc3Aub2spIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBNYW5pcHVsYXRlIERPTVxuICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvbi1saXN0XCIpO1xuICAgICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocXVlc3Rpb25JZCk7XG4gICAgICAgIGlmICgkLmNvbnRhaW5zKGxpc3QsIGNhcmQpKSB7XG4gICAgICAgICAgJChcIiNcIiArIHF1ZXN0aW9uSWQpLnJlbW92ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIjXCIgKyBxdWVzdGlvbklkKVxuICAgICAgICAgICAgLmZpbmQoJChcIi51cGRhdGUtcXVlc3Rpb25zLWJ0blwiKSlcbiAgICAgICAgICAgIC5odG1sKFwiZGVsZXRlXCIpO1xuICAgICAgICAgIGNvbnN0IHEgPSAkKFwiI1wiICsgcXVlc3Rpb25JZCkuZGV0YWNoKCk7XG4gICAgICAgICAgcS5hcHBlbmRUbygkKFwiI3F1ZXN0aW9uLWxpc3RcIikpO1xuICAgICAgICAgICQoXCIjZW1wdHktYXNzaWdubWVudC1saXN0XCIpLnJlbW92ZSgpO1xuICAgICAgICAgICQoXCIuc2VhcmNoLXNldFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgICAgICAgICAuZmluZChcIi5maWx0ZXItY291bnRcIilcbiAgICAgICAgICAgICAgLmVtcHR5KClcbiAgICAgICAgICAgICAgLmFwcGVuZCgkKHRoaXMpLmZpbmQoXCIubWRjLWNhcmQ6dmlzaWJsZVwiKS5sZW5ndGgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpcyxtYXgtbGVuXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChcIi5zZWFyY2gtc2V0XCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG4gICAgICAgICAgICAgIC5maW5kKFwiLmZpbHRlci1jb3VudC10b3RhbFwiKVxuICAgICAgICAgICAgICAuZW1wdHkoKVxuICAgICAgICAgICAgICAuYXBwZW5kKCQodGhpcykuZmluZChcIi5tZGMtY2FyZFwiKS5sZW5ndGgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpcyxtYXgtbGVuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG4iLCIvLyBAZmxvd1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihub2RlOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcbiAgd2hpbGUgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZXRpbWUoZGF0ZXRpbWU6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyB5ZWFyOiBcIm51bWVyaWNcIiB9KSArXG4gICAgXCItXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBtb250aDogXCIyLWRpZ2l0XCIgfSkgK1xuICAgIFwiLVwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgZGF5OiBcIjItZGlnaXRcIiB9KSArXG4gICAgXCIgXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBob3VyOiBcIjItZGlnaXRcIiwgaG91cjEyOiBmYWxzZSB9KSArXG4gICAgXCI6XCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBtaW51dGU6IFwiMi1kaWdpdFwiIH0pXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdmcobmFtZTogc3RyaW5nLCB1c2VTcHJpdGU6IGJvb2xlYW4gPSB0cnVlKTogRWxlbWVudCB7XG4gIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICBjb25zdCB1c2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInVzZVwiKTtcbiAgdXNlLnNldEF0dHJpYnV0ZU5TKFxuICAgIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgIFwiaHJlZlwiLFxuICAgIHN2Z0xpbmsobmFtZSwgdXNlU3ByaXRlKSxcbiAgKTtcbiAgc3ZnLmFwcGVuZCh1c2UpO1xuICByZXR1cm4gc3ZnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3ZnTGluayhuYW1lOiBzdHJpbmcsIHVzZVNwcml0ZTogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xuICBpZiAodXNlU3ByaXRlKSB7XG4gICAgcmV0dXJuIGAjJHtuYW1lfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArXG4gICAgICBcIi8vXCIgK1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3QgK1xuICAgICAgXCIvc3RhdGljL3BlZXJpbnN0L2ljb25zLnN2ZyNcIiArXG4gICAgICBuYW1lXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0FsZXJ0KG1zZzogc3RyaW5nKSB7XG4gIGNvbnN0IGZ1bGxQYWdlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZnVsbFBhZ2VCb3guY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fZnVsbC1wYWdlXCIpO1xuICBmdWxsUGFnZUJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZnVsbFBhZ2VCb3gucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoZnVsbFBhZ2VCb3gpO1xuICB9KTtcbiAgZG9jdW1lbnQuYm9keT8uYXBwZW5kQ2hpbGQoZnVsbFBhZ2VCb3gpO1xuXG4gIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJveC5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19ib3hcIik7XG4gIGJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PlxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLFxuICApO1xuICBmdWxsUGFnZUJveC5hcHBlbmRDaGlsZChib3gpO1xuXG4gIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19tc2dcIik7XG4gIHNwYW4udGV4dENvbnRlbnQgPSBtc2c7XG4gIGJveC5hcHBlbmRDaGlsZChzcGFuKTtcblxuICBjb25zdCBvayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIG9rLmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2J0blwiLCBcIm1kYy1idXR0b25cIiwgXCJtZGMtYnV0dG9uLS11bmVsZXZhdGVkXCIpO1xuICBvay50ZXh0Q29udGVudCA9IFwiT2tcIjtcbiAgYm94LmFwcGVuZENoaWxkKG9rKTtcbn1cbiIsIi8vIEBmbG93XG5cbmltcG9ydCB7IGNsZWFyLCBjcmVhdGVTdmcgfSBmcm9tIFwiLi4vLi4vdXRpbHMuanNcIjtcblxuLyoqKioqKioqKi9cbi8qIG1vZGVsICovXG4vKioqKioqKioqL1xuXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb24gPSB7XG4gIHRleHQ6IHN0cmluZyxcbiAgaW5Qcm9ncmVzczogYm9vbGVhbixcbiAgZXJyb3I6IGJvb2xlYW4sXG4gIG9uQ2xpY2s6ICgpID0+IFByb21pc2U8dm9pZD4sXG4gIG9uQ2xvc2VDbGljazogKCkgPT4gUHJvbWlzZTx2b2lkPixcbn07XG5cbmxldCBtb2RlbDoge1xuICBub3RpZmljYXRpb25zT3BlbjogYm9vbGVhbixcbiAgbm90aWZpY2F0aW9uczogQXJyYXk8Tm90aWZpY2F0aW9uPixcbn07XG5cbmZ1bmN0aW9uIGluaXRNb2RlbCgpOiB2b2lkIHtcbiAgbW9kZWwgPSB7XG4gICAgbm90aWZpY2F0aW9uc09wZW46IGZhbHNlLFxuICAgIG5vdGlmaWNhdGlvbnM6IFtdLFxuICB9O1xufVxuXG4vKioqKioqKioqKi9cbi8qIHVwZGF0ZSAqL1xuLyoqKioqKioqKiovXG5cbmZ1bmN0aW9uIHRvZ2dsZU5vdGlmaWNhdGlvbnMoKTogdm9pZCB7XG4gIG1vZGVsLm5vdGlmaWNhdGlvbnNPcGVuID0gIW1vZGVsLm5vdGlmaWNhdGlvbnNPcGVuO1xuICBub3RpZmljYXRpb25zVmlldygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTm90aWZpY2F0aW9ucyhub3RpZmljYXRpb25zOiBBcnJheTxOb3RpZmljYXRpb24+KTogdm9pZCB7XG4gIG1vZGVsLm5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zO1xuICBub3RpZmljYXRpb25zVmlldygpO1xufVxuXG4vKioqKioqKiovXG4vKiB2aWV3ICovXG4vKioqKioqKiovXG5cbmZ1bmN0aW9uIHZpZXcoKTogdm9pZCB7XG4gIG5vdGlmaWNhdGlvbnNWaWV3KCk7XG59XG5cbmZ1bmN0aW9uIG5vdGlmaWNhdGlvbnNWaWV3KCk6IHZvaWQge1xuICBjb25zdCBub3RpZmljYXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zXCIpO1xuICBjb25zdCBiYWRnZSA9IG5vdGlmaWNhdGlvbnM/LnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc19faWNvbl9fYmFkZ2VcIik7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbnNMaXN0ID0gbm90aWZpY2F0aW9ucz8ucXVlcnlTZWxlY3RvcihcbiAgICBcIi5ub3RpZmljYXRpb25zX19ub3RpZmljYXRpb25zXCIsXG4gICk7XG5cbiAgaWYgKCFub3RpZmljYXRpb25zIHx8ICFiYWRnZSB8fCAhbm90aWZpY2F0aW9uc0xpc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb21wbGV0ZWROb3RpZmljYXRpb25zID0gbW9kZWwubm90aWZpY2F0aW9ucy5maWx0ZXIoXG4gICAgbm90aWZpY2F0aW9uID0+ICFub3RpZmljYXRpb24uaW5Qcm9ncmVzcyxcbiAgKTtcbiAgaWYgKGNvbXBsZXRlZE5vdGlmaWNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGJhZGdlLnRleHRDb250ZW50ID0gY29tcGxldGVkTm90aWZpY2F0aW9ucy5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICBiYWRnZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gIH0gZWxzZSB7XG4gICAgYmFkZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGJhZGdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuXG4gIGNsZWFyKG5vdGlmaWNhdGlvbnNMaXN0KTtcblxuICBpZiAobW9kZWwubm90aWZpY2F0aW9ucy5sZW5ndGgpIHtcbiAgICBtb2RlbC5ub3RpZmljYXRpb25zLm1hcChmdW5jdGlvbihub3RpZmljYXRpb24pIHtcbiAgICAgIG5vdGlmaWNhdGlvbnNMaXN0LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvblZpZXcobm90aWZpY2F0aW9uKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbm90aWZpY2F0aW9uc0xpc3QuYXBwZW5kQ2hpbGQobm9Ob3RpZmljYXRpb25WaWV3KCkpO1xuICB9XG5cbiAgaWYgKG1vZGVsLm5vdGlmaWNhdGlvbnMuc29tZShub3RpZmljYXRpb24gPT4gbm90aWZpY2F0aW9uLmluUHJvZ3Jlc3MpKSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNfX3NwaW5uZXJcIilcbiAgICAgID8uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbnNfX3NwaW5uZXItLWxvYWRpbmdcIik7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNfX3NwaW5uZXJcIilcbiAgICAgID8uY2xhc3NMaXN0LnJlbW92ZShcIm5vdGlmaWNhdGlvbnNfX3NwaW5uZXItLWxvYWRpbmdcIik7XG4gIH1cblxuICBpZiAobW9kZWwubm90aWZpY2F0aW9uc09wZW4pIHtcbiAgICBub3RpZmljYXRpb25zLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25zLS1vcGVuXCIpO1xuICB9IGVsc2Uge1xuICAgIG5vdGlmaWNhdGlvbnMuY2xhc3NMaXN0LnJlbW92ZShcIm5vdGlmaWNhdGlvbnMtLW9wZW5cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm90aWZpY2F0aW9uVmlldyhub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25cIik7XG4gIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm90aWZpY2F0aW9uLm9uQ2xpY2spO1xuXG4gIGlmIChub3RpZmljYXRpb24uaW5Qcm9ncmVzcykge1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibG9hZGluZy1zcGlubmVyXCIpO1xuICAgIHNwaW5uZXIuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbl9fc3Bpbm5lclwiKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGljb247XG4gICAgaWYgKG5vdGlmaWNhdGlvbi5lcnJvcikge1xuICAgICAgaWNvbiA9IGNyZWF0ZVN2ZyhcImVycm9yXCIpO1xuICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uX19pY29uLS1lcnJvclwiKTtcbiAgICAgIGNvbnN0IHJlbW92ZSA9IGNyZWF0ZVN2ZyhcImNsb3NlXCIpO1xuICAgICAgcmVtb3ZlLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25fX2Nsb3NlXCIpO1xuICAgICAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBub3RpZmljYXRpb24ub25DbG9zZUNsaWNrKTtcbiAgICAgIGRpdi5hcHBlbmRDaGlsZChyZW1vdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXYuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbi0tY29tcGxldGVkXCIpO1xuICAgICAgaWNvbiA9IGNyZWF0ZVN2ZyhcImNsb3VkX2Rvd25sb2FkXCIpO1xuICAgIH1cbiAgICBpY29uLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25fX2ljb25cIik7XG4gICAgZGl2LmFwcGVuZENoaWxkKGljb24pO1xuICB9XG5cbiAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgZGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbl9fZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gbm90aWZpY2F0aW9uLnRleHQ7XG4gIGRpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG5cbiAgcmV0dXJuIGRpdjtcbn1cblxuZnVuY3Rpb24gbm9Ob3RpZmljYXRpb25WaWV3KCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LnRleHRDb250ZW50ID0gXCJObyBuZXcgbm90aWZpY2F0aW9uc1wiO1xuICByZXR1cm4gZGl2O1xufVxuXG4vKioqKioqKioqKioqKi9cbi8qIGxpc3RlbmVycyAqL1xuLyoqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGluaXRFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgYWRkTm90aWZpY2F0aW9uc09wZW5MaXN0ZW5lcigpO1xufVxuXG5mdW5jdGlvbiBhZGROb3RpZmljYXRpb25zT3Blbkxpc3RlbmVyKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNcIilcbiAgICA/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc19faWNvblwiKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICB0b2dnbGVOb3RpZmljYXRpb25zKCk7XG4gICAgfSk7XG4gIGRvY3VtZW50LmJvZHk/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmIChtb2RlbC5ub3RpZmljYXRpb25zT3Blbikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVOb3RpZmljYXRpb25zKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqKioqKioqL1xuLyogaW5pdCAqL1xuLyoqKioqKioqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpOiB2b2lkIHtcbiAgaW5pdE1vZGVsKCk7XG4gIHZpZXcoKTtcbiAgaW5pdEV2ZW50TGlzdGVuZXJzKCk7XG59XG4iLCIvLyBAZmxvd1xuaW1wb3J0IHsgYnVpbGRSZXEgfSBmcm9tIFwiLi4vYWpheC5qc1wiO1xuaW1wb3J0IHsgdXBkYXRlTm90aWZpY2F0aW9ucyB9IGZyb20gXCIuL2hlYWRlci9ub3RpZmljYXRpb25zLmpzXCI7XG5pbXBvcnQgdHlwZSB7IE5vdGlmaWNhdGlvbiB9IGZyb20gXCIuL2hlYWRlci9ub3RpZmljYXRpb25zLmpzXCI7XG5cbi8qKioqKioqKiovXG4vKiBtb2RlbCAqL1xuLyoqKioqKioqKi9cblxuY29uc3QgQ0hFQ0tfRVZFUlkgPSAxO1xuXG50eXBlIFRhc2sgPSB7XG4gIGlkOiBzdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGNvbXBsZXRlZDogYm9vbGVhbixcbiAgZGF0ZXRpbWU6IERhdGUsXG4gIGVycm9yOiBib29sZWFuLFxufTtcblxubGV0IG1vZGVsOiB7XG4gIHVybHM6IHtcbiAgICByZXF1ZXN0R3JhZGVib29rOiBzdHJpbmcsXG4gICAgZ3JhZGVib29rUmVzdWx0OiBzdHJpbmcsXG4gICAgcmVtb3ZlRmFpbGVkR3JhZGVib29rOiBzdHJpbmcsXG4gICAgZG93bmxvYWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgICB0YXNrczogc3RyaW5nLFxuICB9LFxuICB0YXNrczogQXJyYXk8VGFzaz4sXG59O1xuXG5mdW5jdGlvbiBpbml0TW9kZWwodXJsczoge1xuICByZXF1ZXN0R3JhZGVib29rOiBzdHJpbmcsXG4gIGdyYWRlYm9va1Jlc3VsdDogc3RyaW5nLFxuICByZW1vdmVGYWlsZWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgZG93bmxvYWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgdGFza3M6IHN0cmluZyxcbn0pOiB2b2lkIHtcbiAgbW9kZWwgPSB7XG4gICAgdGFza3M6IFtdLFxuICAgIHVybHM6IHtcbiAgICAgIHJlcXVlc3RHcmFkZWJvb2s6IHVybHMucmVxdWVzdEdyYWRlYm9vayxcbiAgICAgIGdyYWRlYm9va1Jlc3VsdDogdXJscy5ncmFkZWJvb2tSZXN1bHQsXG4gICAgICByZW1vdmVGYWlsZWRHcmFkZWJvb2s6IHVybHMucmVtb3ZlRmFpbGVkR3JhZGVib29rLFxuICAgICAgZG93bmxvYWRHcmFkZWJvb2s6IHVybHMuZG93bmxvYWRHcmFkZWJvb2ssXG4gICAgICB0YXNrczogdXJscy50YXNrcyxcbiAgICB9LFxuICB9O1xufVxuXG4vKioqKioqKioqKi9cbi8qIHVwZGF0ZSAqL1xuLyoqKioqKioqKiovXG5cbmZ1bmN0aW9uIHVwZGF0ZSgpOiB2b2lkIHtcbiAgZ2V0VGFza3MoKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFza3MoKTogdm9pZCB7XG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMudGFza3M7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKHt9LCBcImdldFwiKTtcblxuICBmZXRjaCh1cmwsIHJlcSlcbiAgICAudGhlbihyZXNwID0+IHJlc3AuanNvbigpKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgaW5pdFRhc2tzKGRhdGEudGFza3MpO1xuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0VGFza3MoXG4gIGRhdGE6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgY29tcGxldGVkOiBib29sZWFuLFxuICAgIGRhdGV0aW1lOiBzdHJpbmcsXG4gIH0+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIG1vZGVsLnRhc2tzID0gZGF0YVxuICAgIC5tYXAodGFzayA9PiAoe1xuICAgICAgaWQ6IHRhc2suaWQsXG4gICAgICBkZXNjcmlwdGlvbjogdGFzay5kZXNjcmlwdGlvbixcbiAgICAgIGNvbXBsZXRlZDogdGFzay5jb21wbGV0ZWQsXG4gICAgICBkYXRldGltZTogbmV3IERhdGUodGFzay5kYXRldGltZSksXG4gICAgICBlcnJvcjogZmFsc2UsXG4gICAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+XG4gICAgICBhLmRhdGV0aW1lID4gYi5kYXRldGltZSA/IC0xIDogYS5kYXRldGltZSA8IGIuZGF0ZXRpbWUgPyAxIDogMCxcbiAgICApO1xuICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG4gIFByb21pc2UuYWxsKFxuICAgIG1vZGVsLnRhc2tzXG4gICAgICAuZmlsdGVyKHRhc2sgPT4gIXRhc2suY29tcGxldGVkKVxuICAgICAgLm1hcCh0YXNrID0+IGdldEdyYWRlYm9va1Jlc3VsdCh0YXNrKSksXG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RHcmFkZWJvb2soZXZlbnQ6IE1vdXNlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGNvbnN0IGJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gIGNvbnN0IGdyb3VwSWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1ncm91cFwiKTtcbiAgY29uc3QgYXNzaWdubWVudElkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShcImRhdGEtYXNzaWdubWVudFwiKTtcblxuICBjb25zdCBkYXRhID0ge1xuICAgIGdyb3VwX2lkOiBncm91cElkLFxuICAgIGFzc2lnbm1lbnRfaWQ6IGFzc2lnbm1lbnRJZCxcbiAgfTtcblxuICBjb25zdCB1cmwgPSBtb2RlbC51cmxzLnJlcXVlc3RHcmFkZWJvb2s7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKGRhdGEsIFwicG9zdFwiKTtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgcmVxKTtcblxuICBpZiAocmVzcC5zdGF0dXMgPT09IDIwMCkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICBjb25zdCB0aXRsZSA9IGRhdGEuc3BsaXQoXCJcXG5cIilbMF07XG4gICAgY29uc3QgY3N2ID0gZGF0YVxuICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAuc2xpY2UoMSlcbiAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgIF9kb3dubG9hZEdyYWRlYm9vayh0aXRsZSwgY3N2KTtcbiAgfSBlbHNlIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAxKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3AuanNvbigpO1xuICAgIGNvbnN0IHRhc2sgPSB7XG4gICAgICBpZDogZGF0YS5pZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgY29tcGxldGVkOiBkYXRhLmNvbXBsZXRlZCxcbiAgICAgIGRhdGV0aW1lOiBuZXcgRGF0ZShkYXRhLmRhdGV0aW1lKSxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICB9O1xuICAgIG1vZGVsLnRhc2tzLnVuc2hpZnQodGFzayk7XG4gICAgc2V0VGltZW91dCgoKSA9PiBnZXRHcmFkZWJvb2tSZXN1bHQodGFzayksIDApO1xuICAgIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRHcmFkZWJvb2tSZXN1bHQodGFzazogVGFzayk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1cmwgPSBtb2RlbC51cmxzLmdyYWRlYm9va1Jlc3VsdDtcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoeyB0YXNrX2lkOiB0YXNrLmlkIH0sIFwicG9zdFwiKTtcblxuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCByZXEpO1xuXG4gIGlmIChyZXNwLnN0YXR1cyA9PSAyMDApIHtcbiAgICB0YXNrLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xuICB9IGVsc2UgaWYgKHJlc3Auc3RhdHVzID09IDIwMikge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gZ2V0R3JhZGVib29rUmVzdWx0KHRhc2spLCBDSEVDS19FVkVSWSAqIDEwMDApLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdGFzay5jb21wbGV0ZWQgPSB0cnVlO1xuICAgIHRhc2suZXJyb3IgPSB0cnVlO1xuICAgIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZW1vdmVHcmFkZWJvb2tFcnJvcih0YXNrOiBUYXNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMucmVtb3ZlRmFpbGVkR3JhZGVib29rO1xuICBjb25zdCByZXEgPSBidWlsZFJlcSh7IHRhc2tfaWQ6IHRhc2suaWQgfSwgXCJwb3N0XCIpO1xuXG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcSk7XG4gIGlmIChyZXNwLm9rKSB7XG4gICAgbW9kZWwudGFza3MgPSBtb2RlbC50YXNrcy5maWx0ZXIodCA9PiB0LmlkICE9PSB0YXNrLmlkKTtcbiAgfVxuICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRvd25sb2FkR3JhZGVib29rKHRhc2s6IFRhc2spOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICB0YXNrX2lkOiB0YXNrLmlkLFxuICB9O1xuICBjb25zdCB1cmwgPSBtb2RlbC51cmxzLmRvd25sb2FkR3JhZGVib29rO1xuICBjb25zdCByZXEgPSBidWlsZFJlcShkYXRhLCBcInBvc3RcIik7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcSk7XG5cbiAgaWYgKHJlc3Aub2spIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcC50ZXh0KCk7XG4gICAgY29uc3QgdGl0bGUgPSBkYXRhLnNwbGl0KFwiXFxuXCIpWzBdO1xuICAgIGNvbnN0IGNzdiA9IGRhdGFcbiAgICAgIC5zcGxpdChcIlxcblwiKVxuICAgICAgLnNsaWNlKDEpXG4gICAgICAuam9pbihcIlxcblwiKTtcbiAgICBfZG93bmxvYWRHcmFkZWJvb2sodGl0bGUsIGNzdik7XG4gICAgbW9kZWwudGFza3MgPSBtb2RlbC50YXNrcy5maWx0ZXIodCA9PiB0LmlkICE9IHRhc2suaWQpO1xuICAgIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZG93bmxvYWRHcmFkZWJvb2sodGl0bGU6IHN0cmluZywgY3N2OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICBhLmhyZWYgPSBgZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LCAke2VzY2FwZShjc3YpfWA7XG4gIGEudGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgYS5kb3dubG9hZCA9IHRpdGxlO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICBhLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbnMoKTogQXJyYXk8Tm90aWZpY2F0aW9uPiB7XG4gIHJldHVybiBtb2RlbC50YXNrcy5tYXAodGFzayA9PiAoe1xuICAgIHRleHQ6IHRhc2suY29tcGxldGVkXG4gICAgICA/IHRhc2suZXJyb3JcbiAgICAgICAgPyBgVGhlcmUgd2FzIGFuIGVycm9yIGNyZWF0aW5nIHRoZSBncmFkZWJvb2sgZm9yICR7dGFzay5kZXNjcmlwdGlvbn0uYFxuICAgICAgICA6IGBUaGUgJHt0YXNrLmRlc2NyaXB0aW9ufSBpcyByZWFkeS5gXG4gICAgICA6IGBDb21wdXRpbmcgdGhlICR7dGFzay5kZXNjcmlwdGlvbn0uLi5gLFxuICAgIGluUHJvZ3Jlc3M6ICF0YXNrLmNvbXBsZXRlZCxcbiAgICBlcnJvcjogdGFzay5lcnJvcixcbiAgICBvbkNsaWNrOlxuICAgICAgdGFzay5jb21wbGV0ZWQgJiYgIXRhc2suZXJyb3JcbiAgICAgICAgPyBhc3luYyAoKSA9PiBhd2FpdCBkb3dubG9hZEdyYWRlYm9vayh0YXNrKVxuICAgICAgICA6IGFzeW5jICgpID0+IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlQ2xpY2s6IGFzeW5jICgpID0+IGF3YWl0IHJlbW92ZUdyYWRlYm9va0Vycm9yKHRhc2spLFxuICB9KSk7XG59XG5cbi8qKioqKioqKi9cbi8qIHZpZXcgKi9cbi8qKioqKioqKi9cblxuLyoqKioqKioqKioqKiovXG4vKiBsaXN0ZW5lcnMgKi9cbi8qKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBpbml0TGlzdGVuZXJzKCk6IHZvaWQge1xuICBhZGRHcmFkZWJvb2tMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gYWRkR3JhZGVib29rTGlzdGVuZXJzKCk6IHZvaWQge1xuICBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyYWRlYm9vay1idXR0b25cIildLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xpY2tcIixcbiAgICAgIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4gYXdhaXQgcmVxdWVzdEdyYWRlYm9vayhldmVudCksXG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKioqKioqKi9cbi8qIGluaXQgKi9cbi8qKioqKioqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQodXJsczoge1xuICByZXF1ZXN0R3JhZGVib29rOiBzdHJpbmcsXG4gIGdyYWRlYm9va1Jlc3VsdDogc3RyaW5nLFxuICByZW1vdmVGYWlsZWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgZG93bmxvYWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgdGFza3M6IHN0cmluZyxcbn0pOiB2b2lkIHtcbiAgaW5pdE1vZGVsKHVybHMpO1xuICB1cGRhdGUoKTtcbiAgaW5pdExpc3RlbmVycygpO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uLy4uL2FqYXguanNcIjtcbmltcG9ydCB7IGNsZWFyLCBjcmVhdGVTdmcgfSBmcm9tIFwiLi4vLi4vdXRpbHMuanNcIjtcblxuLyoqKioqKioqKi9cbi8qIG1vZGVsICovXG4vKioqKioqKioqL1xuXG50eXBlIFRocmVhZCA9IHtcbiAgaWQ6IG51bWJlcixcbiAgdGl0bGU6IHN0cmluZyxcbiAgbGFzdFJlcGx5OiB7XG4gICAgYXV0aG9yOiBzdHJpbmcsXG4gICAgY29udGVudDogc3RyaW5nLFxuICB9LFxuICBuTmV3OiBudW1iZXIsXG4gIGxpbms6IHN0cmluZyxcbn07XG5cbnR5cGUgTWVzc2FnZSA9IFRocmVhZDtcblxubGV0IG1vZGVsOiB7XG4gIG9wZW46IGJvb2xlYW4sXG4gIG1lc3NhZ2VzOiBBcnJheTxNZXNzYWdlPixcbiAgdXJsczoge1xuICAgIG1hcmtSZWFkVXJsOiBzdHJpbmcsXG4gICAgbWVzc2FnZXNVcmw6IHN0cmluZyxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGluaXRNb2RlbCh1cmxzOiB7IG1hcmtSZWFkVXJsOiBzdHJpbmcsIG1lc3NhZ2VzVXJsOiBzdHJpbmcgfSk6IHZvaWQge1xuICBtb2RlbCA9IHtcbiAgICBvcGVuOiBmYWxzZSxcbiAgICBtZXNzYWdlczogW10sXG4gICAgdXJsczogdXJscyxcbiAgfTtcbn1cblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG5mdW5jdGlvbiB1cGRhdGUoKTogdm9pZCB7XG4gIGdldE1lc3NhZ2VzKCk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1lc3NhZ2VzKCk6IHZvaWQge1xuICBtb2RlbC5vcGVuID0gIW1vZGVsLm9wZW47XG4gIG1lc3NhZ2VzVmlldygpO1xufVxuXG5mdW5jdGlvbiBnZXRNZXNzYWdlcygpOiB2b2lkIHtcbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy5tZXNzYWdlc1VybDtcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoe30sIFwiZ2V0XCIpO1xuXG4gIGZldGNoKHVybCwgcmVxKVxuICAgIC50aGVuKHJlc3AgPT4gcmVzcC5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICBtb2RlbC5tZXNzYWdlcyA9IGRhdGEudGhyZWFkcy5tYXAobWVzc2FnZSA9PiAoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgdGl0bGU6IG1lc3NhZ2UudGl0bGUsXG4gICAgICAgIGxhc3RSZXBseToge1xuICAgICAgICAgIGF1dGhvcjogbWVzc2FnZS5sYXN0X3JlcGx5LmF1dGhvcixcbiAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmxhc3RfcmVwbHkuY29udGVudCxcbiAgICAgICAgfSxcbiAgICAgICAgbk5ldzogbWVzc2FnZS5uX25ldyxcbiAgICAgICAgbGluazogbWVzc2FnZS5saW5rLFxuICAgICAgfSkpO1xuICAgICAgbWVzc2FnZXNWaWV3KCk7XG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1hcmtBbGxSZWFkKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZXEgPSBidWlsZFJlcSh7fSwgXCJwb3N0XCIpO1xuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2gobW9kZWwudXJscy5tYXJrUmVhZFVybCwgcmVxKTtcbiAgaWYgKHJlc3Aub2spIHtcbiAgICBtb2RlbC5tZXNzYWdlcy5mb3JFYWNoKG1lc3NhZ2UgPT4ge1xuICAgICAgbWVzc2FnZS5uTmV3ID0gMDtcbiAgICB9KTtcbiAgfVxuICBtZXNzYWdlc1ZpZXcoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbWFya1JlYWQoXG4gIGV2ZW50OiBNb3VzZUV2ZW50LFxuICBtZXNzYWdlOiBNZXNzYWdlLFxuICBkaXY6IEhUTUxEaXZFbGVtZW50LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICBjb25zdCByZXEgPSBidWlsZFJlcSh7IGlkOiBtZXNzYWdlLmlkIH0sIFwicG9zdFwiKTtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKG1vZGVsLnVybHMubWFya1JlYWRVcmwsIHJlcSk7XG4gIGlmIChyZXNwLm9rKSB7XG4gICAgbWVzc2FnZS5uTmV3ID0gMDtcbiAgfVxuICBtZXNzYWdlVmlldyhtZXNzYWdlLCBkaXYpO1xuICBiYWRnZVZpZXcoKTtcbn1cblxuLyoqKioqKioqL1xuLyogdmlldyAqL1xuLyoqKioqKioqL1xuXG5mdW5jdGlvbiB2aWV3KCk6IHZvaWQge1xuICBtZXNzYWdlc1ZpZXcoKTtcbn1cblxuZnVuY3Rpb24gbWVzc2FnZXNWaWV3KCk6IHZvaWQge1xuICBjb25zdCBtZXNzYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZXNcIik7XG4gIGNvbnN0IGJhZGdlID0gbWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZXNfX2ljb25fX2JhZGdlXCIpO1xuICBjb25zdCBtZXNzYWdlc0xpc3QgPSBtZXNzYWdlcz8ucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlc19fbWVzc2FnZXNcIik7XG5cbiAgaWYgKCFtZXNzYWdlcyB8fCAhYmFkZ2UgfHwgIW1lc3NhZ2VzTGlzdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGJhZGdlVmlldygpO1xuXG4gIGNsZWFyKG1lc3NhZ2VzTGlzdCk7XG5cbiAgaWYgKG1vZGVsLm1lc3NhZ2VzLmxlbmd0aCkge1xuICAgIG1vZGVsLm1lc3NhZ2VzLm1hcChmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICBtZXNzYWdlc0xpc3QuYXBwZW5kQ2hpbGQobWVzc2FnZVZpZXcobWVzc2FnZSkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2VzTGlzdC5hcHBlbmRDaGlsZChub01lc3NhZ2VWaWV3KCkpO1xuICB9XG5cbiAgaWYgKG1vZGVsLm9wZW4pIHtcbiAgICBtZXNzYWdlcy5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZXMtLW9wZW5cIik7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZXMuY2xhc3NMaXN0LnJlbW92ZShcIm1lc3NhZ2VzLS1vcGVuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhZGdlVmlldygpOiB2b2lkIHtcbiAgY29uc3QgYmFkZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VzX19pY29uX19iYWRnZVwiKTtcblxuICBjb25zdCBuTmV3ID0gbW9kZWwubWVzc2FnZXMuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZS5uTmV3ID4gMCkubGVuZ3RoO1xuICBpZiAobk5ldykge1xuICAgIGJhZGdlLnRleHRDb250ZW50ID0gbk5ldy50b1N0cmluZygpO1xuICAgIGJhZGdlLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgfSBlbHNlIHtcbiAgICBiYWRnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgYmFkZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lc3NhZ2VWaWV3KFxuICBtZXNzYWdlOiBNZXNzYWdlLFxuICBkaXY6ID9IVE1MRGl2RWxlbWVudCA9IG51bGwsXG4pOiBIVE1MRGl2RWxlbWVudCB7XG4gIGlmIChkaXYpIHtcbiAgICBjbGVhcihkaXYpO1xuICB9IGVsc2Uge1xuICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlXCIpO1xuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBtZXNzYWdlLmxpbms7XG4gICAgfSk7XG4gIH1cblxuICBpZiAobWVzc2FnZS5uTmV3KSB7XG4gICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlLS1uZXdcIik7XG4gIH0gZWxzZSB7XG4gICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJtZXNzYWdlLS1uZXdcIik7XG4gIH1cblxuICBjb25zdCBpY29uID0gY3JlYXRlU3ZnKFwiY2hhdF9idWJibGVcIik7XG4gIGljb24uY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VfX2ljb25cIik7XG4gIGRpdi5hcHBlbmRDaGlsZChpY29uKTtcblxuICBpZiAobWVzc2FnZS5uTmV3KSB7XG4gICAgY29uc3QgbmV3XyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIG5ld18uY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VfX25ld1wiKTtcbiAgICBuZXdfLnRleHRDb250ZW50ID0gYCggJHttZXNzYWdlLm5OZXd9IG5ldyApYDtcbiAgICBkaXYuYXBwZW5kQ2hpbGQobmV3Xyk7XG4gIH1cblxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZV9fdGl0bGVcIik7XG4gIHRpdGxlLnRleHRDb250ZW50ID0gbWVzc2FnZS50aXRsZTtcbiAgZGl2LmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICBpZiAobWVzc2FnZS5uTmV3KSB7XG4gICAgY29uc3QgbWFya1JlYWRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBtYXJrUmVhZEJ0bi5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZV9fbWFyay1yZWFkXCIpO1xuICAgIG1hcmtSZWFkQnRuLnRleHRDb250ZW50ID0gXCJNYXJrIHJlYWRcIjtcbiAgICBtYXJrUmVhZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PlxuICAgICAgbWFya1JlYWQoZXZlbnQsIG1lc3NhZ2UsIGRpdiksXG4gICAgKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQobWFya1JlYWRCdG4pO1xuICB9XG5cbiAgY29uc3QgbGFzdFJlcGx5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbGFzdFJlcGx5LmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlX19sYXN0LXJlcGx5XCIpO1xuICBkaXYuYXBwZW5kQ2hpbGQobGFzdFJlcGx5KTtcblxuICBjb25zdCBhdXRob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgYXV0aG9yLmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlX19sYXN0LXJlcGx5X19hdXRob3JcIik7XG4gIGF1dGhvci50ZXh0Q29udGVudCA9IG1lc3NhZ2UubGFzdFJlcGx5LmF1dGhvcjtcbiAgbGFzdFJlcGx5LmFwcGVuZENoaWxkKGF1dGhvcik7XG5cbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBjb250ZW50LmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlX19sYXN0LXJlcGx5X19jb250ZW50XCIpO1xuICBjb250ZW50LnRleHRDb250ZW50ID0gbWVzc2FnZS5sYXN0UmVwbHkuY29udGVudDtcbiAgbGFzdFJlcGx5LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuXG4gIHJldHVybiBkaXY7XG59XG5cbmZ1bmN0aW9uIG5vTWVzc2FnZVZpZXcoKTogSFRNTERpdkVsZW1lbnQge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYudGV4dENvbnRlbnQgPSBcIk5vIG1lc3NhZ2VzXCI7XG4gIHJldHVybiBkaXY7XG59XG5cbi8qKioqKioqKioqKioqL1xuLyogbGlzdGVuZXJzICovXG4vKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gaW5pdEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICBhZGRNZXNzYWdlc09wZW5MaXN0ZW5lcigpO1xuICBhZGRNYXJrQWxsUmVhZExpc3RlbmVyKCk7XG59XG5cbmZ1bmN0aW9uIGFkZE1lc3NhZ2VzT3Blbkxpc3RlbmVyKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VzXCIpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VzX19pY29uXCIpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIHRvZ2dsZU1lc3NhZ2VzKCk7XG4gICAgfSk7XG4gIGRvY3VtZW50LmJvZHk/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmIChtb2RlbC5vcGVuKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZU1lc3NhZ2VzKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkTWFya0FsbFJlYWRMaXN0ZW5lcigpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlc19fcmVhZC1hbGwtYnRuXCIpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gbWFya0FsbFJlYWQoKSk7XG59XG5cbi8qKioqKioqKi9cbi8qIGluaXQgKi9cbi8qKioqKioqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQodXJsczoge1xuICBtYXJrUmVhZFVybDogc3RyaW5nLFxuICBtZXNzYWdlc1VybDogc3RyaW5nLFxufSk6IHZvaWQge1xuICBpbml0TW9kZWwodXJscyk7XG4gIHVwZGF0ZSgpO1xuICB2aWV3KCk7XG4gIGluaXRFdmVudExpc3RlbmVycygpO1xufVxuIiwiLy8gQGZsb3dcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgeyBpbml0IGFzIGluaXREYXNoYm9hcmQgfSBmcm9tIFwiLi9fdGVhY2hlci9kYXNoYm9hcmQuanNcIjtcbmV4cG9ydCB7IGluaXQgYXMgaW5pdEdyYWRlYm9va3MgfSBmcm9tIFwiLi9fdGVhY2hlci9ncmFkZWJvb2tzLmpzXCI7XG5leHBvcnQgeyBpbml0IGFzIGluaXRNZXNzYWdlcyB9IGZyb20gXCIuL190ZWFjaGVyL2hlYWRlci9tZXNzYWdlcy5qc1wiO1xuZXhwb3J0IHsgaW5pdCBhcyBpbml0Tm90aWZpY2F0aW9ucyB9IGZyb20gXCIuL190ZWFjaGVyL2hlYWRlci9ub3RpZmljYXRpb25zLmpzXCI7XG4iXSwibmFtZXMiOlsiaW5pdCIsImRhdGEiLCJpbml0TWVzc2FnZXMiLCJnZXRDc3JmVG9rZW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlOYW1lIiwiZ2V0QXR0cmlidXRlIiwiYnVpbGRSZXEiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJjbGVhciIsIm5vZGUiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJjcmVhdGVTdmciLCJuYW1lIiwidXNlU3ByaXRlIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwidXNlIiwic2V0QXR0cmlidXRlTlMiLCJzdmdMaW5rIiwiYXBwZW5kIiwid2luZG93IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJtb2RlbCIsImluaXRNb2RlbCIsIm5vdGlmaWNhdGlvbnNPcGVuIiwibm90aWZpY2F0aW9ucyIsInRvZ2dsZU5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb25zVmlldyIsInVwZGF0ZU5vdGlmaWNhdGlvbnMiLCJ2aWV3IiwicXVlcnlTZWxlY3RvciIsImJhZGdlIiwibm90aWZpY2F0aW9uc0xpc3QiLCJjb21wbGV0ZWROb3RpZmljYXRpb25zIiwiZmlsdGVyIiwibm90aWZpY2F0aW9uIiwiaW5Qcm9ncmVzcyIsImxlbmd0aCIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJzdHlsZSIsImRpc3BsYXkiLCJtYXAiLCJhcHBlbmRDaGlsZCIsIm5vdGlmaWNhdGlvblZpZXciLCJub05vdGlmaWNhdGlvblZpZXciLCJzb21lIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkNsaWNrIiwic3Bpbm5lciIsImljb24iLCJlcnJvciIsIm9uQ2xvc2VDbGljayIsImRlc2NyaXB0aW9uIiwidGV4dCIsImluaXRFdmVudExpc3RlbmVycyIsImFkZE5vdGlmaWNhdGlvbnNPcGVuTGlzdGVuZXIiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIkNIRUNLX0VWRVJZIiwidXJscyIsInRhc2tzIiwicmVxdWVzdEdyYWRlYm9vayIsImdyYWRlYm9va1Jlc3VsdCIsInJlbW92ZUZhaWxlZEdyYWRlYm9vayIsImRvd25sb2FkR3JhZGVib29rIiwidXBkYXRlIiwiZ2V0VGFza3MiLCJ1cmwiLCJyZXEiLCJmZXRjaCIsInRoZW4iLCJyZXNwIiwianNvbiIsImluaXRUYXNrcyIsInRhc2siLCJpZCIsImNvbXBsZXRlZCIsImRhdGV0aW1lIiwiRGF0ZSIsInNvcnQiLCJhIiwiYiIsImdldE5vdGlmaWNhdGlvbnMiLCJQcm9taXNlIiwiYWxsIiwiZ2V0R3JhZGVib29rUmVzdWx0IiwiYnV0dG9uIiwiY3VycmVudFRhcmdldCIsImdyb3VwSWQiLCJhc3NpZ25tZW50SWQiLCJncm91cF9pZCIsImFzc2lnbm1lbnRfaWQiLCJzdGF0dXMiLCJ0aXRsZSIsInNwbGl0IiwiY3N2Iiwic2xpY2UiLCJqb2luIiwiX2Rvd25sb2FkR3JhZGVib29rIiwidW5zaGlmdCIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwidGFza19pZCIsInJlc29sdmUiLCJyZW1vdmVHcmFkZWJvb2tFcnJvciIsIm9rIiwidCIsImhyZWYiLCJlc2NhcGUiLCJ0YXJnZXQiLCJkb3dubG9hZCIsImNsaWNrIiwidW5kZWZpbmVkIiwiaW5pdExpc3RlbmVycyIsImFkZEdyYWRlYm9va0xpc3RlbmVycyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmb3JFYWNoIiwib3BlbiIsIm1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCJ0b2dnbGVNZXNzYWdlcyIsIm1lc3NhZ2VzVmlldyIsIm1lc3NhZ2VzVXJsIiwidGhyZWFkcyIsIm1lc3NhZ2UiLCJsYXN0UmVwbHkiLCJhdXRob3IiLCJsYXN0X3JlcGx5IiwiY29udGVudCIsIm5OZXciLCJuX25ldyIsImxpbmsiLCJtYXJrQWxsUmVhZCIsIm1hcmtSZWFkVXJsIiwibWFya1JlYWQiLCJtZXNzYWdlVmlldyIsImJhZGdlVmlldyIsIm1lc3NhZ2VzTGlzdCIsIm5vTWVzc2FnZVZpZXciLCJuZXdfIiwibWFya1JlYWRCdG4iLCJhZGRNZXNzYWdlc09wZW5MaXN0ZW5lciIsImFkZE1hcmtBbGxSZWFkTGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkEsU0FBc0JBLE1BQXRCOzs7Ozs4QkFBTyxXQUFvQkMsSUFBcEIsRUFBb0M7Ozs7QUNmM0M7Ozs7O0FBSUEsU0FBc0JELE9BQXRCOzs7Ozs0QkFBTyxXQUFvQkMsSUFBcEIsRUFBb0M7SUFDekNDLE1BQVksQ0FBQyxFQUFELENBQVo7Ozs7O0FDVkY7O0FBRUEsQUFBTyxTQUFTQyxZQUFULEdBQXdCO1NBQ3RCQyxRQUFRLENBQ1pDLGlCQURJLENBQ2MscUJBRGQsRUFDcUMsQ0FEckMsRUFFSkMsWUFGSSxDQUVTLE9BRlQsQ0FBUDs7QUFLRixBQUFPLFNBQVNDLFFBQVQsQ0FBa0JOLElBQWxCLEVBQXdCTyxNQUF4QixFQUFnQztNQUNqQ0EsTUFBTSxDQUFDQyxXQUFQLE9BQXlCLEtBQTdCLEVBQW9DO1dBQzNCO01BQ0xELE1BQU0sRUFBRUEsTUFBTSxDQUFDRSxXQUFQ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"}