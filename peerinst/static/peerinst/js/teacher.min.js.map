{"version":3,"file":"teacher.min.js","sources":["dalite/static/js/ajax.js","peerinst/static/peerinst/js/_teacher/dashboard.js","peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/utils.js","peerinst/static/peerinst/js/_teacher/header/notifications.js","peerinst/static/peerinst/js/_teacher/gradebooks.js","peerinst/static/peerinst/js/_teacher/header/messages.js","peerinst/static/peerinst/js/teacher.js"],"sourcesContent":["export function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n","// @flow\nimport { buildReq } from \"../../../../../dalite/static/js/ajax.js\";\n\n/*********/\n/* model */\n/*********/\n\ntype InitData = {\n  urls: { collections: string, rationales: string },\n};\n\ntype Collection = {\n  title: string,\n  description: string,\n  discipline: string,\n  nAssignments: number,\n  nFollowers: number,\n};\n\ntype Rationale = {\n  title: string,\n  description: string,\n  answer: string,\n  score: number,\n  annotator: number,\n};\n\nlet model: {\n  collections: Array<Collection>,\n  rationales: Array<Rationale>,\n  urls: {\n    collections: string,\n    rationales: string,\n  },\n};\n\nfunction initModel(data: InitData) {\n  model = {\n    collections: [],\n    rationales: [],\n    urls: {\n      collections: data.urls.collections,\n      rationales: data.urls.rationales,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nasync function update() {\n  await getCollections();\n  await getRationales();\n}\n\nasync function getCollections() {\n  const data = {};\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(model.urls.collections, req);\n  const json = await resp.json();\n  model.collections = json.collections.map(collection => ({\n    title: collection.title,\n    description: collection.description,\n    discipline: collection.discipline,\n    nAssignments: collection.n_assignments,\n    nFollowers: collection.n_followers,\n  }));\n  collectionsView();\n}\n\nasync function getRationales() {\n  const data = {};\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(model.urls.rationales, req);\n  const json = await resp.json();\n  model.rationales = json.rationales.map(rationale => ({\n    qTitle: rationale.title,\n    rationale: rationale.rationale,\n    choice: rationale.choice,\n    choiceText: rationale.text,\n    correct: rationale.correct,\n  }));\n  rationalesView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction collectionsView() {\n  const section = document.querySelector(\".collections\");\n  if (!section) {\n    throw new Error(\"There is a missing section with class `collections`\");\n  }\n  if (model.collections.length) {\n    section.classList.remove(\"collections--hidden\");\n  } else {\n    section.classList.add(\"collections--hidden\");\n  }\n}\n\nfunction rationalesView() {\n  const section = document.querySelector(\".rationales\");\n  if (!section) {\n    throw new Error(\"There is a missing section with class `rationales`\");\n  }\n  if (model.rationales.length) {\n    section.classList.remove(\"rationales--hidden\");\n  } else {\n    section.classList.add(\"rationales--hidden\");\n  }\n}\n\n/********/\n/* init */\n/********/\n\nexport async function init(data: InitData) {\n  initModel(data);\n  await update();\n}\n","\"use strict\";\n\nexport function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n\nexport function updateAssignmentQuestionList(\n  url,\n  questionId,\n  assignmentIdentifier,\n) {\n  const token = getCsrfToken();\n  const data = {\n    question_id: questionId,\n    assignment_identifier: assignmentIdentifier,\n  };\n  const req = {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"X-CSRFToken\": token,\n    },\n  };\n  fetch(url, req)\n    .then(function(resp) {\n      if (!resp.ok) {\n        console.log(resp);\n      } else {\n        // Manipulate DOM\n        const list = document.getElementById(\"question-list\");\n        const card = document.getElementById(questionId);\n        if ($.contains(list, card)) {\n          $(\"#\" + questionId).remove();\n        } else {\n          $(\"#\" + questionId)\n            .find($(\".update-questions-btn\"))\n            .html(\"delete\");\n          const q = $(\"#\" + questionId).detach();\n          q.appendTo($(\"#question-list\"));\n          $(\"#empty-assignment-list\").remove();\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count\")\n              .empty()\n              .append($(this).find(\".mdc-card:visible\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n          $(\".search-set\").each(function() {\n            $(this) // eslint-disable-line no-invalid-this\n              .find(\".filter-count-total\")\n              .empty()\n              .append($(this).find(\".mdc-card\").length); // eslint-disable-line no-invalid-this,max-len\n          });\n        }\n      }\n    })\n    .catch(function(err) {\n      console.log(err);\n    });\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  use.setAttributeNS(\n    \"http://www.w3.org/1999/xlink\",\n    \"href\",\n    svgLink(name, useSprite),\n  );\n  svg.append(use);\n  return svg;\n}\n\nexport function svgLink(name: string, useSprite: boolean = true): string {\n  if (useSprite) {\n    return `#${name}`;\n  } else {\n    return (\n      window.location.protocol +\n      \"//\" +\n      window.location.host +\n      \"/static/peerinst/icons.svg#\" +\n      name\n    );\n  }\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n","// @flow\n\nimport { clear, createSvg } from \"../../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nexport type Notification = {\n  text: string,\n  inProgress: boolean,\n  error: boolean,\n  onClick: () => Promise<void>,\n  onCloseClick: () => Promise<void>,\n};\n\nlet model: {\n  notificationsOpen: boolean,\n  notifications: Array<Notification>,\n};\n\nfunction initModel(): void {\n  model = {\n    notificationsOpen: false,\n    notifications: [],\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction toggleNotifications(): void {\n  model.notificationsOpen = !model.notificationsOpen;\n  notificationsView();\n}\n\nexport function updateNotifications(notifications: Array<Notification>): void {\n  model.notifications = notifications;\n  notificationsView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(): void {\n  notificationsView();\n}\n\nfunction notificationsView(): void {\n  const notifications = document.querySelector(\".notifications\");\n  const badge = notifications?.querySelector(\".notifications__icon__badge\");\n  const notificationsList = notifications?.querySelector(\n    \".notifications__notifications\",\n  );\n\n  if (!notifications || !badge || !notificationsList) {\n    return;\n  }\n\n  const completedNotifications = model.notifications.filter(\n    notification => !notification.inProgress,\n  );\n  if (completedNotifications.length > 0) {\n    badge.textContent = completedNotifications.length.toString();\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n\n  clear(notificationsList);\n\n  if (model.notifications.length) {\n    model.notifications.map(function(notification) {\n      notificationsList.appendChild(notificationView(notification));\n    });\n  } else {\n    notificationsList.appendChild(noNotificationView());\n  }\n\n  if (model.notifications.some(notification => notification.inProgress)) {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.add(\"notifications__spinner--loading\");\n  } else {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.remove(\"notifications__spinner--loading\");\n  }\n\n  if (model.notificationsOpen) {\n    notifications.classList.add(\"notifications--open\");\n  } else {\n    notifications.classList.remove(\"notifications--open\");\n  }\n}\n\nfunction notificationView(notification: Notification): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"notification\");\n  div.addEventListener(\"click\", notification.onClick);\n\n  if (notification.inProgress) {\n    const spinner = document.createElement(\"loading-spinner\");\n    spinner.classList.add(\"notification__spinner\");\n    div.appendChild(spinner);\n  } else {\n    let icon;\n    if (notification.error) {\n      icon = createSvg(\"error\");\n      icon.classList.add(\"notification__icon--error\");\n      const remove = createSvg(\"close\");\n      remove.classList.add(\"notification__close\");\n      remove.addEventListener(\"click\", notification.onCloseClick);\n      div.appendChild(remove);\n    } else {\n      div.classList.add(\"notification--completed\");\n      icon = createSvg(\"cloud_download\");\n    }\n    icon.classList.add(\"notification__icon\");\n    div.appendChild(icon);\n  }\n\n  const description = document.createElement(\"span\");\n  description.classList.add(\"notification__description\");\n  description.textContent = notification.text;\n  div.appendChild(description);\n\n  return div;\n}\n\nfunction noNotificationView(): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.textContent = \"No new notifications\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners(): void {\n  addNotificationsOpenListener();\n}\n\nfunction addNotificationsOpenListener(): void {\n  document\n    .querySelector(\".notifications\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".notifications__icon\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      toggleNotifications();\n    });\n  document.body?.addEventListener(\"click\", function(event: MouseEvent) {\n    if (model.notificationsOpen) {\n      event.stopPropagation();\n      toggleNotifications();\n    }\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(): void {\n  initModel();\n  view();\n  initEventListeners();\n}\n","// @flow\nimport { buildReq } from \"../ajax.js\";\nimport { updateNotifications } from \"./header/notifications.js\";\nimport type { Notification } from \"./header/notifications.js\";\n\n/*********/\n/* model */\n/*********/\n\nconst CHECK_EVERY = 1;\n\ntype Task = {\n  id: string,\n  description: string,\n  completed: boolean,\n  datetime: Date,\n  error: boolean,\n};\n\nlet model: {\n  urls: {\n    requestGradebook: string,\n    gradebookResult: string,\n    removeFailedGradebook: string,\n    downloadGradebook: string,\n    tasks: string,\n  },\n  tasks: Array<Task>,\n};\n\nfunction initModel(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  model = {\n    tasks: [],\n    urls: {\n      requestGradebook: urls.requestGradebook,\n      gradebookResult: urls.gradebookResult,\n      removeFailedGradebook: urls.removeFailedGradebook,\n      downloadGradebook: urls.downloadGradebook,\n      tasks: urls.tasks,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction update(): void {\n  getTasks();\n}\n\nfunction getTasks(): void {\n  const url = model.urls.tasks;\n  const req = buildReq({}, \"get\");\n\n  fetch(url, req)\n    .then(resp => resp.json())\n    .then(data => {\n      initTasks(data.tasks);\n    });\n}\n\nasync function initTasks(\n  data: Array<{\n    id: string,\n    description: string,\n    completed: boolean,\n    datetime: string,\n  }>,\n): Promise<void> {\n  model.tasks = data\n    .map(task => ({\n      id: task.id,\n      description: task.description,\n      completed: task.completed,\n      datetime: new Date(task.datetime),\n      error: false,\n    }))\n    .sort((a, b) =>\n      a.datetime > b.datetime ? -1 : a.datetime < b.datetime ? 1 : 0,\n    );\n  updateNotifications(getNotifications());\n  Promise.all(\n    model.tasks\n      .filter(task => !task.completed)\n      .map(task => getGradebookResult(task)),\n  );\n}\n\nasync function requestGradebook(event: MouseEvent): Promise<void> {\n  event.stopPropagation();\n  const button = event.currentTarget;\n  const groupId = button.getAttribute(\"data-group\");\n  const assignmentId = button.getAttribute(\"data-assignment\");\n\n  const data = {\n    group_id: groupId,\n    assignment_id: assignmentId,\n  };\n\n  const url = model.urls.requestGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.status === 200) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n  } else if (resp.status === 201) {\n    const data = await resp.json();\n    const task = {\n      id: data.id,\n      description: data.description,\n      completed: data.completed,\n      datetime: new Date(data.datetime),\n      error: false,\n    };\n    model.tasks.unshift(task);\n    setTimeout(() => getGradebookResult(task), 0);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nasync function getGradebookResult(task: Task): Promise<void> {\n  const url = model.urls.gradebookResult;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n\n  if (resp.status == 200) {\n    task.completed = true;\n    updateNotifications(getNotifications());\n  } else if (resp.status == 202) {\n    await new Promise(resolve =>\n      setTimeout(() => getGradebookResult(task), CHECK_EVERY * 1000),\n    );\n  } else {\n    task.completed = true;\n    task.error = true;\n    updateNotifications(getNotifications());\n  }\n}\n\nasync function removeGradebookError(task: Task): Promise<void> {\n  const url = model.urls.removeFailedGradebook;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n  if (resp.ok) {\n    model.tasks = model.tasks.filter(t => t.id !== task.id);\n  }\n  updateNotifications(getNotifications());\n}\n\nasync function downloadGradebook(task: Task): Promise<void> {\n  const data = {\n    task_id: task.id,\n  };\n  const url = model.urls.downloadGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.ok) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n    model.tasks = model.tasks.filter(t => t.id != task.id);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nfunction _downloadGradebook(title: string, csv: string): void {\n  const a = document.createElement(\"a\");\n  a.href = `data:text/csv;charset=utf-8, ${escape(csv)}`;\n  a.target = \"_blank\";\n  a.download = title;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n\nfunction getNotifications(): Array<Notification> {\n  return model.tasks.map(task => ({\n    text: task.completed\n      ? task.error\n        ? `There was an error creating the gradebook for ${task.description}.`\n        : `The ${task.description} is ready.`\n      : `Computing the ${task.description}...`,\n    inProgress: !task.completed,\n    error: task.error,\n    onClick:\n      task.completed && !task.error\n        ? async () => await downloadGradebook(task)\n        : async () => undefined,\n    onCloseClick: async () => await removeGradebookError(task),\n  }));\n}\n\n/********/\n/* view */\n/********/\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners(): void {\n  addGradebookListeners();\n}\n\nfunction addGradebookListeners(): void {\n  [...document.getElementsByClassName(\"gradebook-button\")].forEach(button => {\n    button.addEventListener(\n      \"click\",\n      async (event: MouseEvent) => await requestGradebook(event),\n    );\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  initModel(urls);\n  update();\n  initListeners();\n}\n","// @flow\nimport { buildReq } from \"../../ajax.js\";\nimport { clear, createSvg } from \"../../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\ntype Thread = {\n  id: number,\n  title: string,\n  lastReply: {\n    author: string,\n    content: string,\n  },\n  nNew: number,\n  link: string,\n};\n\ntype Message = Thread;\n\nlet model: {\n  open: boolean,\n  messages: Array<Message>,\n  urls: {\n    markReadUrl: string,\n    messagesUrl: string,\n  },\n};\n\nfunction initModel(urls: { markReadUrl: string, messagesUrl: string }): void {\n  model = {\n    open: false,\n    messages: [],\n    urls: urls,\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction update(): void {\n  getMessages();\n}\n\nfunction toggleMessages(): void {\n  model.open = !model.open;\n  messagesView();\n}\n\nfunction getMessages(): void {\n  const url = model.urls.messagesUrl;\n  const req = buildReq({}, \"get\");\n\n  fetch(url, req)\n    .then(resp => resp.json())\n    .then(data => {\n      model.messages = data.threads.map(message => ({\n        id: message.id,\n        title: message.title,\n        lastReply: {\n          author: message.last_reply.author,\n          content: message.last_reply.content,\n        },\n        nNew: message.n_new,\n        link: message.link,\n      }));\n      messagesView();\n    });\n}\n\nasync function markAllRead(): Promise<void> {\n  const req = buildReq({}, \"post\");\n  const resp = await fetch(model.urls.markReadUrl, req);\n  if (resp.ok) {\n    model.messages.forEach(message => {\n      message.nNew = 0;\n    });\n  }\n  messagesView();\n}\n\nasync function markRead(\n  event: MouseEvent,\n  message: Message,\n  div: HTMLDivElement,\n): Promise<void> {\n  event.stopPropagation();\n  const req = buildReq({ id: message.id }, \"post\");\n  const resp = await fetch(model.urls.markReadUrl, req);\n  if (resp.ok) {\n    message.nNew = 0;\n  }\n  messageView(message, div);\n  badgeView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(): void {\n  messagesView();\n}\n\nfunction messagesView(): void {\n  const messages = document.querySelector(\".messages\");\n  const badge = messages?.querySelector(\".messages__icon__badge\");\n  const messagesList = messages?.querySelector(\".messages__messages\");\n\n  if (!messages || !badge || !messagesList) {\n    return;\n  }\n\n  badgeView();\n\n  clear(messagesList);\n\n  if (model.messages.length) {\n    model.messages.map(function(message) {\n      messagesList.appendChild(messageView(message));\n    });\n  } else {\n    messagesList.appendChild(noMessageView());\n  }\n\n  if (model.open) {\n    messages.classList.add(\"messages--open\");\n  } else {\n    messages.classList.remove(\"messages--open\");\n  }\n}\n\nfunction badgeView(): void {\n  const badge = document.querySelector(\".messages__icon__badge\");\n\n  const nNew = model.messages.filter(message => message.nNew > 0).length;\n  if (nNew) {\n    badge.textContent = nNew.toString();\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n}\n\nfunction messageView(\n  message: Message,\n  div: ?HTMLDivElement = null,\n): HTMLDivElement {\n  if (div) {\n    clear(div);\n  } else {\n    div = document.createElement(\"div\");\n    div.classList.add(\"message\");\n    div.addEventListener(\"click\", () => {\n      window.location.href = message.link;\n    });\n  }\n\n  if (message.nNew) {\n    div.classList.add(\"message--new\");\n  } else {\n    div.classList.remove(\"message--new\");\n  }\n\n  const icon = createSvg(\"chat_bubble\");\n  icon.classList.add(\"message__icon\");\n  div.appendChild(icon);\n\n  if (message.nNew) {\n    const new_ = document.createElement(\"span\");\n    new_.classList.add(\"message__new\");\n    new_.textContent = `( ${message.nNew} new )`;\n    div.appendChild(new_);\n  }\n\n  const title = document.createElement(\"span\");\n  title.classList.add(\"message__title\");\n  title.textContent = message.title;\n  div.appendChild(title);\n\n  if (message.nNew) {\n    const markReadBtn = document.createElement(\"span\");\n    markReadBtn.classList.add(\"message__mark-read\");\n    markReadBtn.textContent = \"Mark read\";\n    markReadBtn.addEventListener(\"click\", (event: MouseEvent) =>\n      markRead(event, message, div),\n    );\n    div.appendChild(markReadBtn);\n  }\n\n  const lastReply = document.createElement(\"div\");\n  lastReply.classList.add(\"message__last-reply\");\n  div.appendChild(lastReply);\n\n  const author = document.createElement(\"span\");\n  author.classList.add(\"message__last-reply__author\");\n  author.textContent = message.lastReply.author;\n  lastReply.appendChild(author);\n\n  const content = document.createElement(\"span\");\n  content.classList.add(\"message__last-reply__content\");\n  content.textContent = message.lastReply.content;\n  lastReply.appendChild(content);\n\n  return div;\n}\n\nfunction noMessageView(): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.textContent = \"No messages\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners(): void {\n  addMessagesOpenListener();\n  addMarkAllReadListener();\n}\n\nfunction addMessagesOpenListener(): void {\n  document\n    .querySelector(\".messages\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".messages__icon\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      toggleMessages();\n    });\n  document.body?.addEventListener(\"click\", function(event: MouseEvent) {\n    if (model.open) {\n      event.stopPropagation();\n      toggleMessages();\n    }\n  });\n}\n\nfunction addMarkAllReadListener(): void {\n  document\n    .querySelector(\".messages__read-all-btn\")\n    ?.addEventListener(\"click\", () => markAllRead());\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(urls: {\n  markReadUrl: string,\n  messagesUrl: string,\n}): void {\n  initModel(urls);\n  update();\n  view();\n  initEventListeners();\n}\n","// @flow\n\"use strict\";\n\nexport { init as initDashboard } from \"./_teacher/dashboard.js\";\nexport { init as initGradebooks } from \"./_teacher/gradebooks.js\";\nexport { init as initMessages } from \"./_teacher/header/messages.js\";\nexport { init as initNotifications } from \"./_teacher/header/notifications.js\";\n"],"names":["getCsrfToken","document","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","model","initModel","collections","rationales","urls","update","getCollections","getRationales","req","resp","fetch","json","map","collection","title","description","discipline","nAssignments","n_assignments","nFollowers","n_followers","collectionsView","rationale","qTitle","choice","choiceText","text","correct","rationalesView","section","querySelector","length","classList","remove","add","init","clear","node","hasChildNodes","removeChild","lastChild","createSvg","name","useSprite","svg","createElementNS","use","setAttributeNS","svgLink","append","window","location","protocol","host","notificationsOpen","notifications","toggleNotifications","notificationsView","updateNotifications","view","badge","notificationsList","completedNotifications","filter","notification","inProgress","textContent","toString","style","display","appendChild","notificationView","noNotificationView","some","div","createElement","addEventListener","onClick","spinner","icon","error","onCloseClick","initEventListeners","addNotificationsOpenListener","event","stopPropagation","CHECK_EVERY","tasks","requestGradebook","gradebookResult","removeFailedGradebook","downloadGradebook","getTasks","url","then","initTasks","task","id","completed","datetime","Date","sort","a","b","getNotifications","Promise","all","getGradebookResult","button","currentTarget","groupId","assignmentId","group_id","assignment_id","status","split","csv","slice","join","_downloadGradebook","unshift","setTimeout","console","log","task_id","resolve","removeGradebookError","ok","t","href","escape","target","download","click","undefined","initListeners","addGradebookListeners","getElementsByClassName","forEach","open","messages","getMessages","toggleMessages","messagesView","messagesUrl","threads","message","lastReply","author","last_reply","content","nNew","n_new","link","markAllRead","markReadUrl","markRead","messageView","badgeView","messagesList","noMessageView","new_","markReadBtn","addMessagesOpenListener","addMarkAllReadListener"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL2RhbGl0ZS9zdGF0aWMvanMvYWpheC5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9kYXNoYm9hcmQuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvYWpheC5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy91dGlscy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9oZWFkZXIvbm90aWZpY2F0aW9ucy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9ncmFkZWJvb2tzLmpzIiwiL2hvbWUvYW50b2luZS9kb2N1bWVudHMvd29yay9zY2l2ZXJvL3Byb2plY3RzL2RhbGl0ZS9kYWxpdGUvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL190ZWFjaGVyL2hlYWRlci9tZXNzYWdlcy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy90ZWFjaGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRDc3JmVG9rZW4oKSB7XG4gIHJldHVybiBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50c0J5TmFtZShcImNzcmZtaWRkbGV3YXJldG9rZW5cIilbMF1cbiAgICAuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJlcShkYXRhLCBtZXRob2QpIHtcbiAgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IGdldENzcmZUb2tlbigpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcInBvc3RcIikge1xuICAgIGNvbnN0IGJvZHkgPSBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE1ldGhvZCAke21ldGhvZH0gbm90IGltcGxlbWVudGVkIHlldC5gKTtcbiAgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2RhbGl0ZS9zdGF0aWMvanMvYWpheC5qc1wiO1xuXG4vKioqKioqKioqL1xuLyogbW9kZWwgKi9cbi8qKioqKioqKiovXG5cbnR5cGUgSW5pdERhdGEgPSB7XG4gIHVybHM6IHsgY29sbGVjdGlvbnM6IHN0cmluZywgcmF0aW9uYWxlczogc3RyaW5nIH0sXG59O1xuXG50eXBlIENvbGxlY3Rpb24gPSB7XG4gIHRpdGxlOiBzdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIGRpc2NpcGxpbmU6IHN0cmluZyxcbiAgbkFzc2lnbm1lbnRzOiBudW1iZXIsXG4gIG5Gb2xsb3dlcnM6IG51bWJlcixcbn07XG5cbnR5cGUgUmF0aW9uYWxlID0ge1xuICB0aXRsZTogc3RyaW5nLFxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICBhbnN3ZXI6IHN0cmluZyxcbiAgc2NvcmU6IG51bWJlcixcbiAgYW5ub3RhdG9yOiBudW1iZXIsXG59O1xuXG5sZXQgbW9kZWw6IHtcbiAgY29sbGVjdGlvbnM6IEFycmF5PENvbGxlY3Rpb24+LFxuICByYXRpb25hbGVzOiBBcnJheTxSYXRpb25hbGU+LFxuICB1cmxzOiB7XG4gICAgY29sbGVjdGlvbnM6IHN0cmluZyxcbiAgICByYXRpb25hbGVzOiBzdHJpbmcsXG4gIH0sXG59O1xuXG5mdW5jdGlvbiBpbml0TW9kZWwoZGF0YTogSW5pdERhdGEpIHtcbiAgbW9kZWwgPSB7XG4gICAgY29sbGVjdGlvbnM6IFtdLFxuICAgIHJhdGlvbmFsZXM6IFtdLFxuICAgIHVybHM6IHtcbiAgICAgIGNvbGxlY3Rpb25zOiBkYXRhLnVybHMuY29sbGVjdGlvbnMsXG4gICAgICByYXRpb25hbGVzOiBkYXRhLnVybHMucmF0aW9uYWxlcyxcbiAgICB9LFxuICB9O1xufVxuXG4vKioqKioqKioqKi9cbi8qIHVwZGF0ZSAqL1xuLyoqKioqKioqKiovXG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgYXdhaXQgZ2V0Q29sbGVjdGlvbnMoKTtcbiAgYXdhaXQgZ2V0UmF0aW9uYWxlcygpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRDb2xsZWN0aW9ucygpIHtcbiAgY29uc3QgZGF0YSA9IHt9O1xuICBjb25zdCByZXEgPSBidWlsZFJlcShkYXRhLCBcInBvc3RcIik7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChtb2RlbC51cmxzLmNvbGxlY3Rpb25zLCByZXEpO1xuICBjb25zdCBqc29uID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gIG1vZGVsLmNvbGxlY3Rpb25zID0ganNvbi5jb2xsZWN0aW9ucy5tYXAoY29sbGVjdGlvbiA9PiAoe1xuICAgIHRpdGxlOiBjb2xsZWN0aW9uLnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uOiBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIGRpc2NpcGxpbmU6IGNvbGxlY3Rpb24uZGlzY2lwbGluZSxcbiAgICBuQXNzaWdubWVudHM6IGNvbGxlY3Rpb24ubl9hc3NpZ25tZW50cyxcbiAgICBuRm9sbG93ZXJzOiBjb2xsZWN0aW9uLm5fZm9sbG93ZXJzLFxuICB9KSk7XG4gIGNvbGxlY3Rpb25zVmlldygpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRSYXRpb25hbGVzKCkge1xuICBjb25zdCBkYXRhID0ge307XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKGRhdGEsIFwicG9zdFwiKTtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKG1vZGVsLnVybHMucmF0aW9uYWxlcywgcmVxKTtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlc3AuanNvbigpO1xuICBtb2RlbC5yYXRpb25hbGVzID0ganNvbi5yYXRpb25hbGVzLm1hcChyYXRpb25hbGUgPT4gKHtcbiAgICBxVGl0bGU6IHJhdGlvbmFsZS50aXRsZSxcbiAgICByYXRpb25hbGU6IHJhdGlvbmFsZS5yYXRpb25hbGUsXG4gICAgY2hvaWNlOiByYXRpb25hbGUuY2hvaWNlLFxuICAgIGNob2ljZVRleHQ6IHJhdGlvbmFsZS50ZXh0LFxuICAgIGNvcnJlY3Q6IHJhdGlvbmFsZS5jb3JyZWN0LFxuICB9KSk7XG4gIHJhdGlvbmFsZXNWaWV3KCk7XG59XG5cbi8qKioqKioqKi9cbi8qIHZpZXcgKi9cbi8qKioqKioqKi9cblxuZnVuY3Rpb24gY29sbGVjdGlvbnNWaWV3KCkge1xuICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2xsZWN0aW9uc1wiKTtcbiAgaWYgKCFzZWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgYSBtaXNzaW5nIHNlY3Rpb24gd2l0aCBjbGFzcyBgY29sbGVjdGlvbnNgXCIpO1xuICB9XG4gIGlmIChtb2RlbC5jb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICBzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjb2xsZWN0aW9ucy0taGlkZGVuXCIpO1xuICB9IGVsc2Uge1xuICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZChcImNvbGxlY3Rpb25zLS1oaWRkZW5cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmF0aW9uYWxlc1ZpZXcoKSB7XG4gIGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhdGlvbmFsZXNcIik7XG4gIGlmICghc2VjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIGEgbWlzc2luZyBzZWN0aW9uIHdpdGggY2xhc3MgYHJhdGlvbmFsZXNgXCIpO1xuICB9XG4gIGlmIChtb2RlbC5yYXRpb25hbGVzLmxlbmd0aCkge1xuICAgIHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcInJhdGlvbmFsZXMtLWhpZGRlblwiKTtcbiAgfSBlbHNlIHtcbiAgICBzZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJyYXRpb25hbGVzLS1oaWRkZW5cIik7XG4gIH1cbn1cblxuLyoqKioqKioqL1xuLyogaW5pdCAqL1xuLyoqKioqKioqL1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdChkYXRhOiBJbml0RGF0YSkge1xuICBpbml0TW9kZWwoZGF0YSk7XG4gIGF3YWl0IHVwZGF0ZSgpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDc3JmVG9rZW4oKSB7XG4gIHJldHVybiBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50c0J5TmFtZShcImNzcmZtaWRkbGV3YXJldG9rZW5cIilbMF1cbiAgICAuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJlcShkYXRhLCBtZXRob2QpIHtcbiAgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IGdldENzcmZUb2tlbigpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcInBvc3RcIikge1xuICAgIGNvbnN0IGJvZHkgPSBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE1ldGhvZCAke21ldGhvZH0gbm90IGltcGxlbWVudGVkIHlldC5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXNzaWdubWVudFF1ZXN0aW9uTGlzdChcbiAgdXJsLFxuICBxdWVzdGlvbklkLFxuICBhc3NpZ25tZW50SWRlbnRpZmllcixcbikge1xuICBjb25zdCB0b2tlbiA9IGdldENzcmZUb2tlbigpO1xuICBjb25zdCBkYXRhID0ge1xuICAgIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbklkLFxuICAgIGFzc2lnbm1lbnRfaWRlbnRpZmllcjogYXNzaWdubWVudElkZW50aWZpZXIsXG4gIH07XG4gIGNvbnN0IHJlcSA9IHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiWC1DU1JGVG9rZW5cIjogdG9rZW4sXG4gICAgfSxcbiAgfTtcbiAgZmV0Y2godXJsLCByZXEpXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWFuaXB1bGF0ZSBET01cbiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb24tbGlzdFwiKTtcbiAgICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHF1ZXN0aW9uSWQpO1xuICAgICAgICBpZiAoJC5jb250YWlucyhsaXN0LCBjYXJkKSkge1xuICAgICAgICAgICQoXCIjXCIgKyBxdWVzdGlvbklkKS5yZW1vdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKFwiI1wiICsgcXVlc3Rpb25JZClcbiAgICAgICAgICAgIC5maW5kKCQoXCIudXBkYXRlLXF1ZXN0aW9ucy1idG5cIikpXG4gICAgICAgICAgICAuaHRtbChcImRlbGV0ZVwiKTtcbiAgICAgICAgICBjb25zdCBxID0gJChcIiNcIiArIHF1ZXN0aW9uSWQpLmRldGFjaCgpO1xuICAgICAgICAgIHEuYXBwZW5kVG8oJChcIiNxdWVzdGlvbi1saXN0XCIpKTtcbiAgICAgICAgICAkKFwiI2VtcHR5LWFzc2lnbm1lbnQtbGlzdFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAkKFwiLnNlYXJjaC1zZXRcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgICAgICAgICAgICAgLmZpbmQoXCIuZmlsdGVyLWNvdW50XCIpXG4gICAgICAgICAgICAgIC5lbXB0eSgpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJCh0aGlzKS5maW5kKFwiLm1kYy1jYXJkOnZpc2libGVcIikubGVuZ3RoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXMsbWF4LWxlblxuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoXCIuc2VhcmNoLXNldFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgICAgICAgICAuZmluZChcIi5maWx0ZXItY291bnQtdG90YWxcIilcbiAgICAgICAgICAgICAgLmVtcHR5KClcbiAgICAgICAgICAgICAgLmFwcGVuZCgkKHRoaXMpLmZpbmQoXCIubWRjLWNhcmRcIikubGVuZ3RoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnZhbGlkLXRoaXMsbWF4LWxlblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuIiwiLy8gQGZsb3dcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXIobm9kZTogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gIHdoaWxlIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgIC8vICRGbG93Rml4TWVcbiAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUubGFzdENoaWxkKTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGV0aW1lKGRhdGV0aW1lOiBEYXRlKTogc3RyaW5nIHtcbiAgcmV0dXJuIChcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgeWVhcjogXCJudW1lcmljXCIgfSkgK1xuICAgIFwiLVwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgbW9udGg6IFwiMi1kaWdpdFwiIH0pICtcbiAgICBcIi1cIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IGRheTogXCIyLWRpZ2l0XCIgfSkgK1xuICAgIFwiIFwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgaG91cjogXCIyLWRpZ2l0XCIsIGhvdXIxMjogZmFsc2UgfSkgK1xuICAgIFwiOlwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgbWludXRlOiBcIjItZGlnaXRcIiB9KVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ZnKG5hbWU6IHN0cmluZywgdXNlU3ByaXRlOiBib29sZWFuID0gdHJ1ZSk6IEVsZW1lbnQge1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgY29uc3QgdXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJ1c2VcIik7XG4gIHVzZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICBcImhyZWZcIixcbiAgICBzdmdMaW5rKG5hbWUsIHVzZVNwcml0ZSksXG4gICk7XG4gIHN2Zy5hcHBlbmQodXNlKTtcbiAgcmV0dXJuIHN2Zztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z0xpbmsobmFtZTogc3RyaW5nLCB1c2VTcHJpdGU6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nIHtcbiAgaWYgKHVzZVNwcml0ZSkge1xuICAgIHJldHVybiBgIyR7bmFtZX1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgK1xuICAgICAgXCIvL1wiICtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICtcbiAgICAgIFwiL3N0YXRpYy9wZWVyaW5zdC9pY29ucy5zdmcjXCIgK1xuICAgICAgbmFtZVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dBbGVydChtc2c6IHN0cmluZykge1xuICBjb25zdCBmdWxsUGFnZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGZ1bGxQYWdlQm94LmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2Z1bGwtcGFnZVwiKTtcbiAgZnVsbFBhZ2VCb3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGZ1bGxQYWdlQm94LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGZ1bGxQYWdlQm94KTtcbiAgfSk7XG4gIGRvY3VtZW50LmJvZHk/LmFwcGVuZENoaWxkKGZ1bGxQYWdlQm94KTtcblxuICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBib3guY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fYm94XCIpO1xuICBib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKSxcbiAgKTtcbiAgZnVsbFBhZ2VCb3guYXBwZW5kQ2hpbGQoYm94KTtcblxuICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIHNwYW4uY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fbXNnXCIpO1xuICBzcGFuLnRleHRDb250ZW50ID0gbXNnO1xuICBib3guYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgY29uc3Qgb2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBvay5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19idG5cIiwgXCJtZGMtYnV0dG9uXCIsIFwibWRjLWJ1dHRvbi0tdW5lbGV2YXRlZFwiKTtcbiAgb2sudGV4dENvbnRlbnQgPSBcIk9rXCI7XG4gIGJveC5hcHBlbmRDaGlsZChvayk7XG59XG4iLCIvLyBAZmxvd1xuXG5pbXBvcnQgeyBjbGVhciwgY3JlYXRlU3ZnIH0gZnJvbSBcIi4uLy4uL3V0aWxzLmpzXCI7XG5cbi8qKioqKioqKiovXG4vKiBtb2RlbCAqL1xuLyoqKioqKioqKi9cblxuZXhwb3J0IHR5cGUgTm90aWZpY2F0aW9uID0ge1xuICB0ZXh0OiBzdHJpbmcsXG4gIGluUHJvZ3Jlc3M6IGJvb2xlYW4sXG4gIGVycm9yOiBib29sZWFuLFxuICBvbkNsaWNrOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICBvbkNsb3NlQ2xpY2s6ICgpID0+IFByb21pc2U8dm9pZD4sXG59O1xuXG5sZXQgbW9kZWw6IHtcbiAgbm90aWZpY2F0aW9uc09wZW46IGJvb2xlYW4sXG4gIG5vdGlmaWNhdGlvbnM6IEFycmF5PE5vdGlmaWNhdGlvbj4sXG59O1xuXG5mdW5jdGlvbiBpbml0TW9kZWwoKTogdm9pZCB7XG4gIG1vZGVsID0ge1xuICAgIG5vdGlmaWNhdGlvbnNPcGVuOiBmYWxzZSxcbiAgICBub3RpZmljYXRpb25zOiBbXSxcbiAgfTtcbn1cblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG5mdW5jdGlvbiB0b2dnbGVOb3RpZmljYXRpb25zKCk6IHZvaWQge1xuICBtb2RlbC5ub3RpZmljYXRpb25zT3BlbiA9ICFtb2RlbC5ub3RpZmljYXRpb25zT3BlbjtcbiAgbm90aWZpY2F0aW9uc1ZpZXcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvbnMobm90aWZpY2F0aW9uczogQXJyYXk8Tm90aWZpY2F0aW9uPik6IHZvaWQge1xuICBtb2RlbC5ub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucztcbiAgbm90aWZpY2F0aW9uc1ZpZXcoKTtcbn1cblxuLyoqKioqKioqL1xuLyogdmlldyAqL1xuLyoqKioqKioqL1xuXG5mdW5jdGlvbiB2aWV3KCk6IHZvaWQge1xuICBub3RpZmljYXRpb25zVmlldygpO1xufVxuXG5mdW5jdGlvbiBub3RpZmljYXRpb25zVmlldygpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc1wiKTtcbiAgY29uc3QgYmFkZ2UgPSBub3RpZmljYXRpb25zPy5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNfX2ljb25fX2JhZGdlXCIpO1xuICBjb25zdCBub3RpZmljYXRpb25zTGlzdCA9IG5vdGlmaWNhdGlvbnM/LnF1ZXJ5U2VsZWN0b3IoXG4gICAgXCIubm90aWZpY2F0aW9uc19fbm90aWZpY2F0aW9uc1wiLFxuICApO1xuXG4gIGlmICghbm90aWZpY2F0aW9ucyB8fCAhYmFkZ2UgfHwgIW5vdGlmaWNhdGlvbnNMaXN0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY29tcGxldGVkTm90aWZpY2F0aW9ucyA9IG1vZGVsLm5vdGlmaWNhdGlvbnMuZmlsdGVyKFxuICAgIG5vdGlmaWNhdGlvbiA9PiAhbm90aWZpY2F0aW9uLmluUHJvZ3Jlc3MsXG4gICk7XG4gIGlmIChjb21wbGV0ZWROb3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICBiYWRnZS50ZXh0Q29udGVudCA9IGNvbXBsZXRlZE5vdGlmaWNhdGlvbnMubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgYmFkZ2Uuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICB9IGVsc2Uge1xuICAgIGJhZGdlLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBiYWRnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBjbGVhcihub3RpZmljYXRpb25zTGlzdCk7XG5cbiAgaWYgKG1vZGVsLm5vdGlmaWNhdGlvbnMubGVuZ3RoKSB7XG4gICAgbW9kZWwubm90aWZpY2F0aW9ucy5tYXAoZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7XG4gICAgICBub3RpZmljYXRpb25zTGlzdC5hcHBlbmRDaGlsZChub3RpZmljYXRpb25WaWV3KG5vdGlmaWNhdGlvbikpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG5vdGlmaWNhdGlvbnNMaXN0LmFwcGVuZENoaWxkKG5vTm90aWZpY2F0aW9uVmlldygpKTtcbiAgfVxuXG4gIGlmIChtb2RlbC5ub3RpZmljYXRpb25zLnNvbWUobm90aWZpY2F0aW9uID0+IG5vdGlmaWNhdGlvbi5pblByb2dyZXNzKSkge1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zX19zcGlubmVyXCIpXG4gICAgICA/LmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25zX19zcGlubmVyLS1sb2FkaW5nXCIpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zX19zcGlubmVyXCIpXG4gICAgICA/LmNsYXNzTGlzdC5yZW1vdmUoXCJub3RpZmljYXRpb25zX19zcGlubmVyLS1sb2FkaW5nXCIpO1xuICB9XG5cbiAgaWYgKG1vZGVsLm5vdGlmaWNhdGlvbnNPcGVuKSB7XG4gICAgbm90aWZpY2F0aW9ucy5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9ucy0tb3BlblwiKTtcbiAgfSBlbHNlIHtcbiAgICBub3RpZmljYXRpb25zLmNsYXNzTGlzdC5yZW1vdmUoXCJub3RpZmljYXRpb25zLS1vcGVuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vdGlmaWNhdGlvblZpZXcobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiBIVE1MRGl2RWxlbWVudCB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uXCIpO1xuICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG5vdGlmaWNhdGlvbi5vbkNsaWNrKTtcblxuICBpZiAobm90aWZpY2F0aW9uLmluUHJvZ3Jlc3MpIHtcbiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxvYWRpbmctc3Bpbm5lclwiKTtcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25fX3NwaW5uZXJcIik7XG4gICAgZGl2LmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICB9IGVsc2Uge1xuICAgIGxldCBpY29uO1xuICAgIGlmIChub3RpZmljYXRpb24uZXJyb3IpIHtcbiAgICAgIGljb24gPSBjcmVhdGVTdmcoXCJlcnJvclwiKTtcbiAgICAgIGljb24uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbl9faWNvbi0tZXJyb3JcIik7XG4gICAgICBjb25zdCByZW1vdmUgPSBjcmVhdGVTdmcoXCJjbG9zZVwiKTtcbiAgICAgIHJlbW92ZS5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uX19jbG9zZVwiKTtcbiAgICAgIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm90aWZpY2F0aW9uLm9uQ2xvc2VDbGljayk7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQocmVtb3ZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb24tLWNvbXBsZXRlZFwiKTtcbiAgICAgIGljb24gPSBjcmVhdGVTdmcoXCJjbG91ZF9kb3dubG9hZFwiKTtcbiAgICB9XG4gICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uX19pY29uXCIpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChpY29uKTtcbiAgfVxuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGRlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25fX2Rlc2NyaXB0aW9uXCIpO1xuICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5vdGlmaWNhdGlvbi50ZXh0O1xuICBkaXYuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuXG4gIHJldHVybiBkaXY7XG59XG5cbmZ1bmN0aW9uIG5vTm90aWZpY2F0aW9uVmlldygpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi50ZXh0Q29udGVudCA9IFwiTm8gbmV3IG5vdGlmaWNhdGlvbnNcIjtcbiAgcmV0dXJuIGRpdjtcbn1cblxuLyoqKioqKioqKioqKiovXG4vKiBsaXN0ZW5lcnMgKi9cbi8qKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBpbml0RXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gIGFkZE5vdGlmaWNhdGlvbnNPcGVuTGlzdGVuZXIoKTtcbn1cblxuZnVuY3Rpb24gYWRkTm90aWZpY2F0aW9uc09wZW5MaXN0ZW5lcigpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zXCIpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNfX2ljb25cIilcbiAgICA/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgdG9nZ2xlTm90aWZpY2F0aW9ucygpO1xuICAgIH0pO1xuICBkb2N1bWVudC5ib2R5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAobW9kZWwubm90aWZpY2F0aW9uc09wZW4pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdG9nZ2xlTm90aWZpY2F0aW9ucygpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKioqKioqKi9cbi8qIGluaXQgKi9cbi8qKioqKioqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKTogdm9pZCB7XG4gIGluaXRNb2RlbCgpO1xuICB2aWV3KCk7XG4gIGluaXRFdmVudExpc3RlbmVycygpO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uL2FqYXguanNcIjtcbmltcG9ydCB7IHVwZGF0ZU5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiLi9oZWFkZXIvbm90aWZpY2F0aW9ucy5qc1wiO1xuaW1wb3J0IHR5cGUgeyBOb3RpZmljYXRpb24gfSBmcm9tIFwiLi9oZWFkZXIvbm90aWZpY2F0aW9ucy5qc1wiO1xuXG4vKioqKioqKioqL1xuLyogbW9kZWwgKi9cbi8qKioqKioqKiovXG5cbmNvbnN0IENIRUNLX0VWRVJZID0gMTtcblxudHlwZSBUYXNrID0ge1xuICBpZDogc3RyaW5nLFxuICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICBjb21wbGV0ZWQ6IGJvb2xlYW4sXG4gIGRhdGV0aW1lOiBEYXRlLFxuICBlcnJvcjogYm9vbGVhbixcbn07XG5cbmxldCBtb2RlbDoge1xuICB1cmxzOiB7XG4gICAgcmVxdWVzdEdyYWRlYm9vazogc3RyaW5nLFxuICAgIGdyYWRlYm9va1Jlc3VsdDogc3RyaW5nLFxuICAgIHJlbW92ZUZhaWxlZEdyYWRlYm9vazogc3RyaW5nLFxuICAgIGRvd25sb2FkR3JhZGVib29rOiBzdHJpbmcsXG4gICAgdGFza3M6IHN0cmluZyxcbiAgfSxcbiAgdGFza3M6IEFycmF5PFRhc2s+LFxufTtcblxuZnVuY3Rpb24gaW5pdE1vZGVsKHVybHM6IHtcbiAgcmVxdWVzdEdyYWRlYm9vazogc3RyaW5nLFxuICBncmFkZWJvb2tSZXN1bHQ6IHN0cmluZyxcbiAgcmVtb3ZlRmFpbGVkR3JhZGVib29rOiBzdHJpbmcsXG4gIGRvd25sb2FkR3JhZGVib29rOiBzdHJpbmcsXG4gIHRhc2tzOiBzdHJpbmcsXG59KTogdm9pZCB7XG4gIG1vZGVsID0ge1xuICAgIHRhc2tzOiBbXSxcbiAgICB1cmxzOiB7XG4gICAgICByZXF1ZXN0R3JhZGVib29rOiB1cmxzLnJlcXVlc3RHcmFkZWJvb2ssXG4gICAgICBncmFkZWJvb2tSZXN1bHQ6IHVybHMuZ3JhZGVib29rUmVzdWx0LFxuICAgICAgcmVtb3ZlRmFpbGVkR3JhZGVib29rOiB1cmxzLnJlbW92ZUZhaWxlZEdyYWRlYm9vayxcbiAgICAgIGRvd25sb2FkR3JhZGVib29rOiB1cmxzLmRvd25sb2FkR3JhZGVib29rLFxuICAgICAgdGFza3M6IHVybHMudGFza3MsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG5mdW5jdGlvbiB1cGRhdGUoKTogdm9pZCB7XG4gIGdldFRhc2tzKCk7XG59XG5cbmZ1bmN0aW9uIGdldFRhc2tzKCk6IHZvaWQge1xuICBjb25zdCB1cmwgPSBtb2RlbC51cmxzLnRhc2tzO1xuICBjb25zdCByZXEgPSBidWlsZFJlcSh7fSwgXCJnZXRcIik7XG5cbiAgZmV0Y2godXJsLCByZXEpXG4gICAgLnRoZW4ocmVzcCA9PiByZXNwLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgIGluaXRUYXNrcyhkYXRhLnRhc2tzKTtcbiAgICB9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdFRhc2tzKFxuICBkYXRhOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZyxcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgIGNvbXBsZXRlZDogYm9vbGVhbixcbiAgICBkYXRldGltZTogc3RyaW5nLFxuICB9Pixcbik6IFByb21pc2U8dm9pZD4ge1xuICBtb2RlbC50YXNrcyA9IGRhdGFcbiAgICAubWFwKHRhc2sgPT4gKHtcbiAgICAgIGlkOiB0YXNrLmlkLFxuICAgICAgZGVzY3JpcHRpb246IHRhc2suZGVzY3JpcHRpb24sXG4gICAgICBjb21wbGV0ZWQ6IHRhc2suY29tcGxldGVkLFxuICAgICAgZGF0ZXRpbWU6IG5ldyBEYXRlKHRhc2suZGF0ZXRpbWUpLFxuICAgICAgZXJyb3I6IGZhbHNlLFxuICAgIH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PlxuICAgICAgYS5kYXRldGltZSA+IGIuZGF0ZXRpbWUgPyAtMSA6IGEuZGF0ZXRpbWUgPCBiLmRhdGV0aW1lID8gMSA6IDAsXG4gICAgKTtcbiAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xuICBQcm9taXNlLmFsbChcbiAgICBtb2RlbC50YXNrc1xuICAgICAgLmZpbHRlcih0YXNrID0+ICF0YXNrLmNvbXBsZXRlZClcbiAgICAgIC5tYXAodGFzayA9PiBnZXRHcmFkZWJvb2tSZXN1bHQodGFzaykpLFxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXF1ZXN0R3JhZGVib29rKGV2ZW50OiBNb3VzZUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICBjb25zdCBidXR0b24gPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICBjb25zdCBncm91cElkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShcImRhdGEtZ3JvdXBcIik7XG4gIGNvbnN0IGFzc2lnbm1lbnRJZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFzc2lnbm1lbnRcIik7XG5cbiAgY29uc3QgZGF0YSA9IHtcbiAgICBncm91cF9pZDogZ3JvdXBJZCxcbiAgICBhc3NpZ25tZW50X2lkOiBhc3NpZ25tZW50SWQsXG4gIH07XG5cbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy5yZXF1ZXN0R3JhZGVib29rO1xuICBjb25zdCByZXEgPSBidWlsZFJlcShkYXRhLCBcInBvc3RcIik7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcSk7XG5cbiAgaWYgKHJlc3Auc3RhdHVzID09PSAyMDApIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcC50ZXh0KCk7XG4gICAgY29uc3QgdGl0bGUgPSBkYXRhLnNwbGl0KFwiXFxuXCIpWzBdO1xuICAgIGNvbnN0IGNzdiA9IGRhdGFcbiAgICAgIC5zcGxpdChcIlxcblwiKVxuICAgICAgLnNsaWNlKDEpXG4gICAgICAuam9pbihcIlxcblwiKTtcbiAgICBfZG93bmxvYWRHcmFkZWJvb2sodGl0bGUsIGNzdik7XG4gIH0gZWxzZSBpZiAocmVzcC5zdGF0dXMgPT09IDIwMSkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLmpzb24oKTtcbiAgICBjb25zdCB0YXNrID0ge1xuICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgIGNvbXBsZXRlZDogZGF0YS5jb21wbGV0ZWQsXG4gICAgICBkYXRldGltZTogbmV3IERhdGUoZGF0YS5kYXRldGltZSksXG4gICAgICBlcnJvcjogZmFsc2UsXG4gICAgfTtcbiAgICBtb2RlbC50YXNrcy51bnNoaWZ0KHRhc2spO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gZ2V0R3JhZGVib29rUmVzdWx0KHRhc2spLCAwKTtcbiAgICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2cocmVzcCk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0R3JhZGVib29rUmVzdWx0KHRhc2s6IFRhc2spOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy5ncmFkZWJvb2tSZXN1bHQ7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKHsgdGFza19pZDogdGFzay5pZCB9LCBcInBvc3RcIik7XG5cbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgcmVxKTtcblxuICBpZiAocmVzcC5zdGF0dXMgPT0gMjAwKSB7XG4gICAgdGFzay5jb21wbGV0ZWQgPSB0cnVlO1xuICAgIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbiAgfSBlbHNlIGlmIChyZXNwLnN0YXR1cyA9PSAyMDIpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IGdldEdyYWRlYm9va1Jlc3VsdCh0YXNrKSwgQ0hFQ0tfRVZFUlkgKiAxMDAwKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRhc2suY29tcGxldGVkID0gdHJ1ZTtcbiAgICB0YXNrLmVycm9yID0gdHJ1ZTtcbiAgICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlR3JhZGVib29rRXJyb3IodGFzazogVGFzayk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1cmwgPSBtb2RlbC51cmxzLnJlbW92ZUZhaWxlZEdyYWRlYm9vaztcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoeyB0YXNrX2lkOiB0YXNrLmlkIH0sIFwicG9zdFwiKTtcblxuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCByZXEpO1xuICBpZiAocmVzcC5vaykge1xuICAgIG1vZGVsLnRhc2tzID0gbW9kZWwudGFza3MuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGFzay5pZCk7XG4gIH1cbiAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZEdyYWRlYm9vayh0YXNrOiBUYXNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgdGFza19pZDogdGFzay5pZCxcbiAgfTtcbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy5kb3dubG9hZEdyYWRlYm9vaztcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoZGF0YSwgXCJwb3N0XCIpO1xuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCByZXEpO1xuXG4gIGlmIChyZXNwLm9rKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3AudGV4dCgpO1xuICAgIGNvbnN0IHRpdGxlID0gZGF0YS5zcGxpdChcIlxcblwiKVswXTtcbiAgICBjb25zdCBjc3YgPSBkYXRhXG4gICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgIC5zbGljZSgxKVxuICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgX2Rvd25sb2FkR3JhZGVib29rKHRpdGxlLCBjc3YpO1xuICAgIG1vZGVsLnRhc2tzID0gbW9kZWwudGFza3MuZmlsdGVyKHQgPT4gdC5pZCAhPSB0YXNrLmlkKTtcbiAgICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2cocmVzcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2Rvd25sb2FkR3JhZGVib29rKHRpdGxlOiBzdHJpbmcsIGNzdjogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgYS5ocmVmID0gYGRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwgJHtlc2NhcGUoY3N2KX1gO1xuICBhLnRhcmdldCA9IFwiX2JsYW5rXCI7XG4gIGEuZG93bmxvYWQgPSB0aXRsZTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgYS5jbGljaygpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xufVxuXG5mdW5jdGlvbiBnZXROb3RpZmljYXRpb25zKCk6IEFycmF5PE5vdGlmaWNhdGlvbj4ge1xuICByZXR1cm4gbW9kZWwudGFza3MubWFwKHRhc2sgPT4gKHtcbiAgICB0ZXh0OiB0YXNrLmNvbXBsZXRlZFxuICAgICAgPyB0YXNrLmVycm9yXG4gICAgICAgID8gYFRoZXJlIHdhcyBhbiBlcnJvciBjcmVhdGluZyB0aGUgZ3JhZGVib29rIGZvciAke3Rhc2suZGVzY3JpcHRpb259LmBcbiAgICAgICAgOiBgVGhlICR7dGFzay5kZXNjcmlwdGlvbn0gaXMgcmVhZHkuYFxuICAgICAgOiBgQ29tcHV0aW5nIHRoZSAke3Rhc2suZGVzY3JpcHRpb259Li4uYCxcbiAgICBpblByb2dyZXNzOiAhdGFzay5jb21wbGV0ZWQsXG4gICAgZXJyb3I6IHRhc2suZXJyb3IsXG4gICAgb25DbGljazpcbiAgICAgIHRhc2suY29tcGxldGVkICYmICF0YXNrLmVycm9yXG4gICAgICAgID8gYXN5bmMgKCkgPT4gYXdhaXQgZG93bmxvYWRHcmFkZWJvb2sodGFzaylcbiAgICAgICAgOiBhc3luYyAoKSA9PiB1bmRlZmluZWQsXG4gICAgb25DbG9zZUNsaWNrOiBhc3luYyAoKSA9PiBhd2FpdCByZW1vdmVHcmFkZWJvb2tFcnJvcih0YXNrKSxcbiAgfSkpO1xufVxuXG4vKioqKioqKiovXG4vKiB2aWV3ICovXG4vKioqKioqKiovXG5cbi8qKioqKioqKioqKioqL1xuLyogbGlzdGVuZXJzICovXG4vKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gaW5pdExpc3RlbmVycygpOiB2b2lkIHtcbiAgYWRkR3JhZGVib29rTGlzdGVuZXJzKCk7XG59XG5cbmZ1bmN0aW9uIGFkZEdyYWRlYm9va0xpc3RlbmVycygpOiB2b2lkIHtcbiAgWy4uLmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFkZWJvb2stYnV0dG9uXCIpXS5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICBhc3luYyAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGF3YWl0IHJlcXVlc3RHcmFkZWJvb2soZXZlbnQpLFxuICAgICk7XG4gIH0pO1xufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KHVybHM6IHtcbiAgcmVxdWVzdEdyYWRlYm9vazogc3RyaW5nLFxuICBncmFkZWJvb2tSZXN1bHQ6IHN0cmluZyxcbiAgcmVtb3ZlRmFpbGVkR3JhZGVib29rOiBzdHJpbmcsXG4gIGRvd25sb2FkR3JhZGVib29rOiBzdHJpbmcsXG4gIHRhc2tzOiBzdHJpbmcsXG59KTogdm9pZCB7XG4gIGluaXRNb2RlbCh1cmxzKTtcbiAgdXBkYXRlKCk7XG4gIGluaXRMaXN0ZW5lcnMoKTtcbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBidWlsZFJlcSB9IGZyb20gXCIuLi8uLi9hamF4LmpzXCI7XG5pbXBvcnQgeyBjbGVhciwgY3JlYXRlU3ZnIH0gZnJvbSBcIi4uLy4uL3V0aWxzLmpzXCI7XG5cbi8qKioqKioqKiovXG4vKiBtb2RlbCAqL1xuLyoqKioqKioqKi9cblxudHlwZSBUaHJlYWQgPSB7XG4gIGlkOiBudW1iZXIsXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGxhc3RSZXBseToge1xuICAgIGF1dGhvcjogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgfSxcbiAgbk5ldzogbnVtYmVyLFxuICBsaW5rOiBzdHJpbmcsXG59O1xuXG50eXBlIE1lc3NhZ2UgPSBUaHJlYWQ7XG5cbmxldCBtb2RlbDoge1xuICBvcGVuOiBib29sZWFuLFxuICBtZXNzYWdlczogQXJyYXk8TWVzc2FnZT4sXG4gIHVybHM6IHtcbiAgICBtYXJrUmVhZFVybDogc3RyaW5nLFxuICAgIG1lc3NhZ2VzVXJsOiBzdHJpbmcsXG4gIH0sXG59O1xuXG5mdW5jdGlvbiBpbml0TW9kZWwodXJsczogeyBtYXJrUmVhZFVybDogc3RyaW5nLCBtZXNzYWdlc1VybDogc3RyaW5nIH0pOiB2b2lkIHtcbiAgbW9kZWwgPSB7XG4gICAgb3BlbjogZmFsc2UsXG4gICAgbWVzc2FnZXM6IFtdLFxuICAgIHVybHM6IHVybHMsXG4gIH07XG59XG5cbi8qKioqKioqKioqL1xuLyogdXBkYXRlICovXG4vKioqKioqKioqKi9cblxuZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQge1xuICBnZXRNZXNzYWdlcygpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNZXNzYWdlcygpOiB2b2lkIHtcbiAgbW9kZWwub3BlbiA9ICFtb2RlbC5vcGVuO1xuICBtZXNzYWdlc1ZpZXcoKTtcbn1cblxuZnVuY3Rpb24gZ2V0TWVzc2FnZXMoKTogdm9pZCB7XG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMubWVzc2FnZXNVcmw7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKHt9LCBcImdldFwiKTtcblxuICBmZXRjaCh1cmwsIHJlcSlcbiAgICAudGhlbihyZXNwID0+IHJlc3AuanNvbigpKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgbW9kZWwubWVzc2FnZXMgPSBkYXRhLnRocmVhZHMubWFwKG1lc3NhZ2UgPT4gKHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHRpdGxlOiBtZXNzYWdlLnRpdGxlLFxuICAgICAgICBsYXN0UmVwbHk6IHtcbiAgICAgICAgICBhdXRob3I6IG1lc3NhZ2UubGFzdF9yZXBseS5hdXRob3IsXG4gICAgICAgICAgY29udGVudDogbWVzc2FnZS5sYXN0X3JlcGx5LmNvbnRlbnQsXG4gICAgICAgIH0sXG4gICAgICAgIG5OZXc6IG1lc3NhZ2Uubl9uZXcsXG4gICAgICAgIGxpbms6IG1lc3NhZ2UubGluayxcbiAgICAgIH0pKTtcbiAgICAgIG1lc3NhZ2VzVmlldygpO1xuICAgIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBtYXJrQWxsUmVhZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoe30sIFwicG9zdFwiKTtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKG1vZGVsLnVybHMubWFya1JlYWRVcmwsIHJlcSk7XG4gIGlmIChyZXNwLm9rKSB7XG4gICAgbW9kZWwubWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgIG1lc3NhZ2Uubk5ldyA9IDA7XG4gICAgfSk7XG4gIH1cbiAgbWVzc2FnZXNWaWV3KCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG1hcmtSZWFkKFxuICBldmVudDogTW91c2VFdmVudCxcbiAgbWVzc2FnZTogTWVzc2FnZSxcbiAgZGl2OiBIVE1MRGl2RWxlbWVudCxcbik6IFByb21pc2U8dm9pZD4ge1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoeyBpZDogbWVzc2FnZS5pZCB9LCBcInBvc3RcIik7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChtb2RlbC51cmxzLm1hcmtSZWFkVXJsLCByZXEpO1xuICBpZiAocmVzcC5vaykge1xuICAgIG1lc3NhZ2Uubk5ldyA9IDA7XG4gIH1cbiAgbWVzc2FnZVZpZXcobWVzc2FnZSwgZGl2KTtcbiAgYmFkZ2VWaWV3KCk7XG59XG5cbi8qKioqKioqKi9cbi8qIHZpZXcgKi9cbi8qKioqKioqKi9cblxuZnVuY3Rpb24gdmlldygpOiB2b2lkIHtcbiAgbWVzc2FnZXNWaWV3KCk7XG59XG5cbmZ1bmN0aW9uIG1lc3NhZ2VzVmlldygpOiB2b2lkIHtcbiAgY29uc3QgbWVzc2FnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VzXCIpO1xuICBjb25zdCBiYWRnZSA9IG1lc3NhZ2VzPy5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VzX19pY29uX19iYWRnZVwiKTtcbiAgY29uc3QgbWVzc2FnZXNMaXN0ID0gbWVzc2FnZXM/LnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZXNfX21lc3NhZ2VzXCIpO1xuXG4gIGlmICghbWVzc2FnZXMgfHwgIWJhZGdlIHx8ICFtZXNzYWdlc0xpc3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBiYWRnZVZpZXcoKTtcblxuICBjbGVhcihtZXNzYWdlc0xpc3QpO1xuXG4gIGlmIChtb2RlbC5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICBtb2RlbC5tZXNzYWdlcy5tYXAoZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgbWVzc2FnZXNMaXN0LmFwcGVuZENoaWxkKG1lc3NhZ2VWaWV3KG1lc3NhZ2UpKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlc0xpc3QuYXBwZW5kQ2hpbGQobm9NZXNzYWdlVmlldygpKTtcbiAgfVxuXG4gIGlmIChtb2RlbC5vcGVuKSB7XG4gICAgbWVzc2FnZXMuY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VzLS1vcGVuXCIpO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2VzLmNsYXNzTGlzdC5yZW1vdmUoXCJtZXNzYWdlcy0tb3BlblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBiYWRnZVZpZXcoKTogdm9pZCB7XG4gIGNvbnN0IGJhZGdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlc19faWNvbl9fYmFkZ2VcIik7XG5cbiAgY29uc3Qgbk5ldyA9IG1vZGVsLm1lc3NhZ2VzLmZpbHRlcihtZXNzYWdlID0+IG1lc3NhZ2Uubk5ldyA+IDApLmxlbmd0aDtcbiAgaWYgKG5OZXcpIHtcbiAgICBiYWRnZS50ZXh0Q29udGVudCA9IG5OZXcudG9TdHJpbmcoKTtcbiAgICBiYWRnZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gIH0gZWxzZSB7XG4gICAgYmFkZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGJhZGdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBtZXNzYWdlVmlldyhcbiAgbWVzc2FnZTogTWVzc2FnZSxcbiAgZGl2OiA/SFRNTERpdkVsZW1lbnQgPSBudWxsLFxuKTogSFRNTERpdkVsZW1lbnQge1xuICBpZiAoZGl2KSB7XG4gICAgY2xlYXIoZGl2KTtcbiAgfSBlbHNlIHtcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWVzc2FnZS5saW5rO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG1lc3NhZ2Uubk5ldykge1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZS0tbmV3XCIpO1xuICB9IGVsc2Uge1xuICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwibWVzc2FnZS0tbmV3XCIpO1xuICB9XG5cbiAgY29uc3QgaWNvbiA9IGNyZWF0ZVN2ZyhcImNoYXRfYnViYmxlXCIpO1xuICBpY29uLmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlX19pY29uXCIpO1xuICBkaXYuYXBwZW5kQ2hpbGQoaWNvbik7XG5cbiAgaWYgKG1lc3NhZ2Uubk5ldykge1xuICAgIGNvbnN0IG5ld18gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBuZXdfLmNsYXNzTGlzdC5hZGQoXCJtZXNzYWdlX19uZXdcIik7XG4gICAgbmV3Xy50ZXh0Q29udGVudCA9IGAoICR7bWVzc2FnZS5uTmV3fSBuZXcgKWA7XG4gICAgZGl2LmFwcGVuZENoaWxkKG5ld18pO1xuICB9XG5cbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgdGl0bGUuY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VfX3RpdGxlXCIpO1xuICB0aXRsZS50ZXh0Q29udGVudCA9IG1lc3NhZ2UudGl0bGU7XG4gIGRpdi5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgaWYgKG1lc3NhZ2Uubk5ldykge1xuICAgIGNvbnN0IG1hcmtSZWFkQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgbWFya1JlYWRCdG4uY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VfX21hcmstcmVhZFwiKTtcbiAgICBtYXJrUmVhZEJ0bi50ZXh0Q29udGVudCA9IFwiTWFyayByZWFkXCI7XG4gICAgbWFya1JlYWRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT5cbiAgICAgIG1hcmtSZWFkKGV2ZW50LCBtZXNzYWdlLCBkaXYpLFxuICAgICk7XG4gICAgZGl2LmFwcGVuZENoaWxkKG1hcmtSZWFkQnRuKTtcbiAgfVxuXG4gIGNvbnN0IGxhc3RSZXBseSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGxhc3RSZXBseS5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZV9fbGFzdC1yZXBseVwiKTtcbiAgZGl2LmFwcGVuZENoaWxkKGxhc3RSZXBseSk7XG5cbiAgY29uc3QgYXV0aG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gIGF1dGhvci5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZV9fbGFzdC1yZXBseV9fYXV0aG9yXCIpO1xuICBhdXRob3IudGV4dENvbnRlbnQgPSBtZXNzYWdlLmxhc3RSZXBseS5hdXRob3I7XG4gIGxhc3RSZXBseS5hcHBlbmRDaGlsZChhdXRob3IpO1xuXG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgY29udGVudC5jbGFzc0xpc3QuYWRkKFwibWVzc2FnZV9fbGFzdC1yZXBseV9fY29udGVudFwiKTtcbiAgY29udGVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2UubGFzdFJlcGx5LmNvbnRlbnQ7XG4gIGxhc3RSZXBseS5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICByZXR1cm4gZGl2O1xufVxuXG5mdW5jdGlvbiBub01lc3NhZ2VWaWV3KCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LnRleHRDb250ZW50ID0gXCJObyBtZXNzYWdlc1wiO1xuICByZXR1cm4gZGl2O1xufVxuXG4vKioqKioqKioqKioqKi9cbi8qIGxpc3RlbmVycyAqL1xuLyoqKioqKioqKioqKiovXG5cbmZ1bmN0aW9uIGluaXRFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgYWRkTWVzc2FnZXNPcGVuTGlzdGVuZXIoKTtcbiAgYWRkTWFya0FsbFJlYWRMaXN0ZW5lcigpO1xufVxuXG5mdW5jdGlvbiBhZGRNZXNzYWdlc09wZW5MaXN0ZW5lcigpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlc1wiKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlc19faWNvblwiKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICB0b2dnbGVNZXNzYWdlcygpO1xuICAgIH0pO1xuICBkb2N1bWVudC5ib2R5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAobW9kZWwub3Blbikge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0b2dnbGVNZXNzYWdlcygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZE1hcmtBbGxSZWFkTGlzdGVuZXIoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZXNfX3JlYWQtYWxsLWJ0blwiKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG1hcmtBbGxSZWFkKCkpO1xufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KHVybHM6IHtcbiAgbWFya1JlYWRVcmw6IHN0cmluZyxcbiAgbWVzc2FnZXNVcmw6IHN0cmluZyxcbn0pOiB2b2lkIHtcbiAgaW5pdE1vZGVsKHVybHMpO1xuICB1cGRhdGUoKTtcbiAgdmlldygpO1xuICBpbml0RXZlbnRMaXN0ZW5lcnMoKTtcbn1cbiIsIi8vIEBmbG93XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IHsgaW5pdCBhcyBpbml0RGFzaGJvYXJkIH0gZnJvbSBcIi4vX3RlYWNoZXIvZGFzaGJvYXJkLmpzXCI7XG5leHBvcnQgeyBpbml0IGFzIGluaXRHcmFkZWJvb2tzIH0gZnJvbSBcIi4vX3RlYWNoZXIvZ3JhZGVib29rcy5qc1wiO1xuZXhwb3J0IHsgaW5pdCBhcyBpbml0TWVzc2FnZXMgfSBmcm9tIFwiLi9fdGVhY2hlci9oZWFkZXIvbWVzc2FnZXMuanNcIjtcbmV4cG9ydCB7IGluaXQgYXMgaW5pdE5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiLi9fdGVhY2hlci9oZWFkZXIvbm90aWZpY2F0aW9ucy5qc1wiO1xuIl0sIm5hbWVzIjpbImdldENzcmZUb2tlbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJidWlsZFJlcSIsImRhdGEiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJtb2RlbCIsImluaXRNb2RlbCIsImNvbGxlY3Rpb25zIiwicmF0aW9uYWxlcyIsInVybHMiLCJ1cGRhdGUiLCJnZXRDb2xsZWN0aW9ucyIsImdldFJhdGlvbmFsZXMiLCJyZXEiLCJyZXNwIiwiZmV0Y2giLCJqc29uIiwibWFwIiwiY29sbGVjdGlvbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkaXNjaXBsaW5lIiwibkFzc2lnbm1lbnRzIiwibl9hc3NpZ25tZW50cyIsIm5Gb2xsb3dlcnMiLCJuX2ZvbGxvd2VycyIsImNvbGxlY3Rpb25zVmlldyIsInJhdGlvbmFsZSIsInFUaXRsZSIsImNob2ljZSIsImNob2ljZVRleHQiLCJ0ZXh0IiwiY29ycmVjdCIsInJhdGlvbmFsZXNWaWV3Iiwic2VjdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJpbml0IiwiY2xlYXIiLCJub2RlIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiY3JlYXRlU3ZnIiwibmFtZSIsInVzZVNwcml0ZSIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsInVzZSIsInNldEF0dHJpYnV0ZU5TIiwic3ZnTGluayIsImFwcGVuZCIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0Iiwibm90aWZpY2F0aW9uc09wZW4iLCJub3RpZmljYXRpb25zIiwidG9nZ2xlTm90aWZpY2F0aW9ucyIsIm5vdGlmaWNhdGlvbnNWaWV3IiwidXBkYXRlTm90aWZpY2F0aW9ucyIsInZpZXciLCJiYWRnZSIsIm5vdGlmaWNhdGlvbnNMaXN0IiwiY29tcGxldGVkTm90aWZpY2F0aW9ucyIsImZpbHRlciIsIm5vdGlmaWNhdGlvbiIsImluUHJvZ3Jlc3MiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJub3RpZmljYXRpb25WaWV3Iiwibm9Ob3RpZmljYXRpb25WaWV3Iiwic29tZSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25DbGljayIsInNwaW5uZXIiLCJpY29uIiwiZXJyb3IiLCJvbkNsb3NlQ2xpY2siLCJpbml0RXZlbnRMaXN0ZW5lcnMiLCJhZGROb3RpZmljYXRpb25zT3Blbkxpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJDSEVDS19FVkVSWSIsInRhc2tzIiwicmVxdWVzdEdyYWRlYm9vayIsImdyYWRlYm9va1Jlc3VsdCIsInJlbW92ZUZhaWxlZEdyYWRlYm9vayIsImRvd25sb2FkR3JhZGVib29rIiwiZ2V0VGFza3MiLCJ1cmwiLCJ0aGVuIiwiaW5pdFRhc2tzIiwidGFzayIsImlkIiwiY29tcGxldGVkIiwiZGF0ZXRpbWUiLCJEYXRlIiwic29ydCIsImEiLCJiIiwiZ2V0Tm90aWZpY2F0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJnZXRHcmFkZWJvb2tSZXN1bHQiLCJidXR0b24iLCJjdXJyZW50VGFyZ2V0IiwiZ3JvdXBJZCIsImFzc2lnbm1lbnRJZCIsImdyb3VwX2lkIiwiYXNzaWdubWVudF9pZCIsInN0YXR1cyIsInNwbGl0IiwiY3N2Iiwic2xpY2UiLCJqb2luIiwiX2Rvd25sb2FkR3JhZGVib29rIiwidW5zaGlmdCIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwibG9nIiwidGFza19pZCIsInJlc29sdmUiLCJyZW1vdmVHcmFkZWJvb2tFcnJvciIsIm9rIiwidCIsImhyZWYiLCJlc2NhcGUiLCJ0YXJnZXQiLCJkb3dubG9hZCIsImNsaWNrIiwidW5kZWZpbmVkIiwiaW5pdExpc3RlbmVycyIsImFkZEdyYWRlYm9va0xpc3RlbmVycyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmb3JFYWNoIiwib3BlbiIsIm1lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCJ0b2dnbGVNZXNzYWdlcyIsIm1lc3NhZ2VzVmlldyIsIm1lc3NhZ2VzVXJsIiwidGhyZWFkcyIsIm1lc3NhZ2UiLCJsYXN0UmVwbHkiLCJhdXRob3IiLCJsYXN0X3JlcGx5IiwiY29udGVudCIsIm5OZXciLCJuX25ldyIsImxpbmsiLCJtYXJrQWxsUmVhZCIsIm1hcmtSZWFkVXJsIiwibWFya1JlYWQiLCJtZXNzYWdlVmlldyIsImJhZGdlVmlldyIsIm1lc3NhZ2VzTGlzdCIsIm5vTWVzc2FnZVZpZXciLCJuZXdfIiwibWFya1JlYWRCdG4iLCJhZGRNZXNzYWdlc09wZW5MaXN0ZW5lciIsImFkZE1hcmtB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"}