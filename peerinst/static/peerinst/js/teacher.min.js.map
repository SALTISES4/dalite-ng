{"version":3,"file":"teacher.min.js","sources":["peerinst/static/peerinst/js/utils.js","peerinst/static/peerinst/js/_teacher/notifications.js","peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/_teacher/gradebooks.js","peerinst/static/peerinst/js/teacher.js"],"sourcesContent":["// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  if (useSprite) {\n    use.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", `#${name}`);\n  } else {\n    use.setAttributeNS(\n      \"http://www.w3.org/1999/xlink\",\n      \"href\",\n      window.location.protocol +\n        \"//\" +\n        window.location.host +\n        \"/static/peerinst/icons.svg#\" +\n        name,\n    );\n  }\n  svg.append(use);\n  return svg;\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n","// @flow\n\nimport { clear, createSvg } from \"../utils.js\";\n\n/*********/\n/* model */\n/*********/\n\nexport type Notification = {\n  text: string,\n  inProgress: boolean,\n  error: boolean,\n  onClick: () => Promise<void>,\n  onCloseClick: () => Promise<void>,\n};\n\nlet model: {\n  notificationsOpen: boolean,\n  notifications: Array<Notification>,\n};\n\nfunction initModel(): void {\n  model = {\n    notificationsOpen: false,\n    notifications: [],\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction toggleNotifications(): void {\n  model.notificationsOpen = !model.notificationsOpen;\n  notificationsView();\n}\n\nexport function updateNotifications(notifications: Array<Notification>): void {\n  model.notifications = notifications;\n  notificationsView();\n}\n\n/********/\n/* view */\n/********/\n\nfunction view(): void {\n  notificationsView();\n}\n\nfunction notificationsView(): void {\n  const notifications = document.querySelector(\".notifications\");\n  const badge = notifications?.querySelector(\".notifications__icon__badge\");\n  const notificationsList = notifications?.querySelector(\n    \".notifications__notifications\",\n  );\n\n  if (!notifications || !badge || !notificationsList) {\n    return;\n  }\n\n  const completedNotifications = model.notifications.filter(\n    notification => !notification.inProgress,\n  );\n  if (completedNotifications.length > 0) {\n    badge.textContent = completedNotifications.length.toString();\n    badge.style.display = \"flex\";\n  } else {\n    badge.textContent = \"\";\n    badge.style.display = \"none\";\n  }\n\n  clear(notificationsList);\n\n  if (model.notifications.length) {\n    model.notifications.map(function(notification) {\n      notificationsList.appendChild(notificationView(notification));\n    });\n  } else {\n    notificationsList.appendChild(noNotificationView());\n  }\n\n  if (model.notifications.some(notification => notification.inProgress)) {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.add(\"notifications__spinner--loading\");\n  } else {\n    document\n      .querySelector(\".notifications__spinner\")\n      ?.classList.remove(\"notifications__spinner--loading\");\n  }\n\n  if (model.notificationsOpen) {\n    notifications.classList.add(\"notifications--open\");\n  } else {\n    notifications.classList.remove(\"notifications--open\");\n  }\n}\n\nfunction notificationView(notification: Notification): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"notification\");\n  div.addEventListener(\"click\", notification.onClick);\n\n  if (notification.inProgress) {\n    const spinner = document.createElement(\"loading-spinner\");\n    spinner.classList.add(\"notification__spinner\");\n    div.appendChild(spinner);\n  } else {\n    let icon;\n    if (notification.error) {\n      icon = createSvg(\"error\");\n      icon.classList.add(\"notification__icon--error\");\n      const remove = createSvg(\"close\");\n      remove.classList.add(\"notification__close\");\n      remove.addEventListener(\"click\", notification.onCloseClick);\n      div.appendChild(remove);\n    } else {\n      div.classList.add(\"notification--completed\");\n      icon = createSvg(\"cloud_download\");\n    }\n    icon.classList.add(\"notification__icon\");\n    div.appendChild(icon);\n  }\n\n  const description = document.createElement(\"span\");\n  description.classList.add(\"notification__description\");\n  description.textContent = notification.text;\n  div.appendChild(description);\n\n  return div;\n}\n\nfunction noNotificationView(): HTMLDivElement {\n  const div = document.createElement(\"div\");\n  div.textContent = \"No new notifications\";\n  return div;\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners(): void {\n  addNotificationsOpenListener();\n}\n\nfunction addNotificationsOpenListener(): void {\n  document\n    .querySelector(\".notifications\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      event.stopPropagation();\n    });\n  document\n    .querySelector(\".notifications__icon\")\n    ?.addEventListener(\"click\", function(event: MouseEvent) {\n      toggleNotifications();\n    });\n  document.body?.addEventListener(\"click\", function(event: MouseEvent) {\n    if (model.notificationsOpen) {\n      event.stopPropagation();\n      toggleNotifications();\n    }\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(): void {\n  initModel();\n  view();\n  initEventListeners();\n}\n","export function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n","// @flow\nimport { buildReq } from \"../ajax.js\";\nimport { updateNotifications } from \"./notifications.js\";\nimport type { Notification } from \"./notifications.js\";\n\n/*********/\n/* model */\n/*********/\n\nconst CHECK_EVERY = 1;\n\ntype Task = {\n  id: string,\n  description: string,\n  completed: boolean,\n  datetime: Date,\n  error: boolean,\n};\n\nlet model: {\n  urls: {\n    requestGradebook: string,\n    gradebookResult: string,\n    removeFailedGradebook: string,\n    downloadGradebook: string,\n    tasks: string,\n  },\n  tasks: Array<Task>,\n};\n\nfunction initModel(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  model = {\n    tasks: [],\n    urls: {\n      requestGradebook: urls.requestGradebook,\n      gradebookResult: urls.gradebookResult,\n      removeFailedGradebook: urls.removeFailedGradebook,\n      downloadGradebook: urls.downloadGradebook,\n      tasks: urls.tasks,\n    },\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction update(): void {\n  getTasks();\n}\n\nfunction getTasks(): void {\n  const url = model.urls.tasks;\n  const req = buildReq({}, \"get\");\n\n  fetch(url, req)\n    .then(resp => resp.json())\n    .then(data => {\n      initTasks(data.tasks);\n    });\n}\n\nasync function initTasks(\n  data: Array<{\n    id: string,\n    description: string,\n    completed: boolean,\n    datetime: string,\n  }>,\n): Promise<void> {\n  model.tasks = data\n    .map(task => ({\n      id: task.id,\n      description: task.description,\n      completed: task.completed,\n      datetime: new Date(task.datetime),\n      error: false,\n    }))\n    .sort((a, b) =>\n      a.datetime > b.datetime ? -1 : a.datetime < b.datetime ? 1 : 0,\n    );\n  updateNotifications(getNotifications());\n  Promise.all(\n    model.tasks\n      .filter(task => !task.completed)\n      .map(task => getGradebookResult(task)),\n  );\n}\n\nasync function requestGradebook(event: MouseEvent): Promise<void> {\n  event.stopPropagation();\n  const button = event.currentTarget;\n  const groupId = button.getAttribute(\"data-group\");\n  const assignmentId = button.getAttribute(\"data-assignment\");\n\n  const data = {\n    group_id: groupId,\n    assignment_id: assignmentId,\n  };\n\n  const url = model.urls.requestGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.status === 200) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n  } else if (resp.status === 201) {\n    const data = await resp.json();\n    const task = {\n      id: data.id,\n      description: data.description,\n      completed: data.completed,\n      datetime: new Date(data.datetime),\n      error: false,\n    };\n    model.tasks.unshift(task);\n    setTimeout(() => getGradebookResult(task), 0);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nasync function getGradebookResult(task: Task): Promise<void> {\n  const url = model.urls.gradebookResult;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n\n  if (resp.status == 200) {\n    task.completed = true;\n    updateNotifications(getNotifications());\n  } else if (resp.status == 202) {\n    await new Promise(resolve =>\n      setTimeout(() => getGradebookResult(task), CHECK_EVERY * 1000),\n    );\n  } else {\n    task.completed = true;\n    task.error = true;\n    updateNotifications(getNotifications());\n  }\n}\n\nasync function removeGradebookError(task: Task): Promise<void> {\n  const url = model.urls.removeFailedGradebook;\n  const req = buildReq({ task_id: task.id }, \"post\");\n\n  const resp = await fetch(url, req);\n  if (resp.ok) {\n    model.tasks = model.tasks.filter(t => t.id !== task.id);\n  }\n  updateNotifications(getNotifications());\n}\n\nasync function downloadGradebook(task: Task): Promise<void> {\n  const data = {\n    task_id: task.id,\n  };\n  const url = model.urls.downloadGradebook;\n  const req = buildReq(data, \"post\");\n  const resp = await fetch(url, req);\n\n  if (resp.ok) {\n    const data = await resp.text();\n    const title = data.split(\"\\n\")[0];\n    const csv = data\n      .split(\"\\n\")\n      .slice(1)\n      .join(\"\\n\");\n    _downloadGradebook(title, csv);\n    model.tasks = model.tasks.filter(t => t.id != task.id);\n    updateNotifications(getNotifications());\n  } else {\n    console.log(resp);\n  }\n}\n\nfunction _downloadGradebook(title: string, csv: string): void {\n  const a = document.createElement(\"a\");\n  a.href = `data:text/csv;charset=utf-8, ${escape(csv)}`;\n  a.target = \"_blank\";\n  a.download = title;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n\nfunction getNotifications(): Array<Notification> {\n  return model.tasks.map(task => ({\n    text: task.completed\n      ? task.error\n        ? `There was an error creating the gradebook for ${task.description}.`\n        : `The gradebook for ${task.description} is ready.`\n      : `Computing the gradebook for ${task.description}...`,\n    inProgress: !task.completed,\n    error: task.error,\n    onClick:\n      task.completed && !task.error\n        ? async () => await downloadGradebook(task)\n        : async () => undefined,\n    onCloseClick: async () => await removeGradebookError(task),\n  }));\n}\n\n/********/\n/* view */\n/********/\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initListeners(): void {\n  addGradebookListeners();\n}\n\nfunction addGradebookListeners(): void {\n  [...document.getElementsByClassName(\"gradebook-button\")].forEach(button => {\n    button.addEventListener(\n      \"click\",\n      async (event: MouseEvent) => await requestGradebook(event),\n    );\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(urls: {\n  requestGradebook: string,\n  gradebookResult: string,\n  removeFailedGradebook: string,\n  downloadGradebook: string,\n  tasks: string,\n}): void {\n  initModel(urls);\n  update();\n  initListeners();\n}\n","// @flow\n\"use strict\";\n\nexport { init as initNotifications } from \"./_teacher/notifications.js\";\nexport { init as initGradebooks } from \"./_teacher/gradebooks.js\";\n"],"names":["clear","node","hasChildNodes","removeChild","lastChild","createSvg","name","useSprite","svg","document","createElementNS","use","setAttributeNS","window","location","protocol","host","append","model","initModel","notificationsOpen","notifications","toggleNotifications","notificationsView","updateNotifications","view","querySelector","badge","notificationsList","completedNotifications","filter","notification","inProgress","length","textContent","toString","style","display","map","appendChild","notificationView","noNotificationView","some","classList","add","remove","div","createElement","addEventListener","onClick","spinner","icon","error","onCloseClick","description","text","initEventListeners","addNotificationsOpenListener","event","stopPropagation","body","init","getCsrfToken","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","JSON","stringify","Error","CHECK_EVERY","urls","tasks","requestGradebook","gradebookResult","removeFailedGradebook","downloadGradebook","update","getTasks","url","req","fetch","then","resp","json","initTasks","task","id","completed","datetime","Date","sort","a","b","getNotifications","Promise","all","getGradebookResult","button","currentTarget","groupId","assignmentId","group_id","assignment_id","status","title","split","csv","slice","join","_downloadGradebook","unshift","setTimeout","console","log","task_id","resolve","removeGradebookError","ok","t","href","escape","target","download","click","undefined","initListeners","addGradebookListeners","getElementsByClassName","forEach"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy91dGlscy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9fdGVhY2hlci9ub3RpZmljYXRpb25zLmpzIiwiL2hvbWUvYW50b2luZS9kb2N1bWVudHMvd29yay9zY2l2ZXJvL3Byb2plY3RzL2RhbGl0ZS9kYWxpdGUvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL2FqYXguanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvX3RlYWNoZXIvZ3JhZGVib29rcy5qcyIsIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy90ZWFjaGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKG5vZGU6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xuICB3aGlsZSAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRldGltZShkYXRldGltZTogRGF0ZSk6IHN0cmluZyB7XG4gIHJldHVybiAoXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IHllYXI6IFwibnVtZXJpY1wiIH0pICtcbiAgICBcIi1cIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IG1vbnRoOiBcIjItZGlnaXRcIiB9KSArXG4gICAgXCItXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBkYXk6IFwiMi1kaWdpdFwiIH0pICtcbiAgICBcIiBcIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBob3VyMTI6IGZhbHNlIH0pICtcbiAgICBcIjpcIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN2ZyhuYW1lOiBzdHJpbmcsIHVzZVNwcml0ZTogYm9vbGVhbiA9IHRydWUpOiBFbGVtZW50IHtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gIGNvbnN0IHVzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwidXNlXCIpO1xuICBpZiAodXNlU3ByaXRlKSB7XG4gICAgdXNlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIiwgYCMke25hbWV9YCk7XG4gIH0gZWxzZSB7XG4gICAgdXNlLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gICAgICBcImhyZWZcIixcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArXG4gICAgICAgIFwiLy9cIiArXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgXCIvc3RhdGljL3BlZXJpbnN0L2ljb25zLnN2ZyNcIiArXG4gICAgICAgIG5hbWUsXG4gICAgKTtcbiAgfVxuICBzdmcuYXBwZW5kKHVzZSk7XG4gIHJldHVybiBzdmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobXNnOiBzdHJpbmcpIHtcbiAgY29uc3QgZnVsbFBhZ2VCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBmdWxsUGFnZUJveC5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19mdWxsLXBhZ2VcIik7XG4gIGZ1bGxQYWdlQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmdWxsUGFnZUJveC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChmdWxsUGFnZUJveCk7XG4gIH0pO1xuICBkb2N1bWVudC5ib2R5Py5hcHBlbmRDaGlsZChmdWxsUGFnZUJveCk7XG5cbiAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYm94LmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2JveFwiKTtcbiAgYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksXG4gICk7XG4gIGZ1bGxQYWdlQm94LmFwcGVuZENoaWxkKGJveCk7XG5cbiAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBzcGFuLmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX21zZ1wiKTtcbiAgc3Bhbi50ZXh0Q29udGVudCA9IG1zZztcbiAgYm94LmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gIGNvbnN0IG9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgb2suY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fYnRuXCIsIFwibWRjLWJ1dHRvblwiLCBcIm1kYy1idXR0b24tLXVuZWxldmF0ZWRcIik7XG4gIG9rLnRleHRDb250ZW50ID0gXCJPa1wiO1xuICBib3guYXBwZW5kQ2hpbGQob2spO1xufVxuIiwiLy8gQGZsb3dcblxuaW1wb3J0IHsgY2xlYXIsIGNyZWF0ZVN2ZyB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuXG4vKioqKioqKioqL1xuLyogbW9kZWwgKi9cbi8qKioqKioqKiovXG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvbiA9IHtcbiAgdGV4dDogc3RyaW5nLFxuICBpblByb2dyZXNzOiBib29sZWFuLFxuICBlcnJvcjogYm9vbGVhbixcbiAgb25DbGljazogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgb25DbG9zZUNsaWNrOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxufTtcblxubGV0IG1vZGVsOiB7XG4gIG5vdGlmaWNhdGlvbnNPcGVuOiBib29sZWFuLFxuICBub3RpZmljYXRpb25zOiBBcnJheTxOb3RpZmljYXRpb24+LFxufTtcblxuZnVuY3Rpb24gaW5pdE1vZGVsKCk6IHZvaWQge1xuICBtb2RlbCA9IHtcbiAgICBub3RpZmljYXRpb25zT3BlbjogZmFsc2UsXG4gICAgbm90aWZpY2F0aW9uczogW10sXG4gIH07XG59XG5cbi8qKioqKioqKioqL1xuLyogdXBkYXRlICovXG4vKioqKioqKioqKi9cblxuZnVuY3Rpb24gdG9nZ2xlTm90aWZpY2F0aW9ucygpOiB2b2lkIHtcbiAgbW9kZWwubm90aWZpY2F0aW9uc09wZW4gPSAhbW9kZWwubm90aWZpY2F0aW9uc09wZW47XG4gIG5vdGlmaWNhdGlvbnNWaWV3KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVOb3RpZmljYXRpb25zKG5vdGlmaWNhdGlvbnM6IEFycmF5PE5vdGlmaWNhdGlvbj4pOiB2b2lkIHtcbiAgbW9kZWwubm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnM7XG4gIG5vdGlmaWNhdGlvbnNWaWV3KCk7XG59XG5cbi8qKioqKioqKi9cbi8qIHZpZXcgKi9cbi8qKioqKioqKi9cblxuZnVuY3Rpb24gdmlldygpOiB2b2lkIHtcbiAgbm90aWZpY2F0aW9uc1ZpZXcoKTtcbn1cblxuZnVuY3Rpb24gbm90aWZpY2F0aW9uc1ZpZXcoKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbnNcIik7XG4gIGNvbnN0IGJhZGdlID0gbm90aWZpY2F0aW9ucz8ucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zX19pY29uX19iYWRnZVwiKTtcbiAgY29uc3Qgbm90aWZpY2F0aW9uc0xpc3QgPSBub3RpZmljYXRpb25zPy5xdWVyeVNlbGVjdG9yKFxuICAgIFwiLm5vdGlmaWNhdGlvbnNfX25vdGlmaWNhdGlvbnNcIixcbiAgKTtcblxuICBpZiAoIW5vdGlmaWNhdGlvbnMgfHwgIWJhZGdlIHx8ICFub3RpZmljYXRpb25zTGlzdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbXBsZXRlZE5vdGlmaWNhdGlvbnMgPSBtb2RlbC5ub3RpZmljYXRpb25zLmZpbHRlcihcbiAgICBub3RpZmljYXRpb24gPT4gIW5vdGlmaWNhdGlvbi5pblByb2dyZXNzLFxuICApO1xuICBpZiAoY29tcGxldGVkTm90aWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgYmFkZ2UudGV4dENvbnRlbnQgPSBjb21wbGV0ZWROb3RpZmljYXRpb25zLmxlbmd0aC50b1N0cmluZygpO1xuICAgIGJhZGdlLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgfSBlbHNlIHtcbiAgICBiYWRnZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgYmFkZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG5cbiAgY2xlYXIobm90aWZpY2F0aW9uc0xpc3QpO1xuXG4gIGlmIChtb2RlbC5ub3RpZmljYXRpb25zLmxlbmd0aCkge1xuICAgIG1vZGVsLm5vdGlmaWNhdGlvbnMubWFwKGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgICAgbm90aWZpY2F0aW9uc0xpc3QuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uVmlldyhub3RpZmljYXRpb24pKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBub3RpZmljYXRpb25zTGlzdC5hcHBlbmRDaGlsZChub05vdGlmaWNhdGlvblZpZXcoKSk7XG4gIH1cblxuICBpZiAobW9kZWwubm90aWZpY2F0aW9ucy5zb21lKG5vdGlmaWNhdGlvbiA9PiBub3RpZmljYXRpb24uaW5Qcm9ncmVzcykpIHtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc19fc3Bpbm5lclwiKVxuICAgICAgPy5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uc19fc3Bpbm5lci0tbG9hZGluZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc19fc3Bpbm5lclwiKVxuICAgICAgPy5jbGFzc0xpc3QucmVtb3ZlKFwibm90aWZpY2F0aW9uc19fc3Bpbm5lci0tbG9hZGluZ1wiKTtcbiAgfVxuXG4gIGlmIChtb2RlbC5ub3RpZmljYXRpb25zT3Blbikge1xuICAgIG5vdGlmaWNhdGlvbnMuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbnMtLW9wZW5cIik7XG4gIH0gZWxzZSB7XG4gICAgbm90aWZpY2F0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKFwibm90aWZpY2F0aW9ucy0tb3BlblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3RpZmljYXRpb25WaWV3KG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogSFRNTERpdkVsZW1lbnQge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvblwiKTtcbiAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBub3RpZmljYXRpb24ub25DbGljayk7XG5cbiAgaWYgKG5vdGlmaWNhdGlvbi5pblByb2dyZXNzKSB7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsb2FkaW5nLXNwaW5uZXJcIik7XG4gICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uX19zcGlubmVyXCIpO1xuICAgIGRpdi5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgaWNvbjtcbiAgICBpZiAobm90aWZpY2F0aW9uLmVycm9yKSB7XG4gICAgICBpY29uID0gY3JlYXRlU3ZnKFwiZXJyb3JcIik7XG4gICAgICBpY29uLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25fX2ljb24tLWVycm9yXCIpO1xuICAgICAgY29uc3QgcmVtb3ZlID0gY3JlYXRlU3ZnKFwiY2xvc2VcIik7XG4gICAgICByZW1vdmUuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbl9fY2xvc2VcIik7XG4gICAgICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG5vdGlmaWNhdGlvbi5vbkNsb3NlQ2xpY2spO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKHJlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uLS1jb21wbGV0ZWRcIik7XG4gICAgICBpY29uID0gY3JlYXRlU3ZnKFwiY2xvdWRfZG93bmxvYWRcIik7XG4gICAgfVxuICAgIGljb24uY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbl9faWNvblwiKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoaWNvbik7XG4gIH1cblxuICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uX19kZXNjcmlwdGlvblwiKTtcbiAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBub3RpZmljYXRpb24udGV4dDtcbiAgZGl2LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcblxuICByZXR1cm4gZGl2O1xufVxuXG5mdW5jdGlvbiBub05vdGlmaWNhdGlvblZpZXcoKTogSFRNTERpdkVsZW1lbnQge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYudGV4dENvbnRlbnQgPSBcIk5vIG5ldyBub3RpZmljYXRpb25zXCI7XG4gIHJldHVybiBkaXY7XG59XG5cbi8qKioqKioqKioqKioqL1xuLyogbGlzdGVuZXJzICovXG4vKioqKioqKioqKioqKi9cblxuZnVuY3Rpb24gaW5pdEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICBhZGROb3RpZmljYXRpb25zT3Blbkxpc3RlbmVyKCk7XG59XG5cbmZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbnNPcGVuTGlzdGVuZXIoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIubm90aWZpY2F0aW9uc1wiKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5ub3RpZmljYXRpb25zX19pY29uXCIpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIHRvZ2dsZU5vdGlmaWNhdGlvbnMoKTtcbiAgICB9KTtcbiAgZG9jdW1lbnQuYm9keT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKG1vZGVsLm5vdGlmaWNhdGlvbnNPcGVuKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRvZ2dsZU5vdGlmaWNhdGlvbnMoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCk6IHZvaWQge1xuICBpbml0TW9kZWwoKTtcbiAgdmlldygpO1xuICBpbml0RXZlbnRMaXN0ZW5lcnMoKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRDc3JmVG9rZW4oKSB7XG4gIHJldHVybiBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50c0J5TmFtZShcImNzcmZtaWRkbGV3YXJldG9rZW5cIilbMF1cbiAgICAuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFJlcShkYXRhLCBtZXRob2QpIHtcbiAgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IGdldENzcmZUb2tlbigpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcInBvc3RcIikge1xuICAgIGNvbnN0IGJvZHkgPSBkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE1ldGhvZCAke21ldGhvZH0gbm90IGltcGxlbWVudGVkIHlldC5gKTtcbiAgfVxufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uL2FqYXguanNcIjtcbmltcG9ydCB7IHVwZGF0ZU5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiLi9ub3RpZmljYXRpb25zLmpzXCI7XG5pbXBvcnQgdHlwZSB7IE5vdGlmaWNhdGlvbiB9IGZyb20gXCIuL25vdGlmaWNhdGlvbnMuanNcIjtcblxuLyoqKioqKioqKi9cbi8qIG1vZGVsICovXG4vKioqKioqKioqL1xuXG5jb25zdCBDSEVDS19FVkVSWSA9IDE7XG5cbnR5cGUgVGFzayA9IHtcbiAgaWQ6IHN0cmluZyxcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgY29tcGxldGVkOiBib29sZWFuLFxuICBkYXRldGltZTogRGF0ZSxcbiAgZXJyb3I6IGJvb2xlYW4sXG59O1xuXG5sZXQgbW9kZWw6IHtcbiAgdXJsczoge1xuICAgIHJlcXVlc3RHcmFkZWJvb2s6IHN0cmluZyxcbiAgICBncmFkZWJvb2tSZXN1bHQ6IHN0cmluZyxcbiAgICByZW1vdmVGYWlsZWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgICBkb3dubG9hZEdyYWRlYm9vazogc3RyaW5nLFxuICAgIHRhc2tzOiBzdHJpbmcsXG4gIH0sXG4gIHRhc2tzOiBBcnJheTxUYXNrPixcbn07XG5cbmZ1bmN0aW9uIGluaXRNb2RlbCh1cmxzOiB7XG4gIHJlcXVlc3RHcmFkZWJvb2s6IHN0cmluZyxcbiAgZ3JhZGVib29rUmVzdWx0OiBzdHJpbmcsXG4gIHJlbW92ZUZhaWxlZEdyYWRlYm9vazogc3RyaW5nLFxuICBkb3dubG9hZEdyYWRlYm9vazogc3RyaW5nLFxuICB0YXNrczogc3RyaW5nLFxufSk6IHZvaWQge1xuICBtb2RlbCA9IHtcbiAgICB0YXNrczogW10sXG4gICAgdXJsczoge1xuICAgICAgcmVxdWVzdEdyYWRlYm9vazogdXJscy5yZXF1ZXN0R3JhZGVib29rLFxuICAgICAgZ3JhZGVib29rUmVzdWx0OiB1cmxzLmdyYWRlYm9va1Jlc3VsdCxcbiAgICAgIHJlbW92ZUZhaWxlZEdyYWRlYm9vazogdXJscy5yZW1vdmVGYWlsZWRHcmFkZWJvb2ssXG4gICAgICBkb3dubG9hZEdyYWRlYm9vazogdXJscy5kb3dubG9hZEdyYWRlYm9vayxcbiAgICAgIHRhc2tzOiB1cmxzLnRhc2tzLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKioqKioqKioqL1xuLyogdXBkYXRlICovXG4vKioqKioqKioqKi9cblxuZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQge1xuICBnZXRUYXNrcygpO1xufVxuXG5mdW5jdGlvbiBnZXRUYXNrcygpOiB2b2lkIHtcbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy50YXNrcztcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoe30sIFwiZ2V0XCIpO1xuXG4gIGZldGNoKHVybCwgcmVxKVxuICAgIC50aGVuKHJlc3AgPT4gcmVzcC5qc29uKCkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpbml0VGFza3MoZGF0YS50YXNrcyk7XG4gICAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRUYXNrcyhcbiAgZGF0YTogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmcsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICBjb21wbGV0ZWQ6IGJvb2xlYW4sXG4gICAgZGF0ZXRpbWU6IHN0cmluZyxcbiAgfT4sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgbW9kZWwudGFza3MgPSBkYXRhXG4gICAgLm1hcCh0YXNrID0+ICh7XG4gICAgICBpZDogdGFzay5pZCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0YXNrLmRlc2NyaXB0aW9uLFxuICAgICAgY29tcGxldGVkOiB0YXNrLmNvbXBsZXRlZCxcbiAgICAgIGRhdGV0aW1lOiBuZXcgRGF0ZSh0YXNrLmRhdGV0aW1lKSxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICB9KSlcbiAgICAuc29ydCgoYSwgYikgPT5cbiAgICAgIGEuZGF0ZXRpbWUgPiBiLmRhdGV0aW1lID8gLTEgOiBhLmRhdGV0aW1lIDwgYi5kYXRldGltZSA/IDEgOiAwLFxuICAgICk7XG4gIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbiAgUHJvbWlzZS5hbGwoXG4gICAgbW9kZWwudGFza3NcbiAgICAgIC5maWx0ZXIodGFzayA9PiAhdGFzay5jb21wbGV0ZWQpXG4gICAgICAubWFwKHRhc2sgPT4gZ2V0R3JhZGVib29rUmVzdWx0KHRhc2spKSxcbiAgKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEdyYWRlYm9vayhldmVudDogTW91c2VFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgY29uc3QgYnV0dG9uID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgY29uc3QgZ3JvdXBJZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWdyb3VwXCIpO1xuICBjb25zdCBhc3NpZ25tZW50SWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1hc3NpZ25tZW50XCIpO1xuXG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgZ3JvdXBfaWQ6IGdyb3VwSWQsXG4gICAgYXNzaWdubWVudF9pZDogYXNzaWdubWVudElkLFxuICB9O1xuXG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMucmVxdWVzdEdyYWRlYm9vaztcbiAgY29uc3QgcmVxID0gYnVpbGRSZXEoZGF0YSwgXCJwb3N0XCIpO1xuICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCByZXEpO1xuXG4gIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3AudGV4dCgpO1xuICAgIGNvbnN0IHRpdGxlID0gZGF0YS5zcGxpdChcIlxcblwiKVswXTtcbiAgICBjb25zdCBjc3YgPSBkYXRhXG4gICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgIC5zbGljZSgxKVxuICAgICAgLmpvaW4oXCJcXG5cIik7XG4gICAgX2Rvd25sb2FkR3JhZGVib29rKHRpdGxlLCBjc3YpO1xuICB9IGVsc2UgaWYgKHJlc3Auc3RhdHVzID09PSAyMDEpIHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgY29uc3QgdGFzayA9IHtcbiAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICBjb21wbGV0ZWQ6IGRhdGEuY29tcGxldGVkLFxuICAgICAgZGF0ZXRpbWU6IG5ldyBEYXRlKGRhdGEuZGF0ZXRpbWUpLFxuICAgICAgZXJyb3I6IGZhbHNlLFxuICAgIH07XG4gICAgbW9kZWwudGFza3MudW5zaGlmdCh0YXNrKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGdldEdyYWRlYm9va1Jlc3VsdCh0YXNrKSwgMCk7XG4gICAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEdyYWRlYm9va1Jlc3VsdCh0YXNrOiBUYXNrKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMuZ3JhZGVib29rUmVzdWx0O1xuICBjb25zdCByZXEgPSBidWlsZFJlcSh7IHRhc2tfaWQ6IHRhc2suaWQgfSwgXCJwb3N0XCIpO1xuXG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcSk7XG5cbiAgaWYgKHJlc3Auc3RhdHVzID09IDIwMCkge1xuICAgIHRhc2suY29tcGxldGVkID0gdHJ1ZTtcbiAgICB1cGRhdGVOb3RpZmljYXRpb25zKGdldE5vdGlmaWNhdGlvbnMoKSk7XG4gIH0gZWxzZSBpZiAocmVzcC5zdGF0dXMgPT0gMjAyKSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PlxuICAgICAgc2V0VGltZW91dCgoKSA9PiBnZXRHcmFkZWJvb2tSZXN1bHQodGFzayksIENIRUNLX0VWRVJZICogMTAwMCksXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0YXNrLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgdGFzay5lcnJvciA9IHRydWU7XG4gICAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbW92ZUdyYWRlYm9va0Vycm9yKHRhc2s6IFRhc2spOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXJsID0gbW9kZWwudXJscy5yZW1vdmVGYWlsZWRHcmFkZWJvb2s7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKHsgdGFza19pZDogdGFzay5pZCB9LCBcInBvc3RcIik7XG5cbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgcmVxKTtcbiAgaWYgKHJlc3Aub2spIHtcbiAgICBtb2RlbC50YXNrcyA9IG1vZGVsLnRhc2tzLmZpbHRlcih0ID0+IHQuaWQgIT09IHRhc2suaWQpO1xuICB9XG4gIHVwZGF0ZU5vdGlmaWNhdGlvbnMoZ2V0Tm90aWZpY2F0aW9ucygpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRHcmFkZWJvb2sodGFzazogVGFzayk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBkYXRhID0ge1xuICAgIHRhc2tfaWQ6IHRhc2suaWQsXG4gIH07XG4gIGNvbnN0IHVybCA9IG1vZGVsLnVybHMuZG93bmxvYWRHcmFkZWJvb2s7XG4gIGNvbnN0IHJlcSA9IGJ1aWxkUmVxKGRhdGEsIFwicG9zdFwiKTtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgcmVxKTtcblxuICBpZiAocmVzcC5vaykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICBjb25zdCB0aXRsZSA9IGRhdGEuc3BsaXQoXCJcXG5cIilbMF07XG4gICAgY29uc3QgY3N2ID0gZGF0YVxuICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAuc2xpY2UoMSlcbiAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgIF9kb3dubG9hZEdyYWRlYm9vayh0aXRsZSwgY3N2KTtcbiAgICBtb2RlbC50YXNrcyA9IG1vZGVsLnRhc2tzLmZpbHRlcih0ID0+IHQuaWQgIT0gdGFzay5pZCk7XG4gICAgdXBkYXRlTm90aWZpY2F0aW9ucyhnZXROb3RpZmljYXRpb25zKCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kb3dubG9hZEdyYWRlYm9vayh0aXRsZTogc3RyaW5nLCBjc3Y6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGEuaHJlZiA9IGBkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsICR7ZXNjYXBlKGNzdil9YDtcbiAgYS50YXJnZXQgPSBcIl9ibGFua1wiO1xuICBhLmRvd25sb2FkID0gdGl0bGU7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gIGEuY2xpY2soKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucygpOiBBcnJheTxOb3RpZmljYXRpb24+IHtcbiAgcmV0dXJuIG1vZGVsLnRhc2tzLm1hcCh0YXNrID0+ICh7XG4gICAgdGV4dDogdGFzay5jb21wbGV0ZWRcbiAgICAgID8gdGFzay5lcnJvclxuICAgICAgICA/IGBUaGVyZSB3YXMgYW4gZXJyb3IgY3JlYXRpbmcgdGhlIGdyYWRlYm9vayBmb3IgJHt0YXNrLmRlc2NyaXB0aW9ufS5gXG4gICAgICAgIDogYFRoZSBncmFkZWJvb2sgZm9yICR7dGFzay5kZXNjcmlwdGlvbn0gaXMgcmVhZHkuYFxuICAgICAgOiBgQ29tcHV0aW5nIHRoZSBncmFkZWJvb2sgZm9yICR7dGFzay5kZXNjcmlwdGlvbn0uLi5gLFxuICAgIGluUHJvZ3Jlc3M6ICF0YXNrLmNvbXBsZXRlZCxcbiAgICBlcnJvcjogdGFzay5lcnJvcixcbiAgICBvbkNsaWNrOlxuICAgICAgdGFzay5jb21wbGV0ZWQgJiYgIXRhc2suZXJyb3JcbiAgICAgICAgPyBhc3luYyAoKSA9PiBhd2FpdCBkb3dubG9hZEdyYWRlYm9vayh0YXNrKVxuICAgICAgICA6IGFzeW5jICgpID0+IHVuZGVmaW5lZCxcbiAgICBvbkNsb3NlQ2xpY2s6IGFzeW5jICgpID0+IGF3YWl0IHJlbW92ZUdyYWRlYm9va0Vycm9yKHRhc2spLFxuICB9KSk7XG59XG5cbi8qKioqKioqKi9cbi8qIHZpZXcgKi9cbi8qKioqKioqKi9cblxuLyoqKioqKioqKioqKiovXG4vKiBsaXN0ZW5lcnMgKi9cbi8qKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBpbml0TGlzdGVuZXJzKCk6IHZvaWQge1xuICBhZGRHcmFkZWJvb2tMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gYWRkR3JhZGVib29rTGlzdGVuZXJzKCk6IHZvaWQge1xuICBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyYWRlYm9vay1idXR0b25cIildLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xpY2tcIixcbiAgICAgIGFzeW5jIChldmVudDogTW91c2VFdmVudCkgPT4gYXdhaXQgcmVxdWVzdEdyYWRlYm9vayhldmVudCksXG4gICAgKTtcbiAgfSk7XG59XG5cbi8qKioqKioqKi9cbi8qIGluaXQgKi9cbi8qKioqKioqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQodXJsczoge1xuICByZXF1ZXN0R3JhZGVib29rOiBzdHJpbmcsXG4gIGdyYWRlYm9va1Jlc3VsdDogc3RyaW5nLFxuICByZW1vdmVGYWlsZWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgZG93bmxvYWRHcmFkZWJvb2s6IHN0cmluZyxcbiAgdGFza3M6IHN0cmluZyxcbn0pOiB2b2lkIHtcbiAgaW5pdE1vZGVsKHVybHMpO1xuICB1cGRhdGUoKTtcbiAgaW5pdExpc3RlbmVycygpO1xufVxuIiwiLy8gQGZsb3dcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnQgeyBpbml0IGFzIGluaXROb3RpZmljYXRpb25zIH0gZnJvbSBcIi4vX3RlYWNoZXIvbm90aWZpY2F0aW9ucy5qc1wiO1xuZXhwb3J0IHsgaW5pdCBhcyBpbml0R3JhZGVib29rcyB9IGZyb20gXCIuL190ZWFjaGVyL2dyYWRlYm9va3MuanNcIjtcbiJdLCJuYW1lcyI6WyJjbGVhciIsIm5vZGUiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJjcmVhdGVTdmciLCJuYW1lIiwidXNlU3ByaXRlIiwic3ZnIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJ1c2UiLCJzZXRBdHRyaWJ1dGVOUyIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0IiwiYXBwZW5kIiwibW9kZWwiLCJpbml0TW9kZWwiLCJub3RpZmljYXRpb25zT3BlbiIsIm5vdGlmaWNhdGlvbnMiLCJ0b2dnbGVOb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uc1ZpZXciLCJ1cGRhdGVOb3RpZmljYXRpb25zIiwidmlldyIsInF1ZXJ5U2VsZWN0b3IiLCJiYWRnZSIsIm5vdGlmaWNhdGlvbnNMaXN0IiwiY29tcGxldGVkTm90aWZpY2F0aW9ucyIsImZpbHRlciIsIm5vdGlmaWNhdGlvbiIsImluUHJvZ3Jlc3MiLCJsZW5ndGgiLCJ0ZXh0Q29udGVudCIsInRvU3RyaW5nIiwic3R5bGUiLCJkaXNwbGF5IiwibWFwIiwiYXBwZW5kQ2hpbGQiLCJub3RpZmljYXRpb25WaWV3Iiwibm9Ob3RpZmljYXRpb25WaWV3Iiwic29tZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25DbGljayIsInNwaW5uZXIiLCJpY29uIiwiZXJyb3IiLCJvbkNsb3NlQ2xpY2siLCJkZXNjcmlwdGlvbiIsInRleHQiLCJpbml0RXZlbnRMaXN0ZW5lcnMiLCJhZGROb3RpZmljYXRpb25zT3Blbkxpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJib2R5IiwiaW5pdCIsImdldENzcmZUb2tlbiIsImdldEVsZW1lbnRzQnlOYW1lIiwiZ2V0QXR0cmlidXRlIiwiYnVpbGRSZXEiLCJkYXRhIiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJDSEVDS19FVkVSWSIsInVybHMiLCJ0YXNrcyIsInJlcXVlc3RHcmFkZWJvb2siLCJncmFkZWJvb2tSZXN1bHQiLCJyZW1vdmVGYWlsZWRHcmFkZWJvb2siLCJkb3dubG9hZEdyYWRlYm9vayIsInVwZGF0ZSIsImdldFRhc2tzIiwidXJsIiwicmVxIiwiZmV0Y2giLCJ0aGVuIiwicmVzcCIsImpzb24iLCJpbml0VGFza3MiLCJ0YXNrIiwiaWQiLCJjb21wbGV0ZWQiLCJkYXRldGltZSIsIkRhdGUiLCJzb3J0IiwiYSIsImIiLCJnZXROb3RpZmljYXRpb25zIiwiUHJvbWlzZSIsImFsbCIsImdldEdyYWRlYm9va1Jlc3VsdCIsImJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJncm91cElkIiwiYXNzaWdubWVudElkIiwiZ3JvdXBfaWQiLCJhc3NpZ25tZW50X2lkIiwic3RhdHVzIiwidGl0bGUiLCJzcGxpdCIsImNzdiIsInNsaWNlIiwiam9pbiIsIl9kb3dubG9hZEdyYWRlYm9vayIsInVuc2hpZnQiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImxvZyIsInRhc2tfaWQiLCJyZXNvbHZlIiwicmVtb3ZlR3JhZGVib29rRXJyb3IiLCJvayIsInQiLCJocmVmIiwiZXNjYXBlIiwidGFyZ2V0IiwiZG93bmxvYWQiLCJjbGljayIsInVuZGVmaW5lZCIsImluaXRMaXN0ZW5lcnMiLCJhZGRHcmFkZWJvb2tMaXN0ZW5lcnMiLCJnZXRFbGVtZW50c0J5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"}