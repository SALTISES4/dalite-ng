var bundle=function(e){"use strict";function t(e,t){return{method:t.toUpperCase(),body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFToken":document.getElementsByName("csrfmiddlewaretoken")[0].value}}}function n(e,n){var o=document.querySelector("#student-page-add-group--box input"),a=document.querySelector("#student-page-add-group--box select"),r=t(o.value?{username:n,group_link:o.value}:{username:n,group_name:a.value},"post");fetch(e,r).then(function(e){location.reload()}).catch(function(e){console.log(e)})}return e.toggleJoinGroup=function(){var e=document.getElementById("student-page-add-group--box");"none"==e.style.display?e.style.display="flex":e.style.display="none"},e.toggleLeaveGroup=function(e){var t=e.currentTarget,n=void 0;"none"==(n="BUTTON"==t.tagName?t.parentNode.parentNode:t.classList.contains("student-group--remove-confirmation-box")?t:t.nextSibling).style.display?n.style.display="flex":n.style.display="none"},e.joinGroup=n,e.leaveGroup=function(e,n,o,a){var r=e.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode,i=t({username:o,group_name:a},"post");fetch(n,i).then(function(e){e.ok?r.parentNode.removeChild(r):console.log(e)}).catch(function(e){return console.log(e)})},e.toggleGroupNotifications=function(e,n,o,a){var r=e.currentTarget,i=t({username:o,group_name:a},"post");fetch(n,i).then(function(e){return e.json()}).then(function(e){e.notifications?(r.textContent="notifications",r.classList.remove("student-group--notifications__disabled")):(r.textContent="notifications_off",r.classList.add("student-group--notifications__disabled"))}).catch(function(e){console.log(e)})},e.handleJoinGroupLinkInput=function(e,t,o){var a,r;"Enter"===e.key?(n(t,o),e.currentTarget.value=""):(a=document.querySelector("#student-page-add-group--box input"),r=document.querySelector("#student-page-add-group--box select"),a.value?r.disabled=!0:r.disabled=!1)},e.removeNotification=function(e,n,o,a){var r=e.currentTarget,i=t({notification_pk:o},"post");fetch(n,i).then(function(e){e.ok?a?window.location=a:r.parentNode.removeChild(r):console.log(e)}).catch(function(e){return console.log(e)})},e}({});
