var bundle=function(e){"use strict";function n(e,n){return{method:n.toUpperCase(),body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-CSRFToken":(t="csrftoken",document.cookie&&""!==document.cookie?document.cookie.split(";").filter(function(e){return e.replace(/^\s+/,"").replace(/\s*$/,"").substring(0,t.length+1)===t+"="}).map(function(e){return decodeURIComponent(e.substring(t.length+1))})[0]:null)}};var t}function t(e,t){var o=document.querySelector("#student-page-add-group--box input"),r=document.querySelector("#student-page-add-group--box select"),a=n(o.value?{username:t,group_link:o.value}:{username:t,group_name:r.value},"post");fetch(e,a).then(function(e){location.reload()}).catch(function(e){console.log(e)})}return e.toggleJoinGroup=function(){var e=document.getElementById("student-page-add-group--box");"none"==e.style.display?e.style.display="flex":e.style.display="none"},e.toggleLeaveGroup=function(e){var n=e.currentTarget,t=void 0;"none"==(t="BUTTON"==n.tagName?n.parentNode.parentNode:n.classList.contains("student-group--remove-confirmation-box")?n:n.nextSibling).style.display?t.style.display="flex":t.style.display="none"},e.joinGroup=t,e.leaveGroup=function(e,t,o,r){var a=e.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode,i=n({username:o,group_name:r},"post");fetch(t,i).then(function(e){e.ok?a.parentNode.removeChild(a):console.log(e)}).catch(function(e){return console.log(e)})},e.toggleGroupNotifications=function(e,t,o,r){var a=e.currentTarget,i=n({username:o,group_name:r},"post");fetch(t,i).then(function(e){return e.json()}).then(function(e){e.notifications?(a.textContent="notifications",a.classList.remove("student-group--notifications__disabled")):(a.textContent="notifications_off",a.classList.add("student-group--notifications__disabled"))}).catch(function(e){console.log(e)})},e.handleJoinGroupLinkInput=function(e,n,o){var r,a;"Enter"===e.key?(t(n,o),e.currentTarget.value=""):(r=document.querySelector("#student-page-add-group--box input"),a=document.querySelector("#student-page-add-group--box select"),r.value?a.disabled=!0:a.disabled=!1)},e.removeNotification=function(e,t,o,r){var a=e.currentTarget,i=n({notification_pk:o},"post");fetch(t,i).then(function(e){e.ok?r?window.location=r:a.parentNode.removeChild(a):console.log(e)}).catch(function(e){return console.log(e)})},e}({});
