{% extends 'peerinst/base.html' %}

{% load staticfiles i18n compress %}

{% block stylesheets %}
  {% compress css %}
    <link rel="stylesheet" href="{% static 'tos/css/styles.min.css' %}"></link>
  {% endcompress %}
{% endblock %}

{% block body %}
  <main>
    <section class='mdc-typography'>
      <h1 class="mdc-typography--display3">{% trans 'Terms of Service' %}
        <svg class="underline" width=150 height=4></svg>
      </h1>

      <form id="tos-container" action="{% url 'tos:update' role version %}" method="post">
        {% csrf_token %}

        {% if role == "student" %}
        <p>
          {% blocktrans %}
          Would you be willing to share your answers so that other students may
          learn from them? They will be kept anonymous and you may change your mind
          at any time.
          {% endblocktrans %}
        </p>
        {% elif role == "teacher" %}
        <p>
          {% blocktrans %}
          Would you be willing to share your questions so that other teachers may
          benefit from them? You can author new questions if you agree to share,
          otherwise you are free to use existing questions.
          {% endblocktrans %}
        </p>
        {% endif %}

        <div id="tos-text">{{ tos_text|safe }}</div>

        {% if current %}
        <div id="tos-version">Version: {{ version }} (current)</div>
        {% else %}
        <div id="tos-version">Version: {{ version }}</div>
        {% endif %}

        <button type="submit" name="accepted" value="true" id="tos-accept" class="mdc-button mdc-button--raised">
          <i class="material-icons mdc-button__icon" aria-hidden="true">done</i>
          {% trans 'Share' %}
        </button>

        <button type="submit" name="accepted" value="false" id="tos-refuse" class="mdc-button mdc-button--raised">
          <i class="material-icons mdc-button__icon" aria-hidden="true">clear</i>
          {% trans 'Refuse' %}
        </button>

        <input type="hidden" name="redirect_to" value="{{ redirect_to }}"></input>

      </form>
    </section>
  </main>
{% endblock %}

{% block scripts %}
  <script src="{% static 'tos/js/scripts.min.js' %}" type="text/javascript"></script>
{% endblock %}
