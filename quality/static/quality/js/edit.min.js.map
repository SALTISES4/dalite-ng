{"version":3,"file":"edit.min.js","sources":["quality/static/quality/js/_edit/index.js","quality/static/quality/js/edit.js"],"sourcesContent":["\"use strict\";\n\n/*********/\n/* model */\n/*********/\n\nlet model;\n\nfunction initModel(data) {\n  model = {\n    qualityType: data.quality_type,\n    next: data.next,\n    available: data.available.map(c => ({\n      name: c.name,\n      fullName: c.full_name,\n      description: c.description,\n    })),\n  };\n}\n\n/**********/\n/* update */\n/**********/\n\nfunction addCriterion(criterion) {}\n\n/********/\n/* view */\n/********/\n\nfunction view() {\n  returnLinkView();\n  newCriterionsView();\n}\n\nfunction returnLinkView() {\n  const link = document.querySelector(\"#back-link\");\n  if (model.next) {\n    link.href = model.next;\n    link.textContent = `Back to ${model.qualityType}`;\n  } else {\n    link.parentNode.removeChild(link);\n  }\n}\n\nfunction newCriterionsView() {\n  const ul = document.querySelector(\".available-criterions ul\");\n  model.available.forEach(criterion => {\n    ul.appendChild(newCriterionView(criterion));\n  });\n}\n\nfunction newCriterionView(criterion) {\n  const li = document.createElement(\"li\");\n  li.title = criterion.description;\n  li.textContent = criterion.fullName;\n  li.addEventListener(\"click\", addCriterion(criterion.name));\n  return li;\n}\n\nfunction toggleShowAddCriterion(event) {\n  const div = event.currentTarget.parentNode;\n  if (div.classList.contains(\"add-criterion__showing\")) {\n    div.classList.remove(\"add-criterion__showing\");\n  } else {\n    div.classList.add(\"add-criterion__showing\");\n  }\n}\n\n/*************/\n/* listeners */\n/*************/\n\nfunction initEventListeners() {\n  initAddCriterionListeners();\n}\n\nfunction initAddCriterionListeners() {\n  document\n    .querySelector(\".add-criterion button\")\n    .addEventListener(\"click\", toggleShowAddCriterion);\n  document.querySelectorAll(\".add-criterion li\").forEach(elem => {\n    elem.addEventListener(\"click\", () => addCriterion(elem));\n  });\n}\n\n/********/\n/* init */\n/********/\n\nexport function init(data) {\n  initModel(data);\n  view();\n  initEventListeners();\n}\n","\"use strict\";\n\nexport { init } from \"./_edit/index.js\";\n"],"names":["model","initModel","data","qualityType","quality_type","next","available","map","c","name","fullName","full_name","description","addCriterion","criterion","view","returnLinkView","newCriterionsView","link","document","querySelector","href","textContent","parentNode","removeChild","ul","forEach","appendChild","newCriterionView","li","createElement","title","addEventListener","toggleShowAddCriterion","event","div","currentTarget","classList","contains","remove","add","initEventListeners","initAddCriterionListeners","querySelectorAll","elem","init"],"mappings":";;;AAAA;;;;;;;AAMA,IAAIA,KAAJ;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;EACvBF,KAAK,GAAG;IACNG,WAAW,EAAED,IAAI,CAACE,YADZ;IAENC,IAAI,EAAEH,IAAI,CAACG,IAFL;IAGNC,SAAS,EAAEJ,IAAI,CAACI,SAAL,CAAeC,GAAf,CAAmB,UAAAC,CAAC;aAAK;QAClCC,IAAI,EAAED,CAAC,CAACC,IAD0B;QAElCC,QAAQ,EAAEF,CAAC,CAACG,SAFsB;QAGlCC,WAAW,EAAEJ,CAAC,CAACI;OAHc;KAApB;GAHb;;;;;;;;;AAeF,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;;;;;;;;AAMjC,SAASC,IAAT,GAAgB;EACdC,cAAc;EACdC,iBAAiB;;;AAGnB,SAASD,cAAT,GAA0B;MAClBE,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAb;;MACIpB,KAAK,CAACK,IAAV,EAAgB;IACda,IAAI,CAACG,IAAL,GAAYrB,KAAK,CAACK,IAAlB;IACAa,IAAI,CAACI,WAAL,qBAA8BtB,KAAK,CAACG,WAApC;GAFF,MAGO;IACLe,IAAI,CAACK,UAAL,CAAgBC,WAAhB,CAA4BN,IAA5B;;;;AAIJ,SAASD,iBAAT,GAA6B;MACrBQ,EAAE,GAAGN,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,CAAX;EACApB,KAAK,CAACM,SAAN,CAAgBoB,OAAhB,CAAwB,UAAAZ,SAAS,EAAI;IACnCW,EAAE,CAACE,WAAH,CAAeC,gBAAgB,CAACd,SAAD,CAA/B;GADF;;;AAKF,SAASc,gBAAT,CAA0Bd,SAA1B,EAAqC;MAC7Be,EAAE,GAAGV,QAAQ,CAACW,aAAT,CAAuB,IAAvB,CAAX;EACAD,EAAE,CAACE,KAAH,GAAWjB,SAAS,CAACF,WAArB;EACAiB,EAAE,CAACP,WAAH,GAAiBR,SAAS,CAACJ,QAA3B;EACAmB,EAAE,CAACG,gBAAH,CAAoB,OAApB,EAA6BnB,YAAY,CAACC,SAAS,CAACL,IAAX,CAAzC;SACOoB,EAAP;;;AAGF,SAASI,sBAAT,CAAgCC,KAAhC,EAAuC;MAC/BC,GAAG,GAAGD,KAAK,CAACE,aAAN,CAAoBb,UAAhC;;MACIY,GAAG,CAACE,SAAJ,CAAcC,QAAd,CAAuB,wBAAvB,CAAJ,EAAsD;IACpDH,GAAG,CAACE,SAAJ,CAAcE,MAAd,CAAqB,wBAArB;GADF,MAEO;IACLJ,GAAG,CAACE,SAAJ,CAAcG,GAAd,CAAkB,wBAAlB;;;;;;;;;;AAQJ,SAASC,kBAAT,GAA8B;EAC5BC,yBAAyB;;;AAG3B,SAASA,yBAAT,GAAqC;EACnCvB,QAAQ,CACLC,aADH,CACiB,uBADjB,EAEGY,gBAFH,CAEoB,OAFpB,EAE6BC,sBAF7B;EAGAd,QAAQ,CAACwB,gBAAT,CAA0B,mBAA1B,EAA+CjB,OAA/C,CAAuD,UAAAkB,IAAI,EAAI;IAC7DA,IAAI,CAACZ,gBAAL,CAAsB,OAAtB,EAA+B;aAAMnB,YAAY,CAAC+B,IAAD,CAAlB;KAA/B;GADF;;;;;;;;;AASF,AAAO,SAASC,IAAT,CAAc3C,IAAd,EAAoB;EACzBD,SAAS,CAACC,IAAD,CAAT;EACAa,IAAI;EACJ0B,kBAAkB;;;AC7FpB;;;;;;;;;;","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3F1YWxpdHkvc3RhdGljL3F1YWxpdHkvanMvX2VkaXQvaW5kZXguanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9xdWFsaXR5L3N0YXRpYy9xdWFsaXR5L2pzL2VkaXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKioqKioqKiovXG4vKiBtb2RlbCAqL1xuLyoqKioqKioqKi9cblxubGV0IG1vZGVsO1xuXG5mdW5jdGlvbiBpbml0TW9kZWwoZGF0YSkge1xuICBtb2RlbCA9IHtcbiAgICBxdWFsaXR5VHlwZTogZGF0YS5xdWFsaXR5X3R5cGUsXG4gICAgbmV4dDogZGF0YS5uZXh0LFxuICAgIGF2YWlsYWJsZTogZGF0YS5hdmFpbGFibGUubWFwKGMgPT4gKHtcbiAgICAgIG5hbWU6IGMubmFtZSxcbiAgICAgIGZ1bGxOYW1lOiBjLmZ1bGxfbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBjLmRlc2NyaXB0aW9uLFxuICAgIH0pKSxcbiAgfTtcbn1cblxuLyoqKioqKioqKiovXG4vKiB1cGRhdGUgKi9cbi8qKioqKioqKioqL1xuXG5mdW5jdGlvbiBhZGRDcml0ZXJpb24oY3JpdGVyaW9uKSB7fVxuXG4vKioqKioqKiovXG4vKiB2aWV3ICovXG4vKioqKioqKiovXG5cbmZ1bmN0aW9uIHZpZXcoKSB7XG4gIHJldHVybkxpbmtWaWV3KCk7XG4gIG5ld0NyaXRlcmlvbnNWaWV3KCk7XG59XG5cbmZ1bmN0aW9uIHJldHVybkxpbmtWaWV3KCkge1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNiYWNrLWxpbmtcIik7XG4gIGlmIChtb2RlbC5uZXh0KSB7XG4gICAgbGluay5ocmVmID0gbW9kZWwubmV4dDtcbiAgICBsaW5rLnRleHRDb250ZW50ID0gYEJhY2sgdG8gJHttb2RlbC5xdWFsaXR5VHlwZX1gO1xuICB9IGVsc2Uge1xuICAgIGxpbmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBuZXdDcml0ZXJpb25zVmlldygpIHtcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YWlsYWJsZS1jcml0ZXJpb25zIHVsXCIpO1xuICBtb2RlbC5hdmFpbGFibGUuZm9yRWFjaChjcml0ZXJpb24gPT4ge1xuICAgIHVsLmFwcGVuZENoaWxkKG5ld0NyaXRlcmlvblZpZXcoY3JpdGVyaW9uKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZXdDcml0ZXJpb25WaWV3KGNyaXRlcmlvbikge1xuICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgbGkudGl0bGUgPSBjcml0ZXJpb24uZGVzY3JpcHRpb247XG4gIGxpLnRleHRDb250ZW50ID0gY3JpdGVyaW9uLmZ1bGxOYW1lO1xuICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkQ3JpdGVyaW9uKGNyaXRlcmlvbi5uYW1lKSk7XG4gIHJldHVybiBsaTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlU2hvd0FkZENyaXRlcmlvbihldmVudCkge1xuICBjb25zdCBkaXYgPSBldmVudC5jdXJyZW50VGFyZ2V0LnBhcmVudE5vZGU7XG4gIGlmIChkaXYuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWRkLWNyaXRlcmlvbl9fc2hvd2luZ1wiKSkge1xuICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiYWRkLWNyaXRlcmlvbl9fc2hvd2luZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZChcImFkZC1jcml0ZXJpb25fX3Nob3dpbmdcIik7XG4gIH1cbn1cblxuLyoqKioqKioqKioqKiovXG4vKiBsaXN0ZW5lcnMgKi9cbi8qKioqKioqKioqKioqL1xuXG5mdW5jdGlvbiBpbml0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGluaXRBZGRDcml0ZXJpb25MaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gaW5pdEFkZENyaXRlcmlvbkxpc3RlbmVycygpIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcihcIi5hZGQtY3JpdGVyaW9uIGJ1dHRvblwiKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlU2hvd0FkZENyaXRlcmlvbik7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWRkLWNyaXRlcmlvbiBsaVwiKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGFkZENyaXRlcmlvbihlbGVtKSk7XG4gIH0pO1xufVxuXG4vKioqKioqKiovXG4vKiBpbml0ICovXG4vKioqKioqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KGRhdGEpIHtcbiAgaW5pdE1vZGVsKGRhdGEpO1xuICB2aWV3KCk7XG4gIGluaXRFdmVudExpc3RlbmVycygpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCB7IGluaXQgfSBmcm9tIFwiLi9fZWRpdC9pbmRleC5qc1wiO1xuIl0sIm5hbWVzIjpbIm1vZGVsIiwiaW5pdE1vZGVsIiwiZGF0YSIsInF1YWxpdHlUeXBlIiwicXVhbGl0eV90eXBlIiwibmV4dCIsImF2YWlsYWJsZSIsIm1hcCIsImMiLCJuYW1lIiwiZnVsbE5hbWUiLCJmdWxsX25hbWUiLCJkZXNjcmlwdGlvbiIsImFkZENyaXRlcmlvbiIsImNyaXRlcmlvbiIsInZpZXciLCJyZXR1cm5MaW5rVmlldyIsIm5ld0NyaXRlcmlvbnNWaWV3IiwibGluayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhyZWYiLCJ0ZXh0Q29udGVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInVsIiwiZm9yRWFjaCIsImFwcGVuZENoaWxkIiwibmV3Q3JpdGVyaW9uVmlldyIsImxpIiwiY3JlYXRlRWxlbWVudCIsInRpdGxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZVNob3dBZGRDcml0ZXJpb24iLCJldmVudCIsImRpdiIsImN1cnJlbnRUYXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImFkZCIsImluaXRFdmVudExpc3RlbmVycyIsImluaXRBZGRDcml0ZXJpb25MaXN0ZW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbSIsImluaXQiXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7Ozs7O0FBTUEsSUFBSUEsS0FBSjs7QUFFQSxTQUFTQyxTQUFULENBQW1CQyxJQUFuQixFQUF5QjtFQUN2QkYsS0FBSyxHQUFHO0lBQ05HLFdBQVcsRUFBRUQsSUFBSSxDQUFDRSxZQURaO0lBRU5DLElBQUksRUFBRUgsSUFBSSxDQUFDRyxJQUZMO0lBR05DLFNBQVMsRUFBRUosSUFBSSxDQUFDSSxTQUFMLENBQWVDLEdBQWYsQ0FBbUIsVUFBQUMsQ0FBQzthQUFLO1FBQ2xDQyxJQUFJLEVBQUVELENBQUMsQ0FBQ0MsSUFEMEI7UUFFbENDLFFBQVEsRUFBRUYsQ0FBQyxDQUFDRyxTQUZzQjtRQUdsQ0MsV0FBVyxFQUFFSixDQUFDLENBQUNJO09BSGM7S0FBcEI7R0FIYjs7Ozs7Ozs7O0FBZUYsU0FBU0MsWUFBVCxDQUFzQkMsU0FBdEIsRUFBaUM7Ozs7Ozs7O0FBTWpDLFNBQVNDLElBQVQsR0FBZ0I7RUFDZEMsY0FBYztFQUNkQyxpQkFBaUI7OztBQUduQixTQUFTRCxjQUFULEdBQTBCO01BQ2xCRSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixZQUF2QixDQUFiOztNQUNJcEIsS0FBSyxDQUFDSyxJQUFWLEVBQWdCO0lBQ2RhLElBQUksQ0FBQ0csSUFBTCxHQUFZckIsS0FBSyxDQUFDSyxJQUFsQjtJQUNBYSxJQUFJLENBQUNJLFdBQUwscUJBQThCdEIsS0FBSyxDQUFDRyxXQUFwQztHQUZGLE1BR087SUFDTGUsSUFBSSxDQUFDSyxVQUFMLENBQWdCQyxXQUFoQixDQUE0Qk4sSUFBNUI7Ozs7QUFJSixTQUFTRCxpQkFBVCxHQUE2QjtNQUNyQlEsRUFBRSxHQUFHTixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsMEJBQXZCLENBQVg7RUFDQXBCLEtBQUssQ0FBQ00sU0FBTixDQUFnQm9CLE9BQWhCLENBQXdCLFVBQUFaLFNBQVMsRUFBSTtJQUNuQ1csRUFBRSxDQUFDRSxXQUFILENBQWVDLGdCQUFnQixDQUFDZCxTQUFELENBQS9CO0dBREY7OztBQUtGLFNBQVNjLGdCQUFULENBQTBCZCxTQUExQixFQUFxQztNQUM3QmUsRUFBRSxHQUFHVixRQUFRLENBQUNXLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBWDtFQUNBRCxFQUFFLENBQUNFLEtBQUgsR0FBV2pCLFNBQVMsQ0FBQ0YsV0FBckI7RUFDQWlCLEVBQUUsQ0FBQ1AsV0FBSCxHQUFpQlIsU0FBUyxDQUFDSixRQUEzQjtFQUNBbUIsRUFBRSxDQUFDRyxnQkFBSCxDQUFvQixPQUFwQixFQUE2Qm5CLFlBQVksQ0FBQ0MsU0FBUyxDQUFDTCxJQUFYLENBQXpDO1NBQ09vQixFQUFQOzs7QUFHRixTQUFTSSxzQkFBVCxDQUFnQ0MsS0FBaEMsRUFBdUM7TUFDL0JDLEdBQUcsR0FBR0QsS0FBSyxDQUFDRSxhQUFOLENBQW9CYixVQUFoQzs7TUFDSVksR0FBRyxDQUFDRSxTQUFKLENBQWNDLFFBQWQsQ0FBdUIsd0JBQXZCLENBQUosRUFBc0Q7SUFDcERILEdBQUcsQ0FBQ0UsU0FBSixDQUFjRSxNQUFkLENBQXFCLHdCQUFyQjtHQURGLE1BRU87SUFDTEosR0FBRyxDQUFDRSxTQUFKLENBQWNHLEdBQWQsQ0FBa0Isd0JBQWxCOzs7Ozs7Ozs7O0FBUUosU0FBU0Msa0JBQVQsR0FBOEI7RUFDNUJDLHlCQUF5Qjs7O0FBRzNCLFNBQVNBLHlCQUFULEdBQXFDO0VBQ25DdkIsUUFBUSxDQUNMQyxhQURILENBQ2lCLHVCQURqQixFQUVHWSxnQkFGSCxDQUVvQixPQUZwQixFQUU2QkMsc0JBRjdCO0VBR0FkLFFBQVEsQ0FBQ3dCLGdCQUFULENBQTBCLG1CQUExQixFQUErQ2pCLE9BQS9DLENBQXVELFVBQUFrQixJQUFJLEVBQUk7SUFDN0RBLElBQUksQ0FBQ1osZ0JBQUwsQ0FBc0IsT0FBdEIsRUFBK0I7YUFBTW5CLFlBQVksQ0FBQytCLElBQUQsQ0FBbEI7S0FBL0I7R0FERjs7Ozs7Ozs7O0FBU0YsQUFBTyxTQUFTQyxJQUFULENBQWMzQyxJQUFkLEVBQW9CO0VBQ3pCRCxTQUFTLENBQUNDLElBQUQsQ0FBVDtFQUNBYSxJQUFJO0VBQ0owQixrQkFBa0I7OztBQzdGcEI7Ozs7Ozs7Ozs7In0="}