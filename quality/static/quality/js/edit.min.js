var edit = (function (exports) {
'use strict';

"use strict";
/*********/

/* model */

/*********/

var model;

function initModel(data) {
  model = {
    qualityType: data.quality_type,
    next: data.next,
    available: data.available.map(function (c) {
      return {
        name: c.name,
        fullName: c.full_name,
        description: c.description
      };
    })
  };
}
/**********/

/* update */

/**********/


function addCriterion(criterion) {}
/********/

/* view */

/********/


function view() {
  returnLinkView();
  newCriterionsView();
}

function returnLinkView() {
  var link = document.querySelector("#back-link");

  if (model.next) {
    link.href = model.next;
    link.textContent = "Back to ".concat(model.qualityType);
  } else {
    link.parentNode.removeChild(link);
  }
}

function newCriterionsView() {
  var ul = document.querySelector(".available-criterions ul");
  model.available.forEach(function (criterion) {
    ul.appendChild(newCriterionView(criterion));
  });
}

function newCriterionView(criterion) {
  var li = document.createElement("li");
  li.title = criterion.description;
  li.textContent = criterion.fullName;
  li.addEventListener("click", addCriterion(criterion.name));
  return li;
}

function toggleShowAddCriterion(event) {
  var div = event.currentTarget.parentNode;

  if (div.classList.contains("add-criterion__showing")) {
    div.classList.remove("add-criterion__showing");
  } else {
    div.classList.add("add-criterion__showing");
  }
}
/*************/

/* listeners */

/*************/


function initEventListeners() {
  initAddCriterionListeners();
}

function initAddCriterionListeners() {
  document.querySelector(".add-criterion button").addEventListener("click", toggleShowAddCriterion);
  document.querySelectorAll(".add-criterion li").forEach(function (elem) {
    elem.addEventListener("click", function () {
      return addCriterion(elem);
    });
  });
}
/********/

/* init */

/********/


function init(data) {
  initModel(data);
  view();
  initEventListeners();
}

"use strict";

exports.init = init;

return exports;

}({}));
//# sourceMappingURL=edit.min.js.map
